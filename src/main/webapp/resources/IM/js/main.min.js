function QiniuJsSDK() {
    var a;
    a = "https:" === window.location.protocol ? "https://up.qbox.me": "http://upload.qiniu.com",
    this.detectIEVersion = function() {
        for (var a = 4,
        b = document.createElement("div"), c = b.getElementsByTagName("i"); b.innerHTML = "<!--[if gt IE " + a + "]><i></i><![endif]-->", c[0];) a++;
        return a > 4 ? a: !1
    },
    this.isImage = function(a) {
        var b, c = "",
        d = ["png", "jpg", "jpeg", "gif", "bmp"],
        e = /\.([a-zA-Z0-9]+)(\?|\@|$)/;
        if (!a || !e.test(a)) return ! 1;
        b = e.exec(a),
        c = b[1].toLowerCase();
        for (var f = 0,
        g = d.length; g > f; f++) if (c === d[f]) return ! 0;
        return ! 1
    },
    this.getFileExtension = function(a) {
        var b, c = a.split(".");
        return b = 1 === c.length || "" === c[0] && 2 === c.length ? "": c.pop().toLowerCase()
    },
    this.utf8_encode = function(a) {
        if (null === a || "undefined" == typeof a) return "";
        var b, c, d = a + "",
        e = "",
        f = 0;
        b = c = 0,
        f = d.length;
        for (var g = 0; f > g; g++) {
            var h = d.charCodeAt(g),
            i = null;
            if (128 > h) c++;
            else if (h > 127 && 2048 > h) i = String.fromCharCode(h >> 6 | 192, 63 & h | 128);
            else if (63488 & h ^ !0) i = String.fromCharCode(h >> 12 | 224, h >> 6 & 63 | 128, 63 & h | 128);
            else {
                if (64512 & h ^ !0) throw new RangeError("Unmatched trail surrogate at " + g);
                var j = d.charCodeAt(++g);
                if (64512 & j ^ !0) throw new RangeError("Unmatched lead surrogate at " + (g - 1));
                h = ((1023 & h) << 10) + (1023 & j) + 65536,
                i = String.fromCharCode(h >> 18 | 240, h >> 12 & 63 | 128, h >> 6 & 63 | 128, 63 & h | 128)
            }
            null !== i && (c > b && (e += d.slice(b, c)), e += i, b = c = g + 1)
        }
        return c > b && (e += d.slice(b, f)),
        e
    },
    this.base64_encode = function(a) {
        var b, c, d, e, f, g, h, i, j = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
        k = 0,
        l = 0,
        m = "",
        n = [];
        if (!a) return a;
        a = this.utf8_encode(a + "");
        do b = a.charCodeAt(k++),
        c = a.charCodeAt(k++),
        d = a.charCodeAt(k++),
        i = b << 16 | c << 8 | d,
        e = i >> 18 & 63,
        f = i >> 12 & 63,
        g = i >> 6 & 63,
        h = 63 & i,
        n[l++] = j.charAt(e) + j.charAt(f) + j.charAt(g) + j.charAt(h);
        while (k < a.length);
        switch (m = n.join(""), a.length % 3) {
        case 1:
            m = m.slice(0, -2) + "==";
            break;
        case 2:
            m = m.slice(0, -1) + "="
        }
        return m
    },
    this.URLSafeBase64Encode = function(a) {
        return a = this.base64_encode(a),
        a.replace(/\//g, "_").replace(/\+/g, "-")
    },
    this.createAjax = function(a) {
        var b = {};
        return b = window.XMLHttpRequest ? new XMLHttpRequest: new ActiveXObject("Microsoft.XMLHTTP")
    },
    this.parseJSON = function(a) {
        return window.JSON && window.JSON.parse ? window.JSON.parse(a) : null === a ? a: "string" == typeof a && (a = this.trim(a), a && /^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g, "@").replace(/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g, "]").replace(/(?:^|:|,)(?:\s*\[)+/g, ""))) ?
        function() {
            return a
        } () : void 0
    },
    this.trim = function(a) {
        return null === a ? "": a.replace(/^\s+|\s+$/g, "")
    };
    var b = this;
    this.uploader = function(c) {
        if (!c.domain) throw "uptoken_url or domain is required!";
        if (!c.browse_button) throw "browse_button is required!";
        var d = {},
        e = c.init && c.init.Error,
        f = c.init && c.init.FileUploaded;
        c.init.Error = function() {},
        c.init.FileUploaded = function() {},
        b.uptoken_url = c.uptoken_url,
        b.token = "",
        b.key_handler = "function" == typeof c.init.Key ? c.init.Key: "",
        this.domain = c.domain;
        var g = "",
        h = {
            isResumeUpload: !1,
            resumeFilesize: 0,
            startTime: "",
            currentTime: ""
        },
        i = function() {
            var a, d, e, f = b.detectIEVersion(),
            g = "Safari" === mOxie.Env.browser && mOxie.Env.version <= 5 && "Windows" === mOxie.Env.os && "7" === mOxie.Env.osVersion || "Safari" === mOxie.Env.browser && "iOS" === mOxie.Env.os && "7" === mOxie.Env.osVersion;
            f && 9 >= f && c.chunk_size && c.runtimes.indexOf("flash") >= 0 ? c.chunk_size = 0 : g ? c.chunk_size = 0 : (a = 20, d = 4 << a, e = plupload.parseSize(c.chunk_size), e > d && (c.chunk_size = d))
        };
        i();
        var j = function() {
            if (c.uptoken) b.token = c.uptoken;
            else {
                var a = b.createAjax();
                a.open("GET", b.uptoken_url, !0),
                a.onreadystatechange = function() {
                    if (4 === a.readyState && 200 === a.status) {
                        var c = b.parseJSON(a.responseText);
                        b.token = c.uptoken
                    }
                },
                a.send()
            }
        },
        k = function(a, d, e) {
            var f = "",
            g = !1;
            if (!c.save_key) if (g = a.getOption && a.getOption("unique_names"), g = g || a.settings && a.settings.unique_names) {
                var h = b.getFileExtension(d.name);
                f = h ? d.id + "." + h: d.id
            } else f = "function" == typeof e ? e(a, d) : d.name;
            return f
        };
        plupload.extend(d, c, {
            url: a,
            multipart_params: {
                token: ""
            }
        });
        var l = new plupload.Uploader(d);
        return l.bind("Init",
        function(a, b) {
            j()
        }),
        l.init(),
        l.bind("FilesAdded",
        function(a, b) {
            var c = a.getOption && a.getOption("auto_start");
            c = c || a.settings && a.settings.auto_start,
            c && plupload.each(b,
            function(b, c) {
                a.start()
            }),
            a.refresh()
        }),
        l.bind("BeforeUpload",
        function(d, e) {
            e.speed = e.speed || 0,
            g = "",
            c.get_new_uptoken && j();
            var f = function(d, e, f) {
                h.startTime = (new Date).getTime();
                var g;
                g = c.save_key ? {
                    token: b.token
                }: {
                    key: k(d, e, f),
                    token: b.token
                };
                var i = c.x_vars;
                if (void 0 !== i && "object" == typeof i) for (var j in i) i.hasOwnProperty(j) && ("function" == typeof i[j] ? g["x:" + j] = i[j](d, e) : "object" != typeof i[j] && (g["x:" + j] = i[j]));
                d.setOption({
                    url: a,
                    multipart: !0,
                    chunk_size: void 0,
                    multipart_params: g
                })
            },
            i = d.getOption && d.getOption("chunk_size");
            if (i = i || d.settings && d.settings.chunk_size, "html5" === l.runtime && i) if (e.size < i) f(d, e, b.key_handler);
            else {
                var m = localStorage.getItem(e.name),
                n = i;
                if (m) {
                    m = JSON.parse(m);
                    var o = (new Date).getTime(),
                    p = m.time || 0,
                    q = 864e5;
                    q > o - p && 100 !== m.percent && e.size === m.total ? (e.percent = m.percent, e.loaded = m.offset, g = m.ctx, h.isResumeUpload = !0, h.resumeFilesize = m.offset, m.offset + n > e.size && (n = e.size - m.offset)) : localStorage.removeItem(e.name)
                }
                h.startTime = (new Date).getTime(),
                d.setOption({
                    url: a + "/mkblk/" + n,
                    multipart: !1,
                    chunk_size: i,
                    required_features: "chunks",
                    headers: {
                        Authorization: "UpToken " + b.token
                    },
                    multipart_params: {}
                })
            } else f(d, e, b.key_handler)
        }),
        l.bind("UploadProgress",
        function(a, b) {
            h.currentTime = (new Date).getTime();
            var c = h.currentTime - h.startTime,
            d = b.loaded || 0;
            h.isResumeUpload && (d = b.loaded - h.resumeFilesize),
            b.speed = (d / c * 1e3).toFixed(0) || 0
        }),
        l.bind("ChunkUploaded",
        function(c, d, e) {
            var f = b.parseJSON(e.response);
            g = g ? g + "," + f.ctx: f.ctx;
            var h = e.total - e.offset,
            i = c.getOption && c.getOption("chunk_size");
            i = i || c.settings && c.settings.chunk_size,
            i > h && c.setOption({
                url: a + "/mkblk/" + h
            }),
            localStorage.setItem(d.name, JSON.stringify({
                ctx: g,
                percent: d.percent,
                total: e.total,
                offset: e.offset,
                time: (new Date).getTime()
            }))
        }),
        l.bind("Error",
        function(a) {
            return function(c, d) {
                var e = "",
                f = d.file;
                if (f) {
                    switch (d.code) {
                    case plupload.FAILED:
                        e = "上传失败。请稍后再试。";
                        break;
                    case plupload.FILE_SIZE_ERROR:
                        var g = c.getOption && c.getOption("max_file_size");
                        g = g || c.settings && c.settings.max_file_size,
                        e = "浏览器最大可上传" + g + "。更大文件请使用命令行工具。";
                        break;
                    case plupload.FILE_EXTENSION_ERROR:
                        e = "文件验证失败。请稍后重试。";
                        break;
                    case plupload.HTTP_ERROR:
                        if ("" === d.response) {
                            e = d.message || "未知网络错误。";
                            break
                        }
                        var h = b.parseJSON(d.response),
                        i = h.error;
                        switch (d.status) {
                        case 400:
                            e = "请求报文格式错误。";
                            break;
                        case 401:
                            e = "客户端认证授权失败。请重试或提交反馈。";
                            break;
                        case 405:
                            e = "客户端请求错误。请重试或提交反馈。";
                            break;
                        case 579:
                            e = "资源上传成功，但回调失败。";
                            break;
                        case 599:
                            e = "网络连接异常。请重试或提交反馈。";
                            break;
                        case 614:
                            e = "文件已存在。";
                            try {
                                h = b.parseJSON(h.error),
                                i = h.error || "file exists"
                            } catch(j) {
                                i = h.error || "file exists"
                            }
                            break;
                        case 631:
                            e = "指定空间不存在。";
                            break;
                        case 701:
                            e = "上传数据块校验出错。请重试或提交反馈。";
                            break;
                        default:
                            e = "未知错误。"
                        }
                        e = e + "(" + d.status + "：" + i + ")";
                        break;
                    case plupload.SECURITY_ERROR:
                        e = "安全配置错误。请联系网站管理员。";
                        break;
                    case plupload.GENERIC_ERROR:
                        e = "上传失败。请稍后再试。";
                        break;
                    case plupload.IO_ERROR:
                        e = "上传失败。请稍后再试。";
                        break;
                    case plupload.INIT_ERROR:
                        e = "网站配置错误。请联系网站管理员。",
                        l.destroy();
                        break;
                    default:
                        e = d.message + d.details
                    }
                    a && a(c, d, e)
                }
                c.refresh()
            }
        } (e)),
        l.bind("FileUploaded",
        function(d) {
            return function(e, f, h) {
                var i = function(a, e, f) {
                    if (c.downtoken_url) {
                        var g = b.createAjax();
                        g.open("POST", c.downtoken_url, !0),
                        g.setRequestHeader("Content-type", "application/x-www-form-urlencoded"),
                        g.onreadystatechange = function() {
                            if (4 === g.readyState) if (200 === g.status) {
                                var c;
                                try {
                                    c = b.parseJSON(g.responseText)
                                } catch(h) {
                                    throw "invalid json format"
                                }
                                var i = {};
                                plupload.extend(i, b.parseJSON(f), c),
                                d && d(a, e, JSON.stringify(i))
                            } else l.trigger("Error", {
                                status: g.status,
                                response: g.responseText,
                                file: e,
                                code: plupload.HTTP_ERROR
                            })
                        },
                        g.send("key=" + b.parseJSON(f).key + "&domain=" + c.domain)
                    } else d && d(a, e, f)
                };
                h.response = h.response.replace(/'/g, '"');
                var j = b.parseJSON(h.response);
                if (g = g ? g: j.ctx) {
                    var m = "";
                    c.save_key || (m = k(e, f, b.key_handler), m = m ? "/key/" + b.URLSafeBase64Encode(m) : "");
                    var n = "/fname/" + b.URLSafeBase64Encode(f.name),
                    o = c.x_vars,
                    p = "",
                    q = "";
                    if (void 0 !== o && "object" == typeof o) for (var r in o) o.hasOwnProperty(r) && ("function" == typeof o[r] ? p = b.URLSafeBase64Encode(o[r](e, f)) : "object" != typeof o[r] && (p = b.URLSafeBase64Encode(o[r])), q += "/x:" + r + "/" + p);
                    var s = a + "/mkfile/" + f.size + m + n + q,
                    t = b.createAjax();
                    t.open("POST", s, !0),
                    t.setRequestHeader("Content-Type", "text/plain;charset=UTF-8"),
                    t.setRequestHeader("Authorization", "UpToken " + b.token),
                    t.onreadystatechange = function() {
                        if (4 === t.readyState) if (localStorage.removeItem(f.name), 200 === t.status) {
                            var a = t.responseText;
                            i(e, f, a)
                        } else l.trigger("Error", {
                            status: t.status,
                            response: t.responseText,
                            file: f,
                            code: -200
                        })
                    },
                    t.send(g)
                } else i(e, f, h.response)
            }
        } (f)),
        l
    },
    this.getUrl = function(a) {
        if (!a) return ! 1;
        a = encodeURI(a);
        var b = this.domain;
        return "/" !== b.slice(b.length - 1) && (b += "/"),
        b + a
    },
    this.imageView2 = function(a, b) {
        var c = a.mode || "",
        d = a.w || "",
        e = a.h || "",
        f = a.q || "",
        g = a.format || "";
        if (!c) return ! 1;
        if (!d && !e) return ! 1;
        var h = "imageView2/" + c;
        return h += d ? "/w/" + d: "",
        h += e ? "/h/" + e: "",
        h += f ? "/q/" + f: "",
        h += g ? "/format/" + g: "",
        b && (h = this.getUrl(b) + "?" + h),
        h
    },
    this.imageMogr2 = function(a, b) {
        var c = a["auto-orient"] || "",
        d = a.thumbnail || "",
        e = a.strip || "",
        f = a.gravity || "",
        g = a.crop || "",
        h = a.quality || "",
        i = a.rotate || "",
        j = a.format || "",
        k = a.blur || "",
        l = "imageMogr2";
        return l += c ? "/auto-orient": "",
        l += d ? "/thumbnail/" + d: "",
        l += e ? "/strip": "",
        l += f ? "/gravity/" + f: "",
        l += h ? "/quality/" + h: "",
        l += g ? "/crop/" + g: "",
        l += i ? "/rotate/" + i: "",
        l += j ? "/format/" + j: "",
        l += k ? "/blur/" + k: "",
        b && (l = this.getUrl(b) + "?" + l),
        l
    },
    this.watermark = function(a, b) {
        var c = a.mode;
        if (!c) return ! 1;
        var d = "watermark/" + c;
        if (1 === c) {
            var e = a.image || "";
            if (!e) return ! 1;
            d += e ? "/image/" + this.URLSafeBase64Encode(e) : ""
        } else {
            if (2 !== c) return ! 1;
            var f = a.text ? a.text: "",
            g = a.font ? a.font: "",
            h = a.fontsize ? a.fontsize: "",
            i = a.fill ? a.fill: "";
            if (!f) return ! 1;
            d += f ? "/text/" + this.URLSafeBase64Encode(f) : "",
            d += g ? "/font/" + this.URLSafeBase64Encode(g) : "",
            d += h ? "/fontsize/" + h: "",
            d += i ? "/fill/" + this.URLSafeBase64Encode(i) : ""
        }
        var j = a.dissolve || "",
        k = a.gravity || "",
        l = a.dx || "",
        m = a.dy || "";
        return d += j ? "/dissolve/" + j: "",
        d += k ? "/gravity/" + k: "",
        d += l ? "/dx/" + l: "",
        d += m ? "/dy/" + m: "",
        b && (d = this.getUrl(b) + "?" + d),
        d
    },
    this.imageInfo = function(a) {
        if (!a) return ! 1;
        var b, c = this.getUrl(a) + "?imageInfo",
        d = this.createAjax(),
        e = this;
        return d.open("GET", c, !1),
        d.onreadystatechange = function() {
            4 === d.readyState && 200 === d.status && (b = e.parseJSON(d.responseText))
        },
        d.send(),
        b
    },
    this.exif = function(a) {
        if (!a) return ! 1;
        var b, c = this.getUrl(a) + "?exif",
        d = this.createAjax(),
        e = this;
        return d.open("GET", c, !1),
        d.onreadystatechange = function() {
            4 === d.readyState && 200 === d.status && (b = e.parseJSON(d.responseText))
        },
        d.send(),
        b
    },
    this.get = function(a, b) {
        return b && a ? "exif" === a ? this.exif(b) : "imageInfo" === a ? this.imageInfo(b) : !1 : !1
    },
    this.pipeline = function(a, b) {
        var c, d, e = "[object Array]" === Object.prototype.toString.call(a),
        f = "";
        if (e) {
            for (var g = 0,
            h = a.length; h > g; g++) {
                if (c = a[g], !c.fop) return ! 1;
                switch (c.fop) {
                case "watermark":
                    f += this.watermark(c) + "|";
                    break;
                case "imageView2":
                    f += this.imageView2(c) + "|";
                    break;
                case "imageMogr2":
                    f += this.imageMogr2(c) + "|";
                    break;
                default:
                    d = !0
                }
                if (d) return ! 1
            }
            if (b) {
                f = this.getUrl(b) + "?" + f;
                var i = f.length;
                "|" === f.slice(i - 1) && (f = f.slice(0, i - 1))
            }
            return f
        }
        return ! 1
    }
} !
function(a, b) {
    "object" == typeof module && "object" == typeof module.exports ? module.exports = a.document ? b(a, !0) : function(a) {
        if (!a.document) throw new Error("jQuery requires a window with a document");
        return b(a)
    }: b(a)
} ("undefined" != typeof window ? window: this,
function(a, b) {
    function c(a) {
        var b = !!a && "length" in a && a.length,
        c = fa.type(a);
        return "function" === c || fa.isWindow(a) ? !1 : "array" === c || 0 === b || "number" == typeof b && b > 0 && b - 1 in a
    }
    function d(a, b, c) {
        if (fa.isFunction(b)) return fa.grep(a,
        function(a, d) {
            return !! b.call(a, d, a) !== c
        });
        if (b.nodeType) return fa.grep(a,
        function(a) {
            return a === b !== c
        });
        if ("string" == typeof b) {
            if (pa.test(b)) return fa.filter(b, a, c);
            b = fa.filter(b, a)
        }
        return fa.grep(a,
        function(a) {
            return _.call(b, a) > -1 !== c
        })
    }
    function e(a, b) {
        for (; (a = a[b]) && 1 !== a.nodeType;);
        return a
    }
    function f(a) {
        var b = {};
        return fa.each(a.match(va) || [],
        function(a, c) {
            b[c] = !0
        }),
        b
    }
    function g() {
        X.removeEventListener("DOMContentLoaded", g),
        a.removeEventListener("load", g),
        fa.ready()
    }
    function h() {
        this.expando = fa.expando + h.uid++
    }
    function i(a, b, c) {
        var d;
        if (void 0 === c && 1 === a.nodeType) if (d = "data-" + b.replace(Ca, "-$&").toLowerCase(), c = a.getAttribute(d), "string" == typeof c) {
            try {
                c = "true" === c ? !0 : "false" === c ? !1 : "null" === c ? null: +c + "" === c ? +c: Ba.test(c) ? fa.parseJSON(c) : c
            } catch(e) {}
            Aa.set(a, b, c)
        } else c = void 0;
        return c
    }
    function j(a, b, c, d) {
        var e, f = 1,
        g = 20,
        h = d ?
        function() {
            return d.cur()
        }: function() {
            return fa.css(a, b, "")
        },
        i = h(),
        j = c && c[3] || (fa.cssNumber[b] ? "": "px"),
        k = (fa.cssNumber[b] || "px" !== j && +i) && Ea.exec(fa.css(a, b));
        if (k && k[3] !== j) {
            j = j || k[3],
            c = c || [],
            k = +i || 1;
            do f = f || ".5",
            k /= f,
            fa.style(a, b, k + j);
            while (f !== (f = h() / i) && 1 !== f && --g)
        }
        return c && (k = +k || +i || 0, e = c[1] ? k + (c[1] + 1) * c[2] : +c[2], d && (d.unit = j, d.start = k, d.end = e)),
        e
    }
    function k(a, b) {
        var c = "undefined" != typeof a.getElementsByTagName ? a.getElementsByTagName(b || "*") : "undefined" != typeof a.querySelectorAll ? a.querySelectorAll(b || "*") : [];
        return void 0 === b || b && fa.nodeName(a, b) ? fa.merge([a], c) : c
    }
    function l(a, b) {
        for (var c = 0,
        d = a.length; d > c; c++) za.set(a[c], "globalEval", !b || za.get(b[c], "globalEval"))
    }
    function m(a, b, c, d, e) {
        for (var f, g, h, i, j, m, n = b.createDocumentFragment(), o = [], p = 0, q = a.length; q > p; p++) if (f = a[p], f || 0 === f) if ("object" === fa.type(f)) fa.merge(o, f.nodeType ? [f] : f);
        else if (La.test(f)) {
            for (g = g || n.appendChild(b.createElement("div")), h = (Ia.exec(f) || ["", ""])[1].toLowerCase(), i = Ka[h] || Ka._default, g.innerHTML = i[1] + fa.htmlPrefilter(f) + i[2], m = i[0]; m--;) g = g.lastChild;
            fa.merge(o, g.childNodes),
            g = n.firstChild,
            g.textContent = ""
        } else o.push(b.createTextNode(f));
        for (n.textContent = "", p = 0; f = o[p++];) if (d && fa.inArray(f, d) > -1) e && e.push(f);
        else if (j = fa.contains(f.ownerDocument, f), g = k(n.appendChild(f), "script"), j && l(g), c) for (m = 0; f = g[m++];) Ja.test(f.type || "") && c.push(f);
        return n
    }
    function n() {
        return ! 0
    }
    function o() {
        return ! 1
    }
    function p() {
        try {
            return X.activeElement
        } catch(a) {}
    }
    function q(a, b, c, d, e, f) {
        var g, h;
        if ("object" == typeof b) {
            "string" != typeof c && (d = d || c, c = void 0);
            for (h in b) q(a, h, c, d, b[h], f);
            return a
        }
        if (null == d && null == e ? (e = c, d = c = void 0) : null == e && ("string" == typeof c ? (e = d, d = void 0) : (e = d, d = c, c = void 0)), e === !1) e = o;
        else if (!e) return a;
        return 1 === f && (g = e, e = function(a) {
            return fa().off(a),
            g.apply(this, arguments)
        },
        e.guid = g.guid || (g.guid = fa.guid++)),
        a.each(function() {
            fa.event.add(this, b, e, d, c)
        })
    }
    function r(a, b) {
        return fa.nodeName(a, "table") && fa.nodeName(11 !== b.nodeType ? b: b.firstChild, "tr") ? a.getElementsByTagName("tbody")[0] || a.appendChild(a.ownerDocument.createElement("tbody")) : a
    }
    function s(a) {
        return a.type = (null !== a.getAttribute("type")) + "/" + a.type,
        a
    }
    function t(a) {
        var b = Sa.exec(a.type);
        return b ? a.type = b[1] : a.removeAttribute("type"),
        a
    }
    function u(a, b) {
        var c, d, e, f, g, h, i, j;
        if (1 === b.nodeType) {
            if (za.hasData(a) && (f = za.access(a), g = za.set(b, f), j = f.events)) {
                delete g.handle,
                g.events = {};
                for (e in j) for (c = 0, d = j[e].length; d > c; c++) fa.event.add(b, e, j[e][c])
            }
            Aa.hasData(a) && (h = Aa.access(a), i = fa.extend({},
            h), Aa.set(b, i))
        }
    }
    function v(a, b) {
        var c = b.nodeName.toLowerCase();
        "input" === c && Ha.test(a.type) ? b.checked = a.checked: "input" !== c && "textarea" !== c || (b.defaultValue = a.defaultValue)
    }
    function w(a, b, c, d) {
        b = Z.apply([], b);
        var e, f, g, h, i, j, l = 0,
        n = a.length,
        o = n - 1,
        p = b[0],
        q = fa.isFunction(p);
        if (q || n > 1 && "string" == typeof p && !da.checkClone && Ra.test(p)) return a.each(function(e) {
            var f = a.eq(e);
            q && (b[0] = p.call(this, e, f.html())),
            w(f, b, c, d)
        });
        if (n && (e = m(b, a[0].ownerDocument, !1, a, d), f = e.firstChild, 1 === e.childNodes.length && (e = f), f || d)) {
            for (g = fa.map(k(e, "script"), s), h = g.length; n > l; l++) i = e,
            l !== o && (i = fa.clone(i, !0, !0), h && fa.merge(g, k(i, "script"))),
            c.call(a[l], i, l);
            if (h) for (j = g[g.length - 1].ownerDocument, fa.map(g, t), l = 0; h > l; l++) i = g[l],
            Ja.test(i.type || "") && !za.access(i, "globalEval") && fa.contains(j, i) && (i.src ? fa._evalUrl && fa._evalUrl(i.src) : fa.globalEval(i.textContent.replace(Ta, "")))
        }
        return a
    }
    function x(a, b, c) {
        for (var d, e = b ? fa.filter(b, a) : a, f = 0; null != (d = e[f]); f++) c || 1 !== d.nodeType || fa.cleanData(k(d)),
        d.parentNode && (c && fa.contains(d.ownerDocument, d) && l(k(d, "script")), d.parentNode.removeChild(d));
        return a
    }
    function y(a, b) {
        var c = fa(b.createElement(a)).appendTo(b.body),
        d = fa.css(c[0], "display");
        return c.detach(),
        d
    }
    function z(a) {
        var b = X,
        c = Va[a];
        return c || (c = y(a, b), "none" !== c && c || (Ua = (Ua || fa("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement), b = Ua[0].contentDocument, b.write(), b.close(), c = y(a, b), Ua.detach()), Va[a] = c),
        c
    }
    function A(a, b, c) {
        var d, e, f, g, h = a.style;
        return c = c || Ya(a),
        g = c ? c.getPropertyValue(b) || c[b] : void 0,
        "" !== g && void 0 !== g || fa.contains(a.ownerDocument, a) || (g = fa.style(a, b)),
        c && !da.pixelMarginRight() && Xa.test(g) && Wa.test(b) && (d = h.width, e = h.minWidth, f = h.maxWidth, h.minWidth = h.maxWidth = h.width = g, g = c.width, h.width = d, h.minWidth = e, h.maxWidth = f),
        void 0 !== g ? g + "": g
    }
    function B(a, b) {
        return {
            get: function() {
                return a() ? void delete this.get: (this.get = b).apply(this, arguments)
            }
        }
    }
    function C(a) {
        if (a in db) return a;
        for (var b = a[0].toUpperCase() + a.slice(1), c = cb.length; c--;) if (a = cb[c] + b, a in db) return a
    }
    function D(a, b, c) {
        var d = Ea.exec(b);
        return d ? Math.max(0, d[2] - (c || 0)) + (d[3] || "px") : b
    }
    function E(a, b, c, d, e) {
        for (var f = c === (d ? "border": "content") ? 4 : "width" === b ? 1 : 0, g = 0; 4 > f; f += 2)"margin" === c && (g += fa.css(a, c + Fa[f], !0, e)),
        d ? ("content" === c && (g -= fa.css(a, "padding" + Fa[f], !0, e)), "margin" !== c && (g -= fa.css(a, "border" + Fa[f] + "Width", !0, e))) : (g += fa.css(a, "padding" + Fa[f], !0, e), "padding" !== c && (g += fa.css(a, "border" + Fa[f] + "Width", !0, e)));
        return g
    }
    function F(b, c, d) {
        var e = !0,
        f = "width" === c ? b.offsetWidth: b.offsetHeight,
        g = Ya(b),
        h = "border-box" === fa.css(b, "boxSizing", !1, g);
        if (X.msFullscreenElement && a.top !== a && b.getClientRects().length && (f = Math.round(100 * b.getBoundingClientRect()[c])), 0 >= f || null == f) {
            if (f = A(b, c, g), (0 > f || null == f) && (f = b.style[c]), Xa.test(f)) return f;
            e = h && (da.boxSizingReliable() || f === b.style[c]),
            f = parseFloat(f) || 0
        }
        return f + E(b, c, d || (h ? "border": "content"), e, g) + "px"
    }
    function G(a, b) {
        for (var c, d, e, f = [], g = 0, h = a.length; h > g; g++) d = a[g],
        d.style && (f[g] = za.get(d, "olddisplay"), c = d.style.display, b ? (f[g] || "none" !== c || (d.style.display = ""), "" === d.style.display && Ga(d) && (f[g] = za.access(d, "olddisplay", z(d.nodeName)))) : (e = Ga(d), "none" === c && e || za.set(d, "olddisplay", e ? c: fa.css(d, "display"))));
        for (g = 0; h > g; g++) d = a[g],
        d.style && (b && "none" !== d.style.display && "" !== d.style.display || (d.style.display = b ? f[g] || "": "none"));
        return a
    }
    function H(a, b, c, d, e) {
        return new H.prototype.init(a, b, c, d, e)
    }
    function I() {
        return a.setTimeout(function() {
            eb = void 0
        }),
        eb = fa.now()
    }
    function J(a, b) {
        var c, d = 0,
        e = {
            height: a
        };
        for (b = b ? 1 : 0; 4 > d; d += 2 - b) c = Fa[d],
        e["margin" + c] = e["padding" + c] = a;
        return b && (e.opacity = e.width = a),
        e
    }
    function K(a, b, c) {
        for (var d, e = (N.tweeners[b] || []).concat(N.tweeners["*"]), f = 0, g = e.length; g > f; f++) if (d = e[f].call(c, b, a)) return d
    }
    function L(a, b, c) {
        var d, e, f, g, h, i, j, k, l = this,
        m = {},
        n = a.style,
        o = a.nodeType && Ga(a),
        p = za.get(a, "fxshow");
        c.queue || (h = fa._queueHooks(a, "fx"), null == h.unqueued && (h.unqueued = 0, i = h.empty.fire, h.empty.fire = function() {
            h.unqueued || i()
        }), h.unqueued++, l.always(function() {
            l.always(function() {
                h.unqueued--,
                fa.queue(a, "fx").length || h.empty.fire()
            })
        })),
        1 === a.nodeType && ("height" in b || "width" in b) && (c.overflow = [n.overflow, n.overflowX, n.overflowY], j = fa.css(a, "display"), k = "none" === j ? za.get(a, "olddisplay") || z(a.nodeName) : j, "inline" === k && "none" === fa.css(a, "float") && (n.display = "inline-block")),
        c.overflow && (n.overflow = "hidden", l.always(function() {
            n.overflow = c.overflow[0],
            n.overflowX = c.overflow[1],
            n.overflowY = c.overflow[2]
        }));
        for (d in b) if (e = b[d], gb.exec(e)) {
            if (delete b[d], f = f || "toggle" === e, e === (o ? "hide": "show")) {
                if ("show" !== e || !p || void 0 === p[d]) continue;
                o = !0
            }
            m[d] = p && p[d] || fa.style(a, d)
        } else j = void 0;
        if (fa.isEmptyObject(m))"inline" === ("none" === j ? z(a.nodeName) : j) && (n.display = j);
        else {
            p ? "hidden" in p && (o = p.hidden) : p = za.access(a, "fxshow", {}),
            f && (p.hidden = !o),
            o ? fa(a).show() : l.done(function() {
                fa(a).hide()
            }),
            l.done(function() {
                var b;
                za.remove(a, "fxshow");
                for (b in m) fa.style(a, b, m[b])
            });
            for (d in m) g = K(o ? p[d] : 0, d, l),
            d in p || (p[d] = g.start, o && (g.end = g.start, g.start = "width" === d || "height" === d ? 1 : 0))
        }
    }
    function M(a, b) {
        var c, d, e, f, g;
        for (c in a) if (d = fa.camelCase(c), e = b[d], f = a[c], fa.isArray(f) && (e = f[1], f = a[c] = f[0]), c !== d && (a[d] = f, delete a[c]), g = fa.cssHooks[d], g && "expand" in g) {
            f = g.expand(f),
            delete a[d];
            for (c in f) c in a || (a[c] = f[c], b[c] = e)
        } else b[d] = e
    }
    function N(a, b, c) {
        var d, e, f = 0,
        g = N.prefilters.length,
        h = fa.Deferred().always(function() {
            delete i.elem
        }),
        i = function() {
            if (e) return ! 1;
            for (var b = eb || I(), c = Math.max(0, j.startTime + j.duration - b), d = c / j.duration || 0, f = 1 - d, g = 0, i = j.tweens.length; i > g; g++) j.tweens[g].run(f);
            return h.notifyWith(a, [j, f, c]),
            1 > f && i ? c: (h.resolveWith(a, [j]), !1)
        },
        j = h.promise({
            elem: a,
            props: fa.extend({},
            b),
            opts: fa.extend(!0, {
                specialEasing: {},
                easing: fa.easing._default
            },
            c),
            originalProperties: b,
            originalOptions: c,
            startTime: eb || I(),
            duration: c.duration,
            tweens: [],
            createTween: function(b, c) {
                var d = fa.Tween(a, j.opts, b, c, j.opts.specialEasing[b] || j.opts.easing);
                return j.tweens.push(d),
                d
            },
            stop: function(b) {
                var c = 0,
                d = b ? j.tweens.length: 0;
                if (e) return this;
                for (e = !0; d > c; c++) j.tweens[c].run(1);
                return b ? (h.notifyWith(a, [j, 1, 0]), h.resolveWith(a, [j, b])) : h.rejectWith(a, [j, b]),
                this
            }
        }),
        k = j.props;
        for (M(k, j.opts.specialEasing); g > f; f++) if (d = N.prefilters[f].call(j, a, k, j.opts)) return fa.isFunction(d.stop) && (fa._queueHooks(j.elem, j.opts.queue).stop = fa.proxy(d.stop, d)),
        d;
        return fa.map(k, K, j),
        fa.isFunction(j.opts.start) && j.opts.start.call(a, j),
        fa.fx.timer(fa.extend(i, {
            elem: a,
            anim: j,
            queue: j.opts.queue
        })),
        j.progress(j.opts.progress).done(j.opts.done, j.opts.complete).fail(j.opts.fail).always(j.opts.always)
    }
    function O(a) {
        return a.getAttribute && a.getAttribute("class") || ""
    }
    function P(a) {
        return function(b, c) {
            "string" != typeof b && (c = b, b = "*");
            var d, e = 0,
            f = b.toLowerCase().match(va) || [];
            if (fa.isFunction(c)) for (; d = f[e++];)"+" === d[0] ? (d = d.slice(1) || "*", (a[d] = a[d] || []).unshift(c)) : (a[d] = a[d] || []).push(c)
        }
    }
    function Q(a, b, c, d) {
        function e(h) {
            var i;
            return f[h] = !0,
            fa.each(a[h] || [],
            function(a, h) {
                var j = h(b, c, d);
                return "string" != typeof j || g || f[j] ? g ? !(i = j) : void 0 : (b.dataTypes.unshift(j), e(j), !1)
            }),
            i
        }
        var f = {},
        g = a === Ab;
        return e(b.dataTypes[0]) || !f["*"] && e("*")
    }
    function R(a, b) {
        var c, d, e = fa.ajaxSettings.flatOptions || {};
        for (c in b) void 0 !== b[c] && ((e[c] ? a: d || (d = {}))[c] = b[c]);
        return d && fa.extend(!0, a, d),
        a
    }
    function S(a, b, c) {
        for (var d, e, f, g, h = a.contents,
        i = a.dataTypes;
        "*" === i[0];) i.shift(),
        void 0 === d && (d = a.mimeType || b.getResponseHeader("Content-Type"));
        if (d) for (e in h) if (h[e] && h[e].test(d)) {
            i.unshift(e);
            break
        }
        if (i[0] in c) f = i[0];
        else {
            for (e in c) {
                if (!i[0] || a.converters[e + " " + i[0]]) {
                    f = e;
                    break
                }
                g || (g = e)
            }
            f = f || g
        }
        return f ? (f !== i[0] && i.unshift(f), c[f]) : void 0
    }
    function T(a, b, c, d) {
        var e, f, g, h, i, j = {},
        k = a.dataTypes.slice();
        if (k[1]) for (g in a.converters) j[g.toLowerCase()] = a.converters[g];
        for (f = k.shift(); f;) if (a.responseFields[f] && (c[a.responseFields[f]] = b), !i && d && a.dataFilter && (b = a.dataFilter(b, a.dataType)), i = f, f = k.shift()) if ("*" === f) f = i;
        else if ("*" !== i && i !== f) {
            if (g = j[i + " " + f] || j["* " + f], !g) for (e in j) if (h = e.split(" "), h[1] === f && (g = j[i + " " + h[0]] || j["* " + h[0]])) {
                g === !0 ? g = j[e] : j[e] !== !0 && (f = h[0], k.unshift(h[1]));
                break
            }
            if (g !== !0) if (g && a["throws"]) b = g(b);
            else try {
                b = g(b)
            } catch(l) {
                return {
                    state: "parsererror",
                    error: g ? l: "No conversion from " + i + " to " + f
                }
            }
        }
        return {
            state: "success",
            data: b
        }
    }
    function U(a, b, c, d) {
        var e;
        if (fa.isArray(b)) fa.each(b,
        function(b, e) {
            c || Eb.test(a) ? d(a, e) : U(a + "[" + ("object" == typeof e && null != e ? b: "") + "]", e, c, d)
        });
        else if (c || "object" !== fa.type(b)) d(a, b);
        else for (e in b) U(a + "[" + e + "]", b[e], c, d)
    }
    function V(a) {
        return fa.isWindow(a) ? a: 9 === a.nodeType && a.defaultView
    }
    var W = [],
    X = a.document,
    Y = W.slice,
    Z = W.concat,
    $ = W.push,
    _ = W.indexOf,
    aa = {},
    ba = aa.toString,
    ca = aa.hasOwnProperty,
    da = {},
    ea = "2.2.3",
    fa = function(a, b) {
        return new fa.fn.init(a, b)
    },
    ga = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
    ha = /^-ms-/,
    ia = /-([\da-z])/gi,
    ja = function(a, b) {
        return b.toUpperCase()
    };
    fa.fn = fa.prototype = {
        jquery: ea,
        constructor: fa,
        selector: "",
        length: 0,
        toArray: function() {
            return Y.call(this)
        },
        get: function(a) {
            return null != a ? 0 > a ? this[a + this.length] : this[a] : Y.call(this)
        },
        pushStack: function(a) {
            var b = fa.merge(this.constructor(), a);
            return b.prevObject = this,
            b.context = this.context,
            b
        },
        each: function(a) {
            return fa.each(this, a)
        },
        map: function(a) {
            return this.pushStack(fa.map(this,
            function(b, c) {
                return a.call(b, c, b)
            }))
        },
        slice: function() {
            return this.pushStack(Y.apply(this, arguments))
        },
        first: function() {
            return this.eq(0)
        },
        last: function() {
            return this.eq( - 1)
        },
        eq: function(a) {
            var b = this.length,
            c = +a + (0 > a ? b: 0);
            return this.pushStack(c >= 0 && b > c ? [this[c]] : [])
        },
        end: function() {
            return this.prevObject || this.constructor()
        },
        push: $,
        sort: W.sort,
        splice: W.splice
    },
    fa.extend = fa.fn.extend = function() {
        var a, b, c, d, e, f, g = arguments[0] || {},
        h = 1,
        i = arguments.length,
        j = !1;
        for ("boolean" == typeof g && (j = g, g = arguments[h] || {},
        h++), "object" == typeof g || fa.isFunction(g) || (g = {}), h === i && (g = this, h--); i > h; h++) if (null != (a = arguments[h])) for (b in a) c = g[b],
        d = a[b],
        g !== d && (j && d && (fa.isPlainObject(d) || (e = fa.isArray(d))) ? (e ? (e = !1, f = c && fa.isArray(c) ? c: []) : f = c && fa.isPlainObject(c) ? c: {},
        g[b] = fa.extend(j, f, d)) : void 0 !== d && (g[b] = d));
        return g
    },
    fa.extend({
        expando: "jQuery" + (ea + Math.random()).replace(/\D/g, ""),
        isReady: !0,
        error: function(a) {
            throw new Error(a)
        },
        noop: function() {},
        isFunction: function(a) {
            return "function" === fa.type(a)
        },
        isArray: Array.isArray,
        isWindow: function(a) {
            return null != a && a === a.window
        },
        isNumeric: function(a) {
            var b = a && a.toString();
            return ! fa.isArray(a) && b - parseFloat(b) + 1 >= 0
        },
        isPlainObject: function(a) {
            var b;
            if ("object" !== fa.type(a) || a.nodeType || fa.isWindow(a)) return ! 1;
            if (a.constructor && !ca.call(a, "constructor") && !ca.call(a.constructor.prototype || {},
            "isPrototypeOf")) return ! 1;
            for (b in a);
            return void 0 === b || ca.call(a, b)
        },
        isEmptyObject: function(a) {
            var b;
            for (b in a) return ! 1;
            return ! 0
        },
        type: function(a) {
            return null == a ? a + "": "object" == typeof a || "function" == typeof a ? aa[ba.call(a)] || "object": typeof a
        },
        globalEval: function(a) {
            var b, c = eval;
            a = fa.trim(a),
            a && (1 === a.indexOf("use strict") ? (b = X.createElement("script"), b.text = a, X.head.appendChild(b).parentNode.removeChild(b)) : c(a))
        },
        camelCase: function(a) {
            return a.replace(ha, "ms-").replace(ia, ja)
        },
        nodeName: function(a, b) {
            return a.nodeName && a.nodeName.toLowerCase() === b.toLowerCase()
        },
        each: function(a, b) {
            var d, e = 0;
            if (c(a)) for (d = a.length; d > e && b.call(a[e], e, a[e]) !== !1; e++);
            else for (e in a) if (b.call(a[e], e, a[e]) === !1) break;
            return a
        },
        trim: function(a) {
            return null == a ? "": (a + "").replace(ga, "")
        },
        makeArray: function(a, b) {
            var d = b || [];
            return null != a && (c(Object(a)) ? fa.merge(d, "string" == typeof a ? [a] : a) : $.call(d, a)),
            d
        },
        inArray: function(a, b, c) {
            return null == b ? -1 : _.call(b, a, c)
        },
        merge: function(a, b) {
            for (var c = +b.length,
            d = 0,
            e = a.length; c > d; d++) a[e++] = b[d];
            return a.length = e,
            a
        },
        grep: function(a, b, c) {
            for (var d, e = [], f = 0, g = a.length, h = !c; g > f; f++) d = !b(a[f], f),
            d !== h && e.push(a[f]);
            return e
        },
        map: function(a, b, d) {
            var e, f, g = 0,
            h = [];
            if (c(a)) for (e = a.length; e > g; g++) f = b(a[g], g, d),
            null != f && h.push(f);
            else for (g in a) f = b(a[g], g, d),
            null != f && h.push(f);
            return Z.apply([], h)
        },
        guid: 1,
        proxy: function(a, b) {
            var c, d, e;
            return "string" == typeof b && (c = a[b], b = a, a = c),
            fa.isFunction(a) ? (d = Y.call(arguments, 2), e = function() {
                return a.apply(b || this, d.concat(Y.call(arguments)))
            },
            e.guid = a.guid = a.guid || fa.guid++, e) : void 0
        },
        now: Date.now,
        support: da
    }),
    "function" == typeof Symbol && (fa.fn[Symbol.iterator] = W[Symbol.iterator]),
    fa.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),
    function(a, b) {
        aa["[object " + b + "]"] = b.toLowerCase()
    });
    var ka = function(a) {
        function b(a, b, c, d) {
            var e, f, g, h, i, j, l, n, o = b && b.ownerDocument,
            p = b ? b.nodeType: 9;
            if (c = c || [], "string" != typeof a || !a || 1 !== p && 9 !== p && 11 !== p) return c;
            if (!d && ((b ? b.ownerDocument || b: O) !== G && F(b), b = b || G, I)) {
                if (11 !== p && (j = ra.exec(a))) if (e = j[1]) {
                    if (9 === p) {
                        if (! (g = b.getElementById(e))) return c;
                        if (g.id === e) return c.push(g),
                        c
                    } else if (o && (g = o.getElementById(e)) && M(b, g) && g.id === e) return c.push(g),
                    c
                } else {
                    if (j[2]) return $.apply(c, b.getElementsByTagName(a)),
                    c;
                    if ((e = j[3]) && v.getElementsByClassName && b.getElementsByClassName) return $.apply(c, b.getElementsByClassName(e)),
                    c
                }
                if (v.qsa && !T[a + " "] && (!J || !J.test(a))) {
                    if (1 !== p) o = b,
                    n = a;
                    else if ("object" !== b.nodeName.toLowerCase()) {
                        for ((h = b.getAttribute("id")) ? h = h.replace(ta, "\\$&") : b.setAttribute("id", h = N), l = z(a), f = l.length, i = ma.test(h) ? "#" + h: "[id='" + h + "']"; f--;) l[f] = i + " " + m(l[f]);
                        n = l.join(","),
                        o = sa.test(a) && k(b.parentNode) || b
                    }
                    if (n) try {
                        return $.apply(c, o.querySelectorAll(n)),
                        c
                    } catch(q) {} finally {
                        h === N && b.removeAttribute("id")
                    }
                }
            }
            return B(a.replace(ha, "$1"), b, c, d)
        }
        function c() {
            function a(c, d) {
                return b.push(c + " ") > w.cacheLength && delete a[b.shift()],
                a[c + " "] = d
            }
            var b = [];
            return a
        }
        function d(a) {
            return a[N] = !0,
            a
        }
        function e(a) {
            var b = G.createElement("div");
            try {
                return !! a(b)
            } catch(c) {
                return ! 1
            } finally {
                b.parentNode && b.parentNode.removeChild(b),
                b = null
            }
        }
        function f(a, b) {
            for (var c = a.split("|"), d = c.length; d--;) w.attrHandle[c[d]] = b
        }
        function g(a, b) {
            var c = b && a,
            d = c && 1 === a.nodeType && 1 === b.nodeType && (~b.sourceIndex || V) - (~a.sourceIndex || V);
            if (d) return d;
            if (c) for (; c = c.nextSibling;) if (c === b) return - 1;
            return a ? 1 : -1
        }
        function h(a) {
            return function(b) {
                var c = b.nodeName.toLowerCase();
                return "input" === c && b.type === a
            }
        }
        function i(a) {
            return function(b) {
                var c = b.nodeName.toLowerCase();
                return ("input" === c || "button" === c) && b.type === a
            }
        }
        function j(a) {
            return d(function(b) {
                return b = +b,
                d(function(c, d) {
                    for (var e, f = a([], c.length, b), g = f.length; g--;) c[e = f[g]] && (c[e] = !(d[e] = c[e]))
                })
            })
        }
        function k(a) {
            return a && "undefined" != typeof a.getElementsByTagName && a
        }
        function l() {}
        function m(a) {
            for (var b = 0,
            c = a.length,
            d = ""; c > b; b++) d += a[b].value;
            return d
        }
        function n(a, b, c) {
            var d = b.dir,
            e = c && "parentNode" === d,
            f = Q++;
            return b.first ?
            function(b, c, f) {
                for (; b = b[d];) if (1 === b.nodeType || e) return a(b, c, f)
            }: function(b, c, g) {
                var h, i, j, k = [P, f];
                if (g) {
                    for (; b = b[d];) if ((1 === b.nodeType || e) && a(b, c, g)) return ! 0
                } else for (; b = b[d];) if (1 === b.nodeType || e) {
                    if (j = b[N] || (b[N] = {}), i = j[b.uniqueID] || (j[b.uniqueID] = {}), (h = i[d]) && h[0] === P && h[1] === f) return k[2] = h[2];
                    if (i[d] = k, k[2] = a(b, c, g)) return ! 0
                }
            }
        }
        function o(a) {
            return a.length > 1 ?
            function(b, c, d) {
                for (var e = a.length; e--;) if (!a[e](b, c, d)) return ! 1;
                return ! 0
            }: a[0]
        }
        function p(a, c, d) {
            for (var e = 0,
            f = c.length; f > e; e++) b(a, c[e], d);
            return d
        }
        function q(a, b, c, d, e) {
            for (var f, g = [], h = 0, i = a.length, j = null != b; i > h; h++)(f = a[h]) && (c && !c(f, d, e) || (g.push(f), j && b.push(h)));
            return g
        }
        function r(a, b, c, e, f, g) {
            return e && !e[N] && (e = r(e)),
            f && !f[N] && (f = r(f, g)),
            d(function(d, g, h, i) {
                var j, k, l, m = [],
                n = [],
                o = g.length,
                r = d || p(b || "*", h.nodeType ? [h] : h, []),
                s = !a || !d && b ? r: q(r, m, a, h, i),
                t = c ? f || (d ? a: o || e) ? [] : g: s;
                if (c && c(s, t, h, i), e) for (j = q(t, n), e(j, [], h, i), k = j.length; k--;)(l = j[k]) && (t[n[k]] = !(s[n[k]] = l));
                if (d) {
                    if (f || a) {
                        if (f) {
                            for (j = [], k = t.length; k--;)(l = t[k]) && j.push(s[k] = l);
                            f(null, t = [], j, i)
                        }
                        for (k = t.length; k--;)(l = t[k]) && (j = f ? aa(d, l) : m[k]) > -1 && (d[j] = !(g[j] = l))
                    }
                } else t = q(t === g ? t.splice(o, t.length) : t),
                f ? f(null, g, t, i) : $.apply(g, t)
            })
        }
        function s(a) {
            for (var b, c, d, e = a.length,
            f = w.relative[a[0].type], g = f || w.relative[" "], h = f ? 1 : 0, i = n(function(a) {
                return a === b
            },
            g, !0), j = n(function(a) {
                return aa(b, a) > -1
            },
            g, !0), k = [function(a, c, d) {
                var e = !f && (d || c !== C) || ((b = c).nodeType ? i(a, c, d) : j(a, c, d));
                return b = null,
                e
            }]; e > h; h++) if (c = w.relative[a[h].type]) k = [n(o(k), c)];
            else {
                if (c = w.filter[a[h].type].apply(null, a[h].matches), c[N]) {
                    for (d = ++h; e > d && !w.relative[a[d].type]; d++);
                    return r(h > 1 && o(k), h > 1 && m(a.slice(0, h - 1).concat({
                        value: " " === a[h - 2].type ? "*": ""
                    })).replace(ha, "$1"), c, d > h && s(a.slice(h, d)), e > d && s(a = a.slice(d)), e > d && m(a))
                }
                k.push(c)
            }
            return o(k)
        }
        function t(a, c) {
            var e = c.length > 0,
            f = a.length > 0,
            g = function(d, g, h, i, j) {
                var k, l, m, n = 0,
                o = "0",
                p = d && [],
                r = [],
                s = C,
                t = d || f && w.find.TAG("*", j),
                u = P += null == s ? 1 : Math.random() || .1,
                v = t.length;
                for (j && (C = g === G || g || j); o !== v && null != (k = t[o]); o++) {
                    if (f && k) {
                        for (l = 0, g || k.ownerDocument === G || (F(k), h = !I); m = a[l++];) if (m(k, g || G, h)) {
                            i.push(k);
                            break
                        }
                        j && (P = u)
                    }
                    e && ((k = !m && k) && n--, d && p.push(k))
                }
                if (n += o, e && o !== n) {
                    for (l = 0; m = c[l++];) m(p, r, g, h);
                    if (d) {
                        if (n > 0) for (; o--;) p[o] || r[o] || (r[o] = Y.call(i));
                        r = q(r)
                    }
                    $.apply(i, r),
                    j && !d && r.length > 0 && n + c.length > 1 && b.uniqueSort(i)
                }
                return j && (P = u, C = s),
                p
            };
            return e ? d(g) : g
        }
        var u, v, w, x, y, z, A, B, C, D, E, F, G, H, I, J, K, L, M, N = "sizzle" + 1 * new Date,
        O = a.document,
        P = 0,
        Q = 0,
        R = c(),
        S = c(),
        T = c(),
        U = function(a, b) {
            return a === b && (E = !0),
            0
        },
        V = 1 << 31,
        W = {}.hasOwnProperty,
        X = [],
        Y = X.pop,
        Z = X.push,
        $ = X.push,
        _ = X.slice,
        aa = function(a, b) {
            for (var c = 0,
            d = a.length; d > c; c++) if (a[c] === b) return c;
            return - 1
        },
        ba = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
        ca = "[\\x20\\t\\r\\n\\f]",
        da = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",
        ea = "\\[" + ca + "*(" + da + ")(?:" + ca + "*([*^$|!~]?=)" + ca + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + da + "))|)" + ca + "*\\]",
        fa = ":(" + da + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + ea + ")*)|.*)\\)|)",
        ga = new RegExp(ca + "+", "g"),
        ha = new RegExp("^" + ca + "+|((?:^|[^\\\\])(?:\\\\.)*)" + ca + "+$", "g"),
        ia = new RegExp("^" + ca + "*," + ca + "*"),
        ja = new RegExp("^" + ca + "*([>+~]|" + ca + ")" + ca + "*"),
        ka = new RegExp("=" + ca + "*([^\\]'\"]*?)" + ca + "*\\]", "g"),
        la = new RegExp(fa),
        ma = new RegExp("^" + da + "$"),
        na = {
            ID: new RegExp("^#(" + da + ")"),
            CLASS: new RegExp("^\\.(" + da + ")"),
            TAG: new RegExp("^(" + da + "|[*])"),
            ATTR: new RegExp("^" + ea),
            PSEUDO: new RegExp("^" + fa),
            CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + ca + "*(even|odd|(([+-]|)(\\d*)n|)" + ca + "*(?:([+-]|)" + ca + "*(\\d+)|))" + ca + "*\\)|)", "i"),
            bool: new RegExp("^(?:" + ba + ")$", "i"),
            needsContext: new RegExp("^" + ca + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + ca + "*((?:-\\d)?\\d*)" + ca + "*\\)|)(?=[^-]|$)", "i")
        },
        oa = /^(?:input|select|textarea|button)$/i,
        pa = /^h\d$/i,
        qa = /^[^{]+\{\s*\[native \w/,
        ra = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
        sa = /[+~]/,
        ta = /'|\\/g,
        ua = new RegExp("\\\\([\\da-f]{1,6}" + ca + "?|(" + ca + ")|.)", "ig"),
        va = function(a, b, c) {
            var d = "0x" + b - 65536;
            return d !== d || c ? b: 0 > d ? String.fromCharCode(d + 65536) : String.fromCharCode(d >> 10 | 55296, 1023 & d | 56320)
        },
        wa = function() {
            F()
        };
        try {
            $.apply(X = _.call(O.childNodes), O.childNodes),
            X[O.childNodes.length].nodeType
        } catch(xa) {
            $ = {
                apply: X.length ?
                function(a, b) {
                    Z.apply(a, _.call(b))
                }: function(a, b) {
                    for (var c = a.length,
                    d = 0; a[c++] = b[d++];);
                    a.length = c - 1
                }
            }
        }
        v = b.support = {},
        y = b.isXML = function(a) {
            var b = a && (a.ownerDocument || a).documentElement;
            return b ? "HTML" !== b.nodeName: !1
        },
        F = b.setDocument = function(a) {
            var b, c, d = a ? a.ownerDocument || a: O;
            return d !== G && 9 === d.nodeType && d.documentElement ? (G = d, H = G.documentElement, I = !y(G), (c = G.defaultView) && c.top !== c && (c.addEventListener ? c.addEventListener("unload", wa, !1) : c.attachEvent && c.attachEvent("onunload", wa)), v.attributes = e(function(a) {
                return a.className = "i",
                !a.getAttribute("className")
            }), v.getElementsByTagName = e(function(a) {
                return a.appendChild(G.createComment("")),
                !a.getElementsByTagName("*").length
            }), v.getElementsByClassName = qa.test(G.getElementsByClassName), v.getById = e(function(a) {
                return H.appendChild(a).id = N,
                !G.getElementsByName || !G.getElementsByName(N).length
            }), v.getById ? (w.find.ID = function(a, b) {
                if ("undefined" != typeof b.getElementById && I) {
                    var c = b.getElementById(a);
                    return c ? [c] : []
                }
            },
            w.filter.ID = function(a) {
                var b = a.replace(ua, va);
                return function(a) {
                    return a.getAttribute("id") === b
                }
            }) : (delete w.find.ID, w.filter.ID = function(a) {
                var b = a.replace(ua, va);
                return function(a) {
                    var c = "undefined" != typeof a.getAttributeNode && a.getAttributeNode("id");
                    return c && c.value === b
                }
            }), w.find.TAG = v.getElementsByTagName ?
            function(a, b) {
                return "undefined" != typeof b.getElementsByTagName ? b.getElementsByTagName(a) : v.qsa ? b.querySelectorAll(a) : void 0
            }: function(a, b) {
                var c, d = [],
                e = 0,
                f = b.getElementsByTagName(a);
                if ("*" === a) {
                    for (; c = f[e++];) 1 === c.nodeType && d.push(c);
                    return d
                }
                return f
            },
            w.find.CLASS = v.getElementsByClassName &&
            function(a, b) {
                return "undefined" != typeof b.getElementsByClassName && I ? b.getElementsByClassName(a) : void 0
            },
            K = [], J = [], (v.qsa = qa.test(G.querySelectorAll)) && (e(function(a) {
                H.appendChild(a).innerHTML = "<a id='" + N + "'></a><select id='" + N + "-\r\\' msallowcapture=''><option selected=''></option></select>",
                a.querySelectorAll("[msallowcapture^='']").length && J.push("[*^$]=" + ca + "*(?:''|\"\")"),
                a.querySelectorAll("[selected]").length || J.push("\\[" + ca + "*(?:value|" + ba + ")"),
                a.querySelectorAll("[id~=" + N + "-]").length || J.push("~="),
                a.querySelectorAll(":checked").length || J.push(":checked"),
                a.querySelectorAll("a#" + N + "+*").length || J.push(".#.+[+~]")
            }), e(function(a) {
                var b = G.createElement("input");
                b.setAttribute("type", "hidden"),
                a.appendChild(b).setAttribute("name", "D"),
                a.querySelectorAll("[name=d]").length && J.push("name" + ca + "*[*^$|!~]?="),
                a.querySelectorAll(":enabled").length || J.push(":enabled", ":disabled"),
                a.querySelectorAll("*,:x"),
                J.push(",.*:")
            })), (v.matchesSelector = qa.test(L = H.matches || H.webkitMatchesSelector || H.mozMatchesSelector || H.oMatchesSelector || H.msMatchesSelector)) && e(function(a) {
                v.disconnectedMatch = L.call(a, "div"),
                L.call(a, "[s!='']:x"),
                K.push("!=", fa)
            }), J = J.length && new RegExp(J.join("|")), K = K.length && new RegExp(K.join("|")), b = qa.test(H.compareDocumentPosition), M = b || qa.test(H.contains) ?
            function(a, b) {
                var c = 9 === a.nodeType ? a.documentElement: a,
                d = b && b.parentNode;
                return a === d || !(!d || 1 !== d.nodeType || !(c.contains ? c.contains(d) : a.compareDocumentPosition && 16 & a.compareDocumentPosition(d)))
            }: function(a, b) {
                if (b) for (; b = b.parentNode;) if (b === a) return ! 0;
                return ! 1
            },
            U = b ?
            function(a, b) {
                if (a === b) return E = !0,
                0;
                var c = !a.compareDocumentPosition - !b.compareDocumentPosition;
                return c ? c: (c = (a.ownerDocument || a) === (b.ownerDocument || b) ? a.compareDocumentPosition(b) : 1, 1 & c || !v.sortDetached && b.compareDocumentPosition(a) === c ? a === G || a.ownerDocument === O && M(O, a) ? -1 : b === G || b.ownerDocument === O && M(O, b) ? 1 : D ? aa(D, a) - aa(D, b) : 0 : 4 & c ? -1 : 1)
            }: function(a, b) {
                if (a === b) return E = !0,
                0;
                var c, d = 0,
                e = a.parentNode,
                f = b.parentNode,
                h = [a],
                i = [b];
                if (!e || !f) return a === G ? -1 : b === G ? 1 : e ? -1 : f ? 1 : D ? aa(D, a) - aa(D, b) : 0;
                if (e === f) return g(a, b);
                for (c = a; c = c.parentNode;) h.unshift(c);
                for (c = b; c = c.parentNode;) i.unshift(c);
                for (; h[d] === i[d];) d++;
                return d ? g(h[d], i[d]) : h[d] === O ? -1 : i[d] === O ? 1 : 0
            },
            G) : G
        },
        b.matches = function(a, c) {
            return b(a, null, null, c)
        },
        b.matchesSelector = function(a, c) {
            if ((a.ownerDocument || a) !== G && F(a), c = c.replace(ka, "='$1']"), v.matchesSelector && I && !T[c + " "] && (!K || !K.test(c)) && (!J || !J.test(c))) try {
                var d = L.call(a, c);
                if (d || v.disconnectedMatch || a.document && 11 !== a.document.nodeType) return d
            } catch(e) {}
            return b(c, G, null, [a]).length > 0
        },
        b.contains = function(a, b) {
            return (a.ownerDocument || a) !== G && F(a),
            M(a, b)
        },
        b.attr = function(a, b) { (a.ownerDocument || a) !== G && F(a);
            var c = w.attrHandle[b.toLowerCase()],
            d = c && W.call(w.attrHandle, b.toLowerCase()) ? c(a, b, !I) : void 0;
            return void 0 !== d ? d: v.attributes || !I ? a.getAttribute(b) : (d = a.getAttributeNode(b)) && d.specified ? d.value: null
        },
        b.error = function(a) {
            throw new Error("Syntax error, unrecognized expression: " + a)
        },
        b.uniqueSort = function(a) {
            var b, c = [],
            d = 0,
            e = 0;
            if (E = !v.detectDuplicates, D = !v.sortStable && a.slice(0), a.sort(U), E) {
                for (; b = a[e++];) b === a[e] && (d = c.push(e));
                for (; d--;) a.splice(c[d], 1)
            }
            return D = null,
            a
        },
        x = b.getText = function(a) {
            var b, c = "",
            d = 0,
            e = a.nodeType;
            if (e) {
                if (1 === e || 9 === e || 11 === e) {
                    if ("string" == typeof a.textContent) return a.textContent;
                    for (a = a.firstChild; a; a = a.nextSibling) c += x(a)
                } else if (3 === e || 4 === e) return a.nodeValue
            } else for (; b = a[d++];) c += x(b);
            return c
        },
        w = b.selectors = {
            cacheLength: 50,
            createPseudo: d,
            match: na,
            attrHandle: {},
            find: {},
            relative: {
                ">": {
                    dir: "parentNode",
                    first: !0
                },
                " ": {
                    dir: "parentNode"
                },
                "+": {
                    dir: "previousSibling",
                    first: !0
                },
                "~": {
                    dir: "previousSibling"
                }
            },
            preFilter: {
                ATTR: function(a) {
                    return a[1] = a[1].replace(ua, va),
                    a[3] = (a[3] || a[4] || a[5] || "").replace(ua, va),
                    "~=" === a[2] && (a[3] = " " + a[3] + " "),
                    a.slice(0, 4)
                },
                CHILD: function(a) {
                    return a[1] = a[1].toLowerCase(),
                    "nth" === a[1].slice(0, 3) ? (a[3] || b.error(a[0]), a[4] = +(a[4] ? a[5] + (a[6] || 1) : 2 * ("even" === a[3] || "odd" === a[3])), a[5] = +(a[7] + a[8] || "odd" === a[3])) : a[3] && b.error(a[0]),
                    a
                },
                PSEUDO: function(a) {
                    var b, c = !a[6] && a[2];
                    return na.CHILD.test(a[0]) ? null: (a[3] ? a[2] = a[4] || a[5] || "": c && la.test(c) && (b = z(c, !0)) && (b = c.indexOf(")", c.length - b) - c.length) && (a[0] = a[0].slice(0, b), a[2] = c.slice(0, b)), a.slice(0, 3))
                }
            },
            filter: {
                TAG: function(a) {
                    var b = a.replace(ua, va).toLowerCase();
                    return "*" === a ?
                    function() {
                        return ! 0
                    }: function(a) {
                        return a.nodeName && a.nodeName.toLowerCase() === b
                    }
                },
                CLASS: function(a) {
                    var b = R[a + " "];
                    return b || (b = new RegExp("(^|" + ca + ")" + a + "(" + ca + "|$)")) && R(a,
                    function(a) {
                        return b.test("string" == typeof a.className && a.className || "undefined" != typeof a.getAttribute && a.getAttribute("class") || "")
                    })
                },
                ATTR: function(a, c, d) {
                    return function(e) {
                        var f = b.attr(e, a);
                        return null == f ? "!=" === c: c ? (f += "", "=" === c ? f === d: "!=" === c ? f !== d: "^=" === c ? d && 0 === f.indexOf(d) : "*=" === c ? d && f.indexOf(d) > -1 : "$=" === c ? d && f.slice( - d.length) === d: "~=" === c ? (" " + f.replace(ga, " ") + " ").indexOf(d) > -1 : "|=" === c ? f === d || f.slice(0, d.length + 1) === d + "-": !1) : !0
                    }
                },
                CHILD: function(a, b, c, d, e) {
                    var f = "nth" !== a.slice(0, 3),
                    g = "last" !== a.slice( - 4),
                    h = "of-type" === b;
                    return 1 === d && 0 === e ?
                    function(a) {
                        return !! a.parentNode
                    }: function(b, c, i) {
                        var j, k, l, m, n, o, p = f !== g ? "nextSibling": "previousSibling",
                        q = b.parentNode,
                        r = h && b.nodeName.toLowerCase(),
                        s = !i && !h,
                        t = !1;
                        if (q) {
                            if (f) {
                                for (; p;) {
                                    for (m = b; m = m[p];) if (h ? m.nodeName.toLowerCase() === r: 1 === m.nodeType) return ! 1;
                                    o = p = "only" === a && !o && "nextSibling"
                                }
                                return ! 0
                            }
                            if (o = [g ? q.firstChild: q.lastChild], g && s) {
                                for (m = q, l = m[N] || (m[N] = {}), k = l[m.uniqueID] || (l[m.uniqueID] = {}), j = k[a] || [], n = j[0] === P && j[1], t = n && j[2], m = n && q.childNodes[n]; m = ++n && m && m[p] || (t = n = 0) || o.pop();) if (1 === m.nodeType && ++t && m === b) {
                                    k[a] = [P, n, t];
                                    break
                                }
                            } else if (s && (m = b, l = m[N] || (m[N] = {}), k = l[m.uniqueID] || (l[m.uniqueID] = {}), j = k[a] || [], n = j[0] === P && j[1], t = n), t === !1) for (; (m = ++n && m && m[p] || (t = n = 0) || o.pop()) && ((h ? m.nodeName.toLowerCase() !== r: 1 !== m.nodeType) || !++t || (s && (l = m[N] || (m[N] = {}), k = l[m.uniqueID] || (l[m.uniqueID] = {}), k[a] = [P, t]), m !== b)););
                            return t -= e,
                            t === d || t % d === 0 && t / d >= 0
                        }
                    }
                },
                PSEUDO: function(a, c) {
                    var e, f = w.pseudos[a] || w.setFilters[a.toLowerCase()] || b.error("unsupported pseudo: " + a);
                    return f[N] ? f(c) : f.length > 1 ? (e = [a, a, "", c], w.setFilters.hasOwnProperty(a.toLowerCase()) ? d(function(a, b) {
                        for (var d, e = f(a, c), g = e.length; g--;) d = aa(a, e[g]),
                        a[d] = !(b[d] = e[g])
                    }) : function(a) {
                        return f(a, 0, e)
                    }) : f
                }
            },
            pseudos: {
                not: d(function(a) {
                    var b = [],
                    c = [],
                    e = A(a.replace(ha, "$1"));
                    return e[N] ? d(function(a, b, c, d) {
                        for (var f, g = e(a, null, d, []), h = a.length; h--;)(f = g[h]) && (a[h] = !(b[h] = f))
                    }) : function(a, d, f) {
                        return b[0] = a,
                        e(b, null, f, c),
                        b[0] = null,
                        !c.pop()
                    }
                }),
                has: d(function(a) {
                    return function(c) {
                        return b(a, c).length > 0
                    }
                }),
                contains: d(function(a) {
                    return a = a.replace(ua, va),
                    function(b) {
                        return (b.textContent || b.innerText || x(b)).indexOf(a) > -1
                    }
                }),
                lang: d(function(a) {
                    return ma.test(a || "") || b.error("unsupported lang: " + a),
                    a = a.replace(ua, va).toLowerCase(),
                    function(b) {
                        var c;
                        do
                        if (c = I ? b.lang: b.getAttribute("xml:lang") || b.getAttribute("lang")) return c = c.toLowerCase(),
                        c === a || 0 === c.indexOf(a + "-");
                        while ((b = b.parentNode) && 1 === b.nodeType);
                        return ! 1
                    }
                }),
                target: function(b) {
                    var c = a.location && a.location.hash;
                    return c && c.slice(1) === b.id
                },
                root: function(a) {
                    return a === H
                },
                focus: function(a) {
                    return a === G.activeElement && (!G.hasFocus || G.hasFocus()) && !!(a.type || a.href || ~a.tabIndex)
                },
                enabled: function(a) {
                    return a.disabled === !1
                },
                disabled: function(a) {
                    return a.disabled === !0
                },
                checked: function(a) {
                    var b = a.nodeName.toLowerCase();
                    return "input" === b && !!a.checked || "option" === b && !!a.selected
                },
                selected: function(a) {
                    return a.parentNode && a.parentNode.selectedIndex,
                    a.selected === !0
                },
                empty: function(a) {
                    for (a = a.firstChild; a; a = a.nextSibling) if (a.nodeType < 6) return ! 1;
                    return ! 0
                },
                parent: function(a) {
                    return ! w.pseudos.empty(a)
                },
                header: function(a) {
                    return pa.test(a.nodeName)
                },
                input: function(a) {
                    return oa.test(a.nodeName)
                },
                button: function(a) {
                    var b = a.nodeName.toLowerCase();
                    return "input" === b && "button" === a.type || "button" === b
                },
                text: function(a) {
                    var b;
                    return "input" === a.nodeName.toLowerCase() && "text" === a.type && (null == (b = a.getAttribute("type")) || "text" === b.toLowerCase())
                },
                first: j(function() {
                    return [0]
                }),
                last: j(function(a, b) {
                    return [b - 1]
                }),
                eq: j(function(a, b, c) {
                    return [0 > c ? c + b: c]
                }),
                even: j(function(a, b) {
                    for (var c = 0; b > c; c += 2) a.push(c);
                    return a
                }),
                odd: j(function(a, b) {
                    for (var c = 1; b > c; c += 2) a.push(c);
                    return a
                }),
                lt: j(function(a, b, c) {
                    for (var d = 0 > c ? c + b: c; --d >= 0;) a.push(d);
                    return a
                }),
                gt: j(function(a, b, c) {
                    for (var d = 0 > c ? c + b: c; ++d < b;) a.push(d);
                    return a
                })
            }
        },
        w.pseudos.nth = w.pseudos.eq;
        for (u in {
            radio: !0,
            checkbox: !0,
            file: !0,
            password: !0,
            image: !0
        }) w.pseudos[u] = h(u);
        for (u in {
            submit: !0,
            reset: !0
        }) w.pseudos[u] = i(u);
        return l.prototype = w.filters = w.pseudos,
        w.setFilters = new l,
        z = b.tokenize = function(a, c) {
            var d, e, f, g, h, i, j, k = S[a + " "];
            if (k) return c ? 0 : k.slice(0);
            for (h = a, i = [], j = w.preFilter; h;) {
                d && !(e = ia.exec(h)) || (e && (h = h.slice(e[0].length) || h), i.push(f = [])),
                d = !1,
                (e = ja.exec(h)) && (d = e.shift(), f.push({
                    value: d,
                    type: e[0].replace(ha, " ")
                }), h = h.slice(d.length));
                for (g in w.filter) ! (e = na[g].exec(h)) || j[g] && !(e = j[g](e)) || (d = e.shift(), f.push({
                    value: d,
                    type: g,
                    matches: e
                }), h = h.slice(d.length));
                if (!d) break
            }
            return c ? h.length: h ? b.error(a) : S(a, i).slice(0)
        },
        A = b.compile = function(a, b) {
            var c, d = [],
            e = [],
            f = T[a + " "];
            if (!f) {
                for (b || (b = z(a)), c = b.length; c--;) f = s(b[c]),
                f[N] ? d.push(f) : e.push(f);
                f = T(a, t(e, d)),
                f.selector = a
            }
            return f
        },
        B = b.select = function(a, b, c, d) {
            var e, f, g, h, i, j = "function" == typeof a && a,
            l = !d && z(a = j.selector || a);
            if (c = c || [], 1 === l.length) {
                if (f = l[0] = l[0].slice(0), f.length > 2 && "ID" === (g = f[0]).type && v.getById && 9 === b.nodeType && I && w.relative[f[1].type]) {
                    if (b = (w.find.ID(g.matches[0].replace(ua, va), b) || [])[0], !b) return c;
                    j && (b = b.parentNode),
                    a = a.slice(f.shift().value.length)
                }
                for (e = na.needsContext.test(a) ? 0 : f.length; e--&&(g = f[e], !w.relative[h = g.type]);) if ((i = w.find[h]) && (d = i(g.matches[0].replace(ua, va), sa.test(f[0].type) && k(b.parentNode) || b))) {
                    if (f.splice(e, 1), a = d.length && m(f), !a) return $.apply(c, d),
                    c;
                    break
                }
            }
            return (j || A(a, l))(d, b, !I, c, !b || sa.test(a) && k(b.parentNode) || b),
            c
        },
        v.sortStable = N.split("").sort(U).join("") === N,
        v.detectDuplicates = !!E,
        F(),
        v.sortDetached = e(function(a) {
            return 1 & a.compareDocumentPosition(G.createElement("div"))
        }),
        e(function(a) {
            return a.innerHTML = "<a href='#'></a>",
            "#" === a.firstChild.getAttribute("href")
        }) || f("type|href|height|width",
        function(a, b, c) {
            return c ? void 0 : a.getAttribute(b, "type" === b.toLowerCase() ? 1 : 2)
        }),
        v.attributes && e(function(a) {
            return a.innerHTML = "<input/>",
            a.firstChild.setAttribute("value", ""),
            "" === a.firstChild.getAttribute("value")
        }) || f("value",
        function(a, b, c) {
            return c || "input" !== a.nodeName.toLowerCase() ? void 0 : a.defaultValue
        }),
        e(function(a) {
            return null == a.getAttribute("disabled")
        }) || f(ba,
        function(a, b, c) {
            var d;
            return c ? void 0 : a[b] === !0 ? b.toLowerCase() : (d = a.getAttributeNode(b)) && d.specified ? d.value: null
        }),
        b
    } (a);
    fa.find = ka,
    fa.expr = ka.selectors,
    fa.expr[":"] = fa.expr.pseudos,
    fa.uniqueSort = fa.unique = ka.uniqueSort,
    fa.text = ka.getText,
    fa.isXMLDoc = ka.isXML,
    fa.contains = ka.contains;
    var la = function(a, b, c) {
        for (var d = [], e = void 0 !== c; (a = a[b]) && 9 !== a.nodeType;) if (1 === a.nodeType) {
            if (e && fa(a).is(c)) break;
            d.push(a)
        }
        return d
    },
    ma = function(a, b) {
        for (var c = []; a; a = a.nextSibling) 1 === a.nodeType && a !== b && c.push(a);
        return c
    },
    na = fa.expr.match.needsContext,
    oa = /^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,
    pa = /^.[^:#\[\.,]*$/;
    fa.filter = function(a, b, c) {
        var d = b[0];
        return c && (a = ":not(" + a + ")"),
        1 === b.length && 1 === d.nodeType ? fa.find.matchesSelector(d, a) ? [d] : [] : fa.find.matches(a, fa.grep(b,
        function(a) {
            return 1 === a.nodeType
        }))
    },
    fa.fn.extend({
        find: function(a) {
            var b, c = this.length,
            d = [],
            e = this;
            if ("string" != typeof a) return this.pushStack(fa(a).filter(function() {
                for (b = 0; c > b; b++) if (fa.contains(e[b], this)) return ! 0
            }));
            for (b = 0; c > b; b++) fa.find(a, e[b], d);
            return d = this.pushStack(c > 1 ? fa.unique(d) : d),
            d.selector = this.selector ? this.selector + " " + a: a,
            d
        },
        filter: function(a) {
            return this.pushStack(d(this, a || [], !1))
        },
        not: function(a) {
            return this.pushStack(d(this, a || [], !0))
        },
        is: function(a) {
            return !! d(this, "string" == typeof a && na.test(a) ? fa(a) : a || [], !1).length
        }
    });
    var qa, ra = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,
    sa = fa.fn.init = function(a, b, c) {
        var d, e;
        if (!a) return this;
        if (c = c || qa, "string" == typeof a) {
            if (d = "<" === a[0] && ">" === a[a.length - 1] && a.length >= 3 ? [null, a, null] : ra.exec(a), !d || !d[1] && b) return ! b || b.jquery ? (b || c).find(a) : this.constructor(b).find(a);
            if (d[1]) {
                if (b = b instanceof fa ? b[0] : b, fa.merge(this, fa.parseHTML(d[1], b && b.nodeType ? b.ownerDocument || b: X, !0)), oa.test(d[1]) && fa.isPlainObject(b)) for (d in b) fa.isFunction(this[d]) ? this[d](b[d]) : this.attr(d, b[d]);
                return this
            }
            return e = X.getElementById(d[2]),
            e && e.parentNode && (this.length = 1, this[0] = e),
            this.context = X,
            this.selector = a,
            this
        }
        return a.nodeType ? (this.context = this[0] = a, this.length = 1, this) : fa.isFunction(a) ? void 0 !== c.ready ? c.ready(a) : a(fa) : (void 0 !== a.selector && (this.selector = a.selector, this.context = a.context), fa.makeArray(a, this))
    };
    sa.prototype = fa.fn,
    qa = fa(X);
    var ta = /^(?:parents|prev(?:Until|All))/,
    ua = {
        children: !0,
        contents: !0,
        next: !0,
        prev: !0
    };
    fa.fn.extend({
        has: function(a) {
            var b = fa(a, this),
            c = b.length;
            return this.filter(function() {
                for (var a = 0; c > a; a++) if (fa.contains(this, b[a])) return ! 0
            })
        },
        closest: function(a, b) {
            for (var c, d = 0,
            e = this.length,
            f = [], g = na.test(a) || "string" != typeof a ? fa(a, b || this.context) : 0; e > d; d++) for (c = this[d]; c && c !== b; c = c.parentNode) if (c.nodeType < 11 && (g ? g.index(c) > -1 : 1 === c.nodeType && fa.find.matchesSelector(c, a))) {
                f.push(c);
                break
            }
            return this.pushStack(f.length > 1 ? fa.uniqueSort(f) : f)
        },
        index: function(a) {
            return a ? "string" == typeof a ? _.call(fa(a), this[0]) : _.call(this, a.jquery ? a[0] : a) : this[0] && this[0].parentNode ? this.first().prevAll().length: -1
        },
        add: function(a, b) {
            return this.pushStack(fa.uniqueSort(fa.merge(this.get(), fa(a, b))))
        },
        addBack: function(a) {
            return this.add(null == a ? this.prevObject: this.prevObject.filter(a))
        }
    }),
    fa.each({
        parent: function(a) {
            var b = a.parentNode;
            return b && 11 !== b.nodeType ? b: null
        },
        parents: function(a) {
            return la(a, "parentNode")
        },
        parentsUntil: function(a, b, c) {
            return la(a, "parentNode", c)
        },
        next: function(a) {
            return e(a, "nextSibling")
        },
        prev: function(a) {
            return e(a, "previousSibling")
        },
        nextAll: function(a) {
            return la(a, "nextSibling")
        },
        prevAll: function(a) {
            return la(a, "previousSibling")
        },
        nextUntil: function(a, b, c) {
            return la(a, "nextSibling", c)
        },
        prevUntil: function(a, b, c) {
            return la(a, "previousSibling", c)
        },
        siblings: function(a) {
            return ma((a.parentNode || {}).firstChild, a)
        },
        children: function(a) {
            return ma(a.firstChild)
        },
        contents: function(a) {
            return a.contentDocument || fa.merge([], a.childNodes)
        }
    },
    function(a, b) {
        fa.fn[a] = function(c, d) {
            var e = fa.map(this, b, c);
            return "Until" !== a.slice( - 5) && (d = c),
            d && "string" == typeof d && (e = fa.filter(d, e)),
            this.length > 1 && (ua[a] || fa.uniqueSort(e), ta.test(a) && e.reverse()),
            this.pushStack(e)
        }
    });
    var va = /\S+/g;
    fa.Callbacks = function(a) {
        a = "string" == typeof a ? f(a) : fa.extend({},
        a);
        var b, c, d, e, g = [],
        h = [],
        i = -1,
        j = function() {
            for (e = a.once, d = b = !0; h.length; i = -1) for (c = h.shift(); ++i < g.length;) g[i].apply(c[0], c[1]) === !1 && a.stopOnFalse && (i = g.length, c = !1);
            a.memory || (c = !1),
            b = !1,
            e && (g = c ? [] : "")
        },
        k = {
            add: function() {
                return g && (c && !b && (i = g.length - 1, h.push(c)),
                function d(b) {
                    fa.each(b,
                    function(b, c) {
                        fa.isFunction(c) ? a.unique && k.has(c) || g.push(c) : c && c.length && "string" !== fa.type(c) && d(c)
                    })
                } (arguments), c && !b && j()),
                this
            },
            remove: function() {
                return fa.each(arguments,
                function(a, b) {
                    for (var c; (c = fa.inArray(b, g, c)) > -1;) g.splice(c, 1),
                    i >= c && i--
                }),
                this
            },
            has: function(a) {
                return a ? fa.inArray(a, g) > -1 : g.length > 0
            },
            empty: function() {
                return g && (g = []),
                this
            },
            disable: function() {
                return e = h = [],
                g = c = "",
                this
            },
            disabled: function() {
                return ! g
            },
            lock: function() {
                return e = h = [],
                c || (g = c = ""),
                this
            },
            locked: function() {
                return !! e
            },
            fireWith: function(a, c) {
                return e || (c = c || [], c = [a, c.slice ? c.slice() : c], h.push(c), b || j()),
                this
            },
            fire: function() {
                return k.fireWith(this, arguments),
                this
            },
            fired: function() {
                return !! d
            }
        };
        return k
    },
    fa.extend({
        Deferred: function(a) {
            var b = [["resolve", "done", fa.Callbacks("once memory"), "resolved"], ["reject", "fail", fa.Callbacks("once memory"), "rejected"], ["notify", "progress", fa.Callbacks("memory")]],
            c = "pending",
            d = {
                state: function() {
                    return c
                },
                always: function() {
                    return e.done(arguments).fail(arguments),
                    this
                },
                then: function() {
                    var a = arguments;
                    return fa.Deferred(function(c) {
                        fa.each(b,
                        function(b, f) {
                            var g = fa.isFunction(a[b]) && a[b];
                            e[f[1]](function() {
                                var a = g && g.apply(this, arguments);
                                a && fa.isFunction(a.promise) ? a.promise().progress(c.notify).done(c.resolve).fail(c.reject) : c[f[0] + "With"](this === d ? c.promise() : this, g ? [a] : arguments)
                            })
                        }),
                        a = null
                    }).promise()
                },
                promise: function(a) {
                    return null != a ? fa.extend(a, d) : d
                }
            },
            e = {};
            return d.pipe = d.then,
            fa.each(b,
            function(a, f) {
                var g = f[2],
                h = f[3];
                d[f[1]] = g.add,
                h && g.add(function() {
                    c = h
                },
                b[1 ^ a][2].disable, b[2][2].lock),
                e[f[0]] = function() {
                    return e[f[0] + "With"](this === e ? d: this, arguments),
                    this
                },
                e[f[0] + "With"] = g.fireWith
            }),
            d.promise(e),
            a && a.call(e, e),
            e
        },
        when: function(a) {
            var b, c, d, e = 0,
            f = Y.call(arguments),
            g = f.length,
            h = 1 !== g || a && fa.isFunction(a.promise) ? g: 0,
            i = 1 === h ? a: fa.Deferred(),
            j = function(a, c, d) {
                return function(e) {
                    c[a] = this,
                    d[a] = arguments.length > 1 ? Y.call(arguments) : e,
                    d === b ? i.notifyWith(c, d) : --h || i.resolveWith(c, d)
                }
            };
            if (g > 1) for (b = new Array(g), c = new Array(g), d = new Array(g); g > e; e++) f[e] && fa.isFunction(f[e].promise) ? f[e].promise().progress(j(e, c, b)).done(j(e, d, f)).fail(i.reject) : --h;
            return h || i.resolveWith(d, f),
            i.promise()
        }
    });
    var wa;
    fa.fn.ready = function(a) {
        return fa.ready.promise().done(a),
        this
    },
    fa.extend({
        isReady: !1,
        readyWait: 1,
        holdReady: function(a) {
            a ? fa.readyWait++:fa.ready(!0)
        },
        ready: function(a) { (a === !0 ? --fa.readyWait: fa.isReady) || (fa.isReady = !0, a !== !0 && --fa.readyWait > 0 || (wa.resolveWith(X, [fa]), fa.fn.triggerHandler && (fa(X).triggerHandler("ready"), fa(X).off("ready"))))
        }
    }),
    fa.ready.promise = function(b) {
        return wa || (wa = fa.Deferred(), "complete" === X.readyState || "loading" !== X.readyState && !X.documentElement.doScroll ? a.setTimeout(fa.ready) : (X.addEventListener("DOMContentLoaded", g), a.addEventListener("load", g))),
        wa.promise(b)
    },
    fa.ready.promise();
    var xa = function(a, b, c, d, e, f, g) {
        var h = 0,
        i = a.length,
        j = null == c;
        if ("object" === fa.type(c)) {
            e = !0;
            for (h in c) xa(a, b, h, c[h], !0, f, g)
        } else if (void 0 !== d && (e = !0, fa.isFunction(d) || (g = !0), j && (g ? (b.call(a, d), b = null) : (j = b, b = function(a, b, c) {
            return j.call(fa(a), c)
        })), b)) for (; i > h; h++) b(a[h], c, g ? d: d.call(a[h], h, b(a[h], c)));
        return e ? a: j ? b.call(a) : i ? b(a[0], c) : f
    },
    ya = function(a) {
        return 1 === a.nodeType || 9 === a.nodeType || !+a.nodeType
    };
    h.uid = 1,
    h.prototype = {
        register: function(a, b) {
            var c = b || {};
            return a.nodeType ? a[this.expando] = c: Object.defineProperty(a, this.expando, {
                value: c,
                writable: !0,
                configurable: !0
            }),
            a[this.expando]
        },
        cache: function(a) {
            if (!ya(a)) return {};
            var b = a[this.expando];
            return b || (b = {},
            ya(a) && (a.nodeType ? a[this.expando] = b: Object.defineProperty(a, this.expando, {
                value: b,
                configurable: !0
            }))),
            b
        },
        set: function(a, b, c) {
            var d, e = this.cache(a);
            if ("string" == typeof b) e[b] = c;
            else for (d in b) e[d] = b[d];
            return e
        },
        get: function(a, b) {
            return void 0 === b ? this.cache(a) : a[this.expando] && a[this.expando][b]
        },
        access: function(a, b, c) {
            var d;
            return void 0 === b || b && "string" == typeof b && void 0 === c ? (d = this.get(a, b), void 0 !== d ? d: this.get(a, fa.camelCase(b))) : (this.set(a, b, c), void 0 !== c ? c: b)
        },
        remove: function(a, b) {
            var c, d, e, f = a[this.expando];
            if (void 0 !== f) {
                if (void 0 === b) this.register(a);
                else {
                    fa.isArray(b) ? d = b.concat(b.map(fa.camelCase)) : (e = fa.camelCase(b), b in f ? d = [b, e] : (d = e, d = d in f ? [d] : d.match(va) || [])),
                    c = d.length;
                    for (; c--;) delete f[d[c]]
                } (void 0 === b || fa.isEmptyObject(f)) && (a.nodeType ? a[this.expando] = void 0 : delete a[this.expando])
            }
        },
        hasData: function(a) {
            var b = a[this.expando];
            return void 0 !== b && !fa.isEmptyObject(b)
        }
    };
    var za = new h,
    Aa = new h,
    Ba = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
    Ca = /[A-Z]/g;
    fa.extend({
        hasData: function(a) {
            return Aa.hasData(a) || za.hasData(a)
        },
        data: function(a, b, c) {
            return Aa.access(a, b, c)
        },
        removeData: function(a, b) {
            Aa.remove(a, b)
        },
        _data: function(a, b, c) {
            return za.access(a, b, c)
        },
        _removeData: function(a, b) {
            za.remove(a, b)
        }
    }),
    fa.fn.extend({
        data: function(a, b) {
            var c, d, e, f = this[0],
            g = f && f.attributes;
            if (void 0 === a) {
                if (this.length && (e = Aa.get(f), 1 === f.nodeType && !za.get(f, "hasDataAttrs"))) {
                    for (c = g.length; c--;) g[c] && (d = g[c].name, 0 === d.indexOf("data-") && (d = fa.camelCase(d.slice(5)), i(f, d, e[d])));
                    za.set(f, "hasDataAttrs", !0)
                }
                return e
            }
            return "object" == typeof a ? this.each(function() {
                Aa.set(this, a)
            }) : xa(this,
            function(b) {
                var c, d;
                if (f && void 0 === b) {
                    if (c = Aa.get(f, a) || Aa.get(f, a.replace(Ca, "-$&").toLowerCase()), void 0 !== c) return c;
                    if (d = fa.camelCase(a), c = Aa.get(f, d), void 0 !== c) return c;
                    if (c = i(f, d, void 0), void 0 !== c) return c
                } else d = fa.camelCase(a),
                this.each(function() {
                    var c = Aa.get(this, d);
                    Aa.set(this, d, b),
                    a.indexOf("-") > -1 && void 0 !== c && Aa.set(this, a, b)
                })
            },
            null, b, arguments.length > 1, null, !0)
        },
        removeData: function(a) {
            return this.each(function() {
                Aa.remove(this, a)
            })
        }
    }),
    fa.extend({
        queue: function(a, b, c) {
            var d;
            return a ? (b = (b || "fx") + "queue", d = za.get(a, b), c && (!d || fa.isArray(c) ? d = za.access(a, b, fa.makeArray(c)) : d.push(c)), d || []) : void 0
        },
        dequeue: function(a, b) {
            b = b || "fx";
            var c = fa.queue(a, b),
            d = c.length,
            e = c.shift(),
            f = fa._queueHooks(a, b),
            g = function() {
                fa.dequeue(a, b)
            };
            "inprogress" === e && (e = c.shift(), d--),
            e && ("fx" === b && c.unshift("inprogress"), delete f.stop, e.call(a, g, f)),
            !d && f && f.empty.fire()
        },
        _queueHooks: function(a, b) {
            var c = b + "queueHooks";
            return za.get(a, c) || za.access(a, c, {
                empty: fa.Callbacks("once memory").add(function() {
                    za.remove(a, [b + "queue", c])
                })
            })
        }
    }),
    fa.fn.extend({
        queue: function(a, b) {
            var c = 2;
            return "string" != typeof a && (b = a, a = "fx", c--),
            arguments.length < c ? fa.queue(this[0], a) : void 0 === b ? this: this.each(function() {
                var c = fa.queue(this, a, b);
                fa._queueHooks(this, a),
                "fx" === a && "inprogress" !== c[0] && fa.dequeue(this, a)
            })
        },
        dequeue: function(a) {
            return this.each(function() {
                fa.dequeue(this, a)
            })
        },
        clearQueue: function(a) {
            return this.queue(a || "fx", [])
        },
        promise: function(a, b) {
            var c, d = 1,
            e = fa.Deferred(),
            f = this,
            g = this.length,
            h = function() {--d || e.resolveWith(f, [f])
            };
            for ("string" != typeof a && (b = a, a = void 0), a = a || "fx"; g--;) c = za.get(f[g], a + "queueHooks"),
            c && c.empty && (d++, c.empty.add(h));
            return h(),
            e.promise(b)
        }
    });
    var Da = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
    Ea = new RegExp("^(?:([+-])=|)(" + Da + ")([a-z%]*)$", "i"),
    Fa = ["Top", "Right", "Bottom", "Left"],
    Ga = function(a, b) {
        return a = b || a,
        "none" === fa.css(a, "display") || !fa.contains(a.ownerDocument, a)
    },
    Ha = /^(?:checkbox|radio)$/i,
    Ia = /<([\w:-]+)/,
    Ja = /^$|\/(?:java|ecma)script/i,
    Ka = {
        option: [1, "<select multiple='multiple'>", "</select>"],
        thead: [1, "<table>", "</table>"],
        col: [2, "<table><colgroup>", "</colgroup></table>"],
        tr: [2, "<table><tbody>", "</tbody></table>"],
        td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
        _default: [0, "", ""]
    };
    Ka.optgroup = Ka.option,
    Ka.tbody = Ka.tfoot = Ka.colgroup = Ka.caption = Ka.thead,
    Ka.th = Ka.td;
    var La = /<|&#?\w+;/; !
    function() {
        var a = X.createDocumentFragment(),
        b = a.appendChild(X.createElement("div")),
        c = X.createElement("input");
        c.setAttribute("type", "radio"),
        c.setAttribute("checked", "checked"),
        c.setAttribute("name", "t"),
        b.appendChild(c),
        da.checkClone = b.cloneNode(!0).cloneNode(!0).lastChild.checked,
        b.innerHTML = "<textarea>x</textarea>",
        da.noCloneChecked = !!b.cloneNode(!0).lastChild.defaultValue
    } ();
    var Ma = /^key/,
    Na = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,
    Oa = /^([^.]*)(?:\.(.+)|)/;
    fa.event = {
        global: {},
        add: function(a, b, c, d, e) {
            var f, g, h, i, j, k, l, m, n, o, p, q = za.get(a);
            if (q) for (c.handler && (f = c, c = f.handler, e = f.selector), c.guid || (c.guid = fa.guid++), (i = q.events) || (i = q.events = {}), (g = q.handle) || (g = q.handle = function(b) {
                return "undefined" != typeof fa && fa.event.triggered !== b.type ? fa.event.dispatch.apply(a, arguments) : void 0
            }), b = (b || "").match(va) || [""], j = b.length; j--;) h = Oa.exec(b[j]) || [],
            n = p = h[1],
            o = (h[2] || "").split(".").sort(),
            n && (l = fa.event.special[n] || {},
            n = (e ? l.delegateType: l.bindType) || n, l = fa.event.special[n] || {},
            k = fa.extend({
                type: n,
                origType: p,
                data: d,
                handler: c,
                guid: c.guid,
                selector: e,
                needsContext: e && fa.expr.match.needsContext.test(e),
                namespace: o.join(".")
            },
            f), (m = i[n]) || (m = i[n] = [], m.delegateCount = 0, l.setup && l.setup.call(a, d, o, g) !== !1 || a.addEventListener && a.addEventListener(n, g)), l.add && (l.add.call(a, k), k.handler.guid || (k.handler.guid = c.guid)), e ? m.splice(m.delegateCount++, 0, k) : m.push(k), fa.event.global[n] = !0)
        },
        remove: function(a, b, c, d, e) {
            var f, g, h, i, j, k, l, m, n, o, p, q = za.hasData(a) && za.get(a);
            if (q && (i = q.events)) {
                for (b = (b || "").match(va) || [""], j = b.length; j--;) if (h = Oa.exec(b[j]) || [], n = p = h[1], o = (h[2] || "").split(".").sort(), n) {
                    for (l = fa.event.special[n] || {},
                    n = (d ? l.delegateType: l.bindType) || n, m = i[n] || [], h = h[2] && new RegExp("(^|\\.)" + o.join("\\.(?:.*\\.|)") + "(\\.|$)"), g = f = m.length; f--;) k = m[f],
                    !e && p !== k.origType || c && c.guid !== k.guid || h && !h.test(k.namespace) || d && d !== k.selector && ("**" !== d || !k.selector) || (m.splice(f, 1), k.selector && m.delegateCount--, l.remove && l.remove.call(a, k));
                    g && !m.length && (l.teardown && l.teardown.call(a, o, q.handle) !== !1 || fa.removeEvent(a, n, q.handle), delete i[n])
                } else for (n in i) fa.event.remove(a, n + b[j], c, d, !0);
                fa.isEmptyObject(i) && za.remove(a, "handle events")
            }
        },
        dispatch: function(a) {
            a = fa.event.fix(a);
            var b, c, d, e, f, g = [],
            h = Y.call(arguments),
            i = (za.get(this, "events") || {})[a.type] || [],
            j = fa.event.special[a.type] || {};
            if (h[0] = a, a.delegateTarget = this, !j.preDispatch || j.preDispatch.call(this, a) !== !1) {
                for (g = fa.event.handlers.call(this, a, i), b = 0; (e = g[b++]) && !a.isPropagationStopped();) for (a.currentTarget = e.elem, c = 0; (f = e.handlers[c++]) && !a.isImmediatePropagationStopped();) a.rnamespace && !a.rnamespace.test(f.namespace) || (a.handleObj = f, a.data = f.data, d = ((fa.event.special[f.origType] || {}).handle || f.handler).apply(e.elem, h), void 0 !== d && (a.result = d) === !1 && (a.preventDefault(), a.stopPropagation()));
                return j.postDispatch && j.postDispatch.call(this, a),
                a.result
            }
        },
        handlers: function(a, b) {
            var c, d, e, f, g = [],
            h = b.delegateCount,
            i = a.target;
            if (h && i.nodeType && ("click" !== a.type || isNaN(a.button) || a.button < 1)) for (; i !== this; i = i.parentNode || this) if (1 === i.nodeType && (i.disabled !== !0 || "click" !== a.type)) {
                for (d = [], c = 0; h > c; c++) f = b[c],
                e = f.selector + " ",
                void 0 === d[e] && (d[e] = f.needsContext ? fa(e, this).index(i) > -1 : fa.find(e, this, null, [i]).length),
                d[e] && d.push(f);
                d.length && g.push({
                    elem: i,
                    handlers: d
                })
            }
            return h < b.length && g.push({
                elem: this,
                handlers: b.slice(h)
            }),
            g
        },
        props: "altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
        fixHooks: {},
        keyHooks: {
            props: "char charCode key keyCode".split(" "),
            filter: function(a, b) {
                return null == a.which && (a.which = null != b.charCode ? b.charCode: b.keyCode),
                a
            }
        },
        mouseHooks: {
            props: "button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
            filter: function(a, b) {
                var c, d, e, f = b.button;
                return null == a.pageX && null != b.clientX && (c = a.target.ownerDocument || X, d = c.documentElement, e = c.body, a.pageX = b.clientX + (d && d.scrollLeft || e && e.scrollLeft || 0) - (d && d.clientLeft || e && e.clientLeft || 0), a.pageY = b.clientY + (d && d.scrollTop || e && e.scrollTop || 0) - (d && d.clientTop || e && e.clientTop || 0)),
                a.which || void 0 === f || (a.which = 1 & f ? 1 : 2 & f ? 3 : 4 & f ? 2 : 0),
                a
            }
        },
        fix: function(a) {
            if (a[fa.expando]) return a;
            var b, c, d, e = a.type,
            f = a,
            g = this.fixHooks[e];
            for (g || (this.fixHooks[e] = g = Na.test(e) ? this.mouseHooks: Ma.test(e) ? this.keyHooks: {}), d = g.props ? this.props.concat(g.props) : this.props, a = new fa.Event(f), b = d.length; b--;) c = d[b],
            a[c] = f[c];
            return a.target || (a.target = X),
            3 === a.target.nodeType && (a.target = a.target.parentNode),
            g.filter ? g.filter(a, f) : a
        },
        special: {
            load: {
                noBubble: !0
            },
            focus: {
                trigger: function() {
                    return this !== p() && this.focus ? (this.focus(), !1) : void 0
                },
                delegateType: "focusin"
            },
            blur: {
                trigger: function() {
                    return this === p() && this.blur ? (this.blur(), !1) : void 0
                },
                delegateType: "focusout"
            },
            click: {
                trigger: function() {
                    return "checkbox" === this.type && this.click && fa.nodeName(this, "input") ? (this.click(), !1) : void 0
                },
                _default: function(a) {
                    return fa.nodeName(a.target, "a")
                }
            },
            beforeunload: {
                postDispatch: function(a) {
                    void 0 !== a.result && a.originalEvent && (a.originalEvent.returnValue = a.result)
                }
            }
        }
    },
    fa.removeEvent = function(a, b, c) {
        a.removeEventListener && a.removeEventListener(b, c)
    },
    fa.Event = function(a, b) {
        return this instanceof fa.Event ? (a && a.type ? (this.originalEvent = a, this.type = a.type, this.isDefaultPrevented = a.defaultPrevented || void 0 === a.defaultPrevented && a.returnValue === !1 ? n: o) : this.type = a, b && fa.extend(this, b), this.timeStamp = a && a.timeStamp || fa.now(), void(this[fa.expando] = !0)) : new fa.Event(a, b)
    },
    fa.Event.prototype = {
        constructor: fa.Event,
        isDefaultPrevented: o,
        isPropagationStopped: o,
        isImmediatePropagationStopped: o,
        preventDefault: function() {
            var a = this.originalEvent;
            this.isDefaultPrevented = n,
            a && a.preventDefault()
        },
        stopPropagation: function() {
            var a = this.originalEvent;
            this.isPropagationStopped = n,
            a && a.stopPropagation()
        },
        stopImmediatePropagation: function() {
            var a = this.originalEvent;
            this.isImmediatePropagationStopped = n,
            a && a.stopImmediatePropagation(),
            this.stopPropagation()
        }
    },
    fa.each({
        mouseenter: "mouseover",
        mouseleave: "mouseout",
        pointerenter: "pointerover",
        pointerleave: "pointerout"
    },
    function(a, b) {
        fa.event.special[a] = {
            delegateType: b,
            bindType: b,
            handle: function(a) {
                var c, d = this,
                e = a.relatedTarget,
                f = a.handleObj;
                return e && (e === d || fa.contains(d, e)) || (a.type = f.origType, c = f.handler.apply(this, arguments), a.type = b),
                c
            }
        }
    }),
    fa.fn.extend({
        on: function(a, b, c, d) {
            return q(this, a, b, c, d)
        },
        one: function(a, b, c, d) {
            return q(this, a, b, c, d, 1)
        },
        off: function(a, b, c) {
            var d, e;
            if (a && a.preventDefault && a.handleObj) return d = a.handleObj,
            fa(a.delegateTarget).off(d.namespace ? d.origType + "." + d.namespace: d.origType, d.selector, d.handler),
            this;
            if ("object" == typeof a) {
                for (e in a) this.off(e, b, a[e]);
                return this
            }
            return b !== !1 && "function" != typeof b || (c = b, b = void 0),
            c === !1 && (c = o),
            this.each(function() {
                fa.event.remove(this, a, c, b)
            })
        }
    });
    var Pa = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,
    Qa = /<script|<style|<link/i,
    Ra = /checked\s*(?:[^=]|=\s*.checked.)/i,
    Sa = /^true\/(.*)/,
    Ta = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;
    fa.extend({
        htmlPrefilter: function(a) {
            return a.replace(Pa, "<$1></$2>")
        },
        clone: function(a, b, c) {
            var d, e, f, g, h = a.cloneNode(!0),
            i = fa.contains(a.ownerDocument, a);
            if (! (da.noCloneChecked || 1 !== a.nodeType && 11 !== a.nodeType || fa.isXMLDoc(a))) for (g = k(h), f = k(a), d = 0, e = f.length; e > d; d++) v(f[d], g[d]);
            if (b) if (c) for (f = f || k(a), g = g || k(h), d = 0, e = f.length; e > d; d++) u(f[d], g[d]);
            else u(a, h);
            return g = k(h, "script"),
            g.length > 0 && l(g, !i && k(a, "script")),
            h
        },
        cleanData: function(a) {
            for (var b, c, d, e = fa.event.special,
            f = 0; void 0 !== (c = a[f]); f++) if (ya(c)) {
                if (b = c[za.expando]) {
                    if (b.events) for (d in b.events) e[d] ? fa.event.remove(c, d) : fa.removeEvent(c, d, b.handle);
                    c[za.expando] = void 0
                }
                c[Aa.expando] && (c[Aa.expando] = void 0)
            }
        }
    }),
    fa.fn.extend({
        domManip: w,
        detach: function(a) {
            return x(this, a, !0)
        },
        remove: function(a) {
            return x(this, a)
        },
        text: function(a) {
            return xa(this,
            function(a) {
                return void 0 === a ? fa.text(this) : this.empty().each(function() {
                    1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || (this.textContent = a)
                })
            },
            null, a, arguments.length)
        },
        append: function() {
            return w(this, arguments,
            function(a) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var b = r(this, a);
                    b.appendChild(a)
                }
            })
        },
        prepend: function() {
            return w(this, arguments,
            function(a) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var b = r(this, a);
                    b.insertBefore(a, b.firstChild)
                }
            })
        },
        before: function() {
            return w(this, arguments,
            function(a) {
                this.parentNode && this.parentNode.insertBefore(a, this)
            })
        },
        after: function() {
            return w(this, arguments,
            function(a) {
                this.parentNode && this.parentNode.insertBefore(a, this.nextSibling)
            })
        },
        empty: function() {
            for (var a, b = 0; null != (a = this[b]); b++) 1 === a.nodeType && (fa.cleanData(k(a, !1)), a.textContent = "");
            return this
        },
        clone: function(a, b) {
            return a = null == a ? !1 : a,
            b = null == b ? a: b,
            this.map(function() {
                return fa.clone(this, a, b)
            })
        },
        html: function(a) {
            return xa(this,
            function(a) {
                var b = this[0] || {},
                c = 0,
                d = this.length;
                if (void 0 === a && 1 === b.nodeType) return b.innerHTML;
                if ("string" == typeof a && !Qa.test(a) && !Ka[(Ia.exec(a) || ["", ""])[1].toLowerCase()]) {
                    a = fa.htmlPrefilter(a);
                    try {
                        for (; d > c; c++) b = this[c] || {},
                        1 === b.nodeType && (fa.cleanData(k(b, !1)), b.innerHTML = a);
                        b = 0
                    } catch(e) {}
                }
                b && this.empty().append(a)
            },
            null, a, arguments.length)
        },
        replaceWith: function() {
            var a = [];
            return w(this, arguments,
            function(b) {
                var c = this.parentNode;
                fa.inArray(this, a) < 0 && (fa.cleanData(k(this)), c && c.replaceChild(b, this))
            },
            a)
        }
    }),
    fa.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    },
    function(a, b) {
        fa.fn[a] = function(a) {
            for (var c, d = [], e = fa(a), f = e.length - 1, g = 0; f >= g; g++) c = g === f ? this: this.clone(!0),
            fa(e[g])[b](c),
            $.apply(d, c.get());
            return this.pushStack(d)
        }
    });
    var Ua, Va = {
        HTML: "block",
        BODY: "block"
    },
    Wa = /^margin/,
    Xa = new RegExp("^(" + Da + ")(?!px)[a-z%]+$", "i"),
    Ya = function(b) {
        var c = b.ownerDocument.defaultView;
        return c && c.opener || (c = a),
        c.getComputedStyle(b)
    },
    Za = function(a, b, c, d) {
        var e, f, g = {};
        for (f in b) g[f] = a.style[f],
        a.style[f] = b[f];
        e = c.apply(a, d || []);
        for (f in b) a.style[f] = g[f];
        return e
    },
    $a = X.documentElement; !
    function() {
        function b() {
            h.style.cssText = "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",
            h.innerHTML = "",
            $a.appendChild(g);
            var b = a.getComputedStyle(h);
            c = "1%" !== b.top,
            f = "2px" === b.marginLeft,
            d = "4px" === b.width,
            h.style.marginRight = "50%",
            e = "4px" === b.marginRight,
            $a.removeChild(g)
        }
        var c, d, e, f, g = X.createElement("div"),
        h = X.createElement("div");
        h.style && (h.style.backgroundClip = "content-box", h.cloneNode(!0).style.backgroundClip = "", da.clearCloneStyle = "content-box" === h.style.backgroundClip, g.style.cssText = "border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute", g.appendChild(h), fa.extend(da, {
            pixelPosition: function() {
                return b(),
                c
            },
            boxSizingReliable: function() {
                return null == d && b(),
                d
            },
            pixelMarginRight: function() {
                return null == d && b(),
                e
            },
            reliableMarginLeft: function() {
                return null == d && b(),
                f
            },
            reliableMarginRight: function() {
                var b, c = h.appendChild(X.createElement("div"));
                return c.style.cssText = h.style.cssText = "-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",
                c.style.marginRight = c.style.width = "0",
                h.style.width = "1px",
                $a.appendChild(g),
                b = !parseFloat(a.getComputedStyle(c).marginRight),
                $a.removeChild(g),
                h.removeChild(c),
                b
            }
        }))
    } ();
    var _a = /^(none|table(?!-c[ea]).+)/,
    ab = {
        position: "absolute",
        visibility: "hidden",
        display: "block"
    },
    bb = {
        letterSpacing: "0",
        fontWeight: "400"
    },
    cb = ["Webkit", "O", "Moz", "ms"],
    db = X.createElement("div").style;
    fa.extend({
        cssHooks: {
            opacity: {
                get: function(a, b) {
                    if (b) {
                        var c = A(a, "opacity");
                        return "" === c ? "1": c
                    }
                }
            }
        },
        cssNumber: {
            animationIterationCount: !0,
            columnCount: !0,
            fillOpacity: !0,
            flexGrow: !0,
            flexShrink: !0,
            fontWeight: !0,
            lineHeight: !0,
            opacity: !0,
            order: !0,
            orphans: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0
        },
        cssProps: {
            "float": "cssFloat"
        },
        style: function(a, b, c, d) {
            if (a && 3 !== a.nodeType && 8 !== a.nodeType && a.style) {
                var e, f, g, h = fa.camelCase(b),
                i = a.style;
                return b = fa.cssProps[h] || (fa.cssProps[h] = C(h) || h),
                g = fa.cssHooks[b] || fa.cssHooks[h],
                void 0 === c ? g && "get" in g && void 0 !== (e = g.get(a, !1, d)) ? e: i[b] : (f = typeof c, "string" === f && (e = Ea.exec(c)) && e[1] && (c = j(a, b, e), f = "number"), null != c && c === c && ("number" === f && (c += e && e[3] || (fa.cssNumber[h] ? "": "px")), da.clearCloneStyle || "" !== c || 0 !== b.indexOf("background") || (i[b] = "inherit"), g && "set" in g && void 0 === (c = g.set(a, c, d)) || (i[b] = c)), void 0)
            }
        },
        css: function(a, b, c, d) {
            var e, f, g, h = fa.camelCase(b);
            return b = fa.cssProps[h] || (fa.cssProps[h] = C(h) || h),
            g = fa.cssHooks[b] || fa.cssHooks[h],
            g && "get" in g && (e = g.get(a, !0, c)),
            void 0 === e && (e = A(a, b, d)),
            "normal" === e && b in bb && (e = bb[b]),
            "" === c || c ? (f = parseFloat(e), c === !0 || isFinite(f) ? f || 0 : e) : e
        }
    }),
    fa.each(["height", "width"],
    function(a, b) {
        fa.cssHooks[b] = {
            get: function(a, c, d) {
                return c ? _a.test(fa.css(a, "display")) && 0 === a.offsetWidth ? Za(a, ab,
                function() {
                    return F(a, b, d)
                }) : F(a, b, d) : void 0
            },
            set: function(a, c, d) {
                var e, f = d && Ya(a),
                g = d && E(a, b, d, "border-box" === fa.css(a, "boxSizing", !1, f), f);
                return g && (e = Ea.exec(c)) && "px" !== (e[3] || "px") && (a.style[b] = c, c = fa.css(a, b)),
                D(a, c, g)
            }
        }
    }),
    fa.cssHooks.marginLeft = B(da.reliableMarginLeft,
    function(a, b) {
        return b ? (parseFloat(A(a, "marginLeft")) || a.getBoundingClientRect().left - Za(a, {
            marginLeft: 0
        },
        function() {
            return a.getBoundingClientRect().left
        })) + "px": void 0
    }),
    fa.cssHooks.marginRight = B(da.reliableMarginRight,
    function(a, b) {
        return b ? Za(a, {
            display: "inline-block"
        },
        A, [a, "marginRight"]) : void 0
    }),
    fa.each({
        margin: "",
        padding: "",
        border: "Width"
    },
    function(a, b) {
        fa.cssHooks[a + b] = {
            expand: function(c) {
                for (var d = 0,
                e = {},
                f = "string" == typeof c ? c.split(" ") : [c]; 4 > d; d++) e[a + Fa[d] + b] = f[d] || f[d - 2] || f[0];
                return e
            }
        },
        Wa.test(a) || (fa.cssHooks[a + b].set = D)
    }),
    fa.fn.extend({
        css: function(a, b) {
            return xa(this,
            function(a, b, c) {
                var d, e, f = {},
                g = 0;
                if (fa.isArray(b)) {
                    for (d = Ya(a), e = b.length; e > g; g++) f[b[g]] = fa.css(a, b[g], !1, d);
                    return f
                }
                return void 0 !== c ? fa.style(a, b, c) : fa.css(a, b)
            },
            a, b, arguments.length > 1)
        },
        show: function() {
            return G(this, !0)
        },
        hide: function() {
            return G(this)
        },
        toggle: function(a) {
            return "boolean" == typeof a ? a ? this.show() : this.hide() : this.each(function() {
                Ga(this) ? fa(this).show() : fa(this).hide()
            })
        }
    }),
    fa.Tween = H,
    H.prototype = {
        constructor: H,
        init: function(a, b, c, d, e, f) {
            this.elem = a,
            this.prop = c,
            this.easing = e || fa.easing._default,
            this.options = b,
            this.start = this.now = this.cur(),
            this.end = d,
            this.unit = f || (fa.cssNumber[c] ? "": "px")
        },
        cur: function() {
            var a = H.propHooks[this.prop];
            return a && a.get ? a.get(this) : H.propHooks._default.get(this)
        },
        run: function(a) {
            var b, c = H.propHooks[this.prop];
            return this.options.duration ? this.pos = b = fa.easing[this.easing](a, this.options.duration * a, 0, 1, this.options.duration) : this.pos = b = a,
            this.now = (this.end - this.start) * b + this.start,
            this.options.step && this.options.step.call(this.elem, this.now, this),
            c && c.set ? c.set(this) : H.propHooks._default.set(this),
            this
        }
    },
    H.prototype.init.prototype = H.prototype,
    H.propHooks = {
        _default: {
            get: function(a) {
                var b;
                return 1 !== a.elem.nodeType || null != a.elem[a.prop] && null == a.elem.style[a.prop] ? a.elem[a.prop] : (b = fa.css(a.elem, a.prop, ""), b && "auto" !== b ? b: 0)
            },
            set: function(a) {
                fa.fx.step[a.prop] ? fa.fx.step[a.prop](a) : 1 !== a.elem.nodeType || null == a.elem.style[fa.cssProps[a.prop]] && !fa.cssHooks[a.prop] ? a.elem[a.prop] = a.now: fa.style(a.elem, a.prop, a.now + a.unit)
            }
        }
    },
    H.propHooks.scrollTop = H.propHooks.scrollLeft = {
        set: function(a) {
            a.elem.nodeType && a.elem.parentNode && (a.elem[a.prop] = a.now)
        }
    },
    fa.easing = {
        linear: function(a) {
            return a
        },
        swing: function(a) {
            return.5 - Math.cos(a * Math.PI) / 2
        },
        _default: "swing"
    },
    fa.fx = H.prototype.init,
    fa.fx.step = {};
    var eb, fb, gb = /^(?:toggle|show|hide)$/,
    hb = /queueHooks$/;
    fa.Animation = fa.extend(N, {
        tweeners: {
            "*": [function(a, b) {
                var c = this.createTween(a, b);
                return j(c.elem, a, Ea.exec(b), c),
                c
            }]
        },
        tweener: function(a, b) {
            fa.isFunction(a) ? (b = a, a = ["*"]) : a = a.match(va);
            for (var c, d = 0,
            e = a.length; e > d; d++) c = a[d],
            N.tweeners[c] = N.tweeners[c] || [],
            N.tweeners[c].unshift(b)
        },
        prefilters: [L],
        prefilter: function(a, b) {
            b ? N.prefilters.unshift(a) : N.prefilters.push(a)
        }
    }),
    fa.speed = function(a, b, c) {
        var d = a && "object" == typeof a ? fa.extend({},
        a) : {
            complete: c || !c && b || fa.isFunction(a) && a,
            duration: a,
            easing: c && b || b && !fa.isFunction(b) && b
        };
        return d.duration = fa.fx.off ? 0 : "number" == typeof d.duration ? d.duration: d.duration in fa.fx.speeds ? fa.fx.speeds[d.duration] : fa.fx.speeds._default,
        null != d.queue && d.queue !== !0 || (d.queue = "fx"),
        d.old = d.complete,
        d.complete = function() {
            fa.isFunction(d.old) && d.old.call(this),
            d.queue && fa.dequeue(this, d.queue)
        },
        d
    },
    fa.fn.extend({
        fadeTo: function(a, b, c, d) {
            return this.filter(Ga).css("opacity", 0).show().end().animate({
                opacity: b
            },
            a, c, d)
        },
        animate: function(a, b, c, d) {
            var e = fa.isEmptyObject(a),
            f = fa.speed(b, c, d),
            g = function() {
                var b = N(this, fa.extend({},
                a), f); (e || za.get(this, "finish")) && b.stop(!0)
            };
            return g.finish = g,
            e || f.queue === !1 ? this.each(g) : this.queue(f.queue, g)
        },
        stop: function(a, b, c) {
            var d = function(a) {
                var b = a.stop;
                delete a.stop,
                b(c)
            };
            return "string" != typeof a && (c = b, b = a, a = void 0),
            b && a !== !1 && this.queue(a || "fx", []),
            this.each(function() {
                var b = !0,
                e = null != a && a + "queueHooks",
                f = fa.timers,
                g = za.get(this);
                if (e) g[e] && g[e].stop && d(g[e]);
                else for (e in g) g[e] && g[e].stop && hb.test(e) && d(g[e]);
                for (e = f.length; e--;) f[e].elem !== this || null != a && f[e].queue !== a || (f[e].anim.stop(c), b = !1, f.splice(e, 1)); ! b && c || fa.dequeue(this, a)
            })
        },
        finish: function(a) {
            return a !== !1 && (a = a || "fx"),
            this.each(function() {
                var b, c = za.get(this),
                d = c[a + "queue"],
                e = c[a + "queueHooks"],
                f = fa.timers,
                g = d ? d.length: 0;
                for (c.finish = !0, fa.queue(this, a, []), e && e.stop && e.stop.call(this, !0), b = f.length; b--;) f[b].elem === this && f[b].queue === a && (f[b].anim.stop(!0), f.splice(b, 1));
                for (b = 0; g > b; b++) d[b] && d[b].finish && d[b].finish.call(this);
                delete c.finish
            })
        }
    }),
    fa.each(["toggle", "show", "hide"],
    function(a, b) {
        var c = fa.fn[b];
        fa.fn[b] = function(a, d, e) {
            return null == a || "boolean" == typeof a ? c.apply(this, arguments) : this.animate(J(b, !0), a, d, e)
        }
    }),
    fa.each({
        slideDown: J("show"),
        slideUp: J("hide"),
        slideToggle: J("toggle"),
        fadeIn: {
            opacity: "show"
        },
        fadeOut: {
            opacity: "hide"
        },
        fadeToggle: {
            opacity: "toggle"
        }
    },
    function(a, b) {
        fa.fn[a] = function(a, c, d) {
            return this.animate(b, a, c, d)
        }
    }),
    fa.timers = [],
    fa.fx.tick = function() {
        var a, b = 0,
        c = fa.timers;
        for (eb = fa.now(); b < c.length; b++) a = c[b],
        a() || c[b] !== a || c.splice(b--, 1);
        c.length || fa.fx.stop(),
        eb = void 0
    },
    fa.fx.timer = function(a) {
        fa.timers.push(a),
        a() ? fa.fx.start() : fa.timers.pop()
    },
    fa.fx.interval = 13,
    fa.fx.start = function() {
        fb || (fb = a.setInterval(fa.fx.tick, fa.fx.interval))
    },
    fa.fx.stop = function() {
        a.clearInterval(fb),
        fb = null
    },
    fa.fx.speeds = {
        slow: 600,
        fast: 200,
        _default: 400
    },
    fa.fn.delay = function(b, c) {
        return b = fa.fx ? fa.fx.speeds[b] || b: b,
        c = c || "fx",
        this.queue(c,
        function(c, d) {
            var e = a.setTimeout(c, b);
            d.stop = function() {
                a.clearTimeout(e)
            }
        })
    },
    function() {
        var a = X.createElement("input"),
        b = X.createElement("select"),
        c = b.appendChild(X.createElement("option"));
        a.type = "checkbox",
        da.checkOn = "" !== a.value,
        da.optSelected = c.selected,
        b.disabled = !0,
        da.optDisabled = !c.disabled,
        a = X.createElement("input"),
        a.value = "t",
        a.type = "radio",
        da.radioValue = "t" === a.value
    } ();
    var ib, jb = fa.expr.attrHandle;
    fa.fn.extend({
        attr: function(a, b) {
            return xa(this, fa.attr, a, b, arguments.length > 1)
        },
        removeAttr: function(a) {
            return this.each(function() {
                fa.removeAttr(this, a)
            })
        }
    }),
    fa.extend({
        attr: function(a, b, c) {
            var d, e, f = a.nodeType;
            if (3 !== f && 8 !== f && 2 !== f) return "undefined" == typeof a.getAttribute ? fa.prop(a, b, c) : (1 === f && fa.isXMLDoc(a) || (b = b.toLowerCase(), e = fa.attrHooks[b] || (fa.expr.match.bool.test(b) ? ib: void 0)), void 0 !== c ? null === c ? void fa.removeAttr(a, b) : e && "set" in e && void 0 !== (d = e.set(a, c, b)) ? d: (a.setAttribute(b, c + ""), c) : e && "get" in e && null !== (d = e.get(a, b)) ? d: (d = fa.find.attr(a, b), null == d ? void 0 : d))
        },
        attrHooks: {
            type: {
                set: function(a, b) {
                    if (!da.radioValue && "radio" === b && fa.nodeName(a, "input")) {
                        var c = a.value;
                        return a.setAttribute("type", b),
                        c && (a.value = c),
                        b
                    }
                }
            }
        },
        removeAttr: function(a, b) {
            var c, d, e = 0,
            f = b && b.match(va);
            if (f && 1 === a.nodeType) for (; c = f[e++];) d = fa.propFix[c] || c,
            fa.expr.match.bool.test(c) && (a[d] = !1),
            a.removeAttribute(c)
        }
    }),
    ib = {
        set: function(a, b, c) {
            return b === !1 ? fa.removeAttr(a, c) : a.setAttribute(c, c),
            c
        }
    },
    fa.each(fa.expr.match.bool.source.match(/\w+/g),
    function(a, b) {
        var c = jb[b] || fa.find.attr;
        jb[b] = function(a, b, d) {
            var e, f;
            return d || (f = jb[b], jb[b] = e, e = null != c(a, b, d) ? b.toLowerCase() : null, jb[b] = f),
            e
        }
    });
    var kb = /^(?:input|select|textarea|button)$/i,
    lb = /^(?:a|area)$/i;
    fa.fn.extend({
        prop: function(a, b) {
            return xa(this, fa.prop, a, b, arguments.length > 1)
        },
        removeProp: function(a) {
            return this.each(function() {
                delete this[fa.propFix[a] || a]
            })
        }
    }),
    fa.extend({
        prop: function(a, b, c) {
            var d, e, f = a.nodeType;
            if (3 !== f && 8 !== f && 2 !== f) return 1 === f && fa.isXMLDoc(a) || (b = fa.propFix[b] || b, e = fa.propHooks[b]),
            void 0 !== c ? e && "set" in e && void 0 !== (d = e.set(a, c, b)) ? d: a[b] = c: e && "get" in e && null !== (d = e.get(a, b)) ? d: a[b]
        },
        propHooks: {
            tabIndex: {
                get: function(a) {
                    var b = fa.find.attr(a, "tabindex");
                    return b ? parseInt(b, 10) : kb.test(a.nodeName) || lb.test(a.nodeName) && a.href ? 0 : -1
                }
            }
        },
        propFix: {
            "for": "htmlFor",
            "class": "className"
        }
    }),
    da.optSelected || (fa.propHooks.selected = {
        get: function(a) {
            var b = a.parentNode;
            return b && b.parentNode && b.parentNode.selectedIndex,
            null
        },
        set: function(a) {
            var b = a.parentNode;
            b && (b.selectedIndex, b.parentNode && b.parentNode.selectedIndex)
        }
    }),
    fa.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"],
    function() {
        fa.propFix[this.toLowerCase()] = this
    });
    var mb = /[\t\r\n\f]/g;
    fa.fn.extend({
        addClass: function(a) {
            var b, c, d, e, f, g, h, i = 0;
            if (fa.isFunction(a)) return this.each(function(b) {
                fa(this).addClass(a.call(this, b, O(this)))
            });
            if ("string" == typeof a && a) for (b = a.match(va) || []; c = this[i++];) if (e = O(c), d = 1 === c.nodeType && (" " + e + " ").replace(mb, " ")) {
                for (g = 0; f = b[g++];) d.indexOf(" " + f + " ") < 0 && (d += f + " ");
                h = fa.trim(d),
                e !== h && c.setAttribute("class", h)
            }
            return this
        },
        removeClass: function(a) {
            var b, c, d, e, f, g, h, i = 0;
            if (fa.isFunction(a)) return this.each(function(b) {
                fa(this).removeClass(a.call(this, b, O(this)))
            });
            if (!arguments.length) return this.attr("class", "");
            if ("string" == typeof a && a) for (b = a.match(va) || []; c = this[i++];) if (e = O(c), d = 1 === c.nodeType && (" " + e + " ").replace(mb, " ")) {
                for (g = 0; f = b[g++];) for (; d.indexOf(" " + f + " ") > -1;) d = d.replace(" " + f + " ", " ");
                h = fa.trim(d),
                e !== h && c.setAttribute("class", h)
            }
            return this
        },
        toggleClass: function(a, b) {
            var c = typeof a;
            return "boolean" == typeof b && "string" === c ? b ? this.addClass(a) : this.removeClass(a) : fa.isFunction(a) ? this.each(function(c) {
                fa(this).toggleClass(a.call(this, c, O(this), b), b)
            }) : this.each(function() {
                var b, d, e, f;
                if ("string" === c) for (d = 0, e = fa(this), f = a.match(va) || []; b = f[d++];) e.hasClass(b) ? e.removeClass(b) : e.addClass(b);
                else void 0 !== a && "boolean" !== c || (b = O(this), b && za.set(this, "__className__", b), this.setAttribute && this.setAttribute("class", b || a === !1 ? "": za.get(this, "__className__") || ""))
            })
        },
        hasClass: function(a) {
            var b, c, d = 0;
            for (b = " " + a + " "; c = this[d++];) if (1 === c.nodeType && (" " + O(c) + " ").replace(mb, " ").indexOf(b) > -1) return ! 0;
            return ! 1
        }
    });
    var nb = /\r/g,
    ob = /[\x20\t\r\n\f]+/g;
    fa.fn.extend({
        val: function(a) {
            var b, c, d, e = this[0]; {
                if (arguments.length) return d = fa.isFunction(a),
                this.each(function(c) {
                    var e;
                    1 === this.nodeType && (e = d ? a.call(this, c, fa(this).val()) : a, null == e ? e = "": "number" == typeof e ? e += "": fa.isArray(e) && (e = fa.map(e,
                    function(a) {
                        return null == a ? "": a + ""
                    })), b = fa.valHooks[this.type] || fa.valHooks[this.nodeName.toLowerCase()], b && "set" in b && void 0 !== b.set(this, e, "value") || (this.value = e))
                });
                if (e) return b = fa.valHooks[e.type] || fa.valHooks[e.nodeName.toLowerCase()],
                b && "get" in b && void 0 !== (c = b.get(e, "value")) ? c: (c = e.value, "string" == typeof c ? c.replace(nb, "") : null == c ? "": c)
            }
        }
    }),
    fa.extend({
        valHooks: {
            option: {
                get: function(a) {
                    var b = fa.find.attr(a, "value");
                    return null != b ? b: fa.trim(fa.text(a)).replace(ob, " ")
                }
            },
            select: {
                get: function(a) {
                    for (var b, c, d = a.options,
                    e = a.selectedIndex,
                    f = "select-one" === a.type || 0 > e,
                    g = f ? null: [], h = f ? e + 1 : d.length, i = 0 > e ? h: f ? e: 0; h > i; i++) if (c = d[i], (c.selected || i === e) && (da.optDisabled ? !c.disabled: null === c.getAttribute("disabled")) && (!c.parentNode.disabled || !fa.nodeName(c.parentNode, "optgroup"))) {
                        if (b = fa(c).val(), f) return b;
                        g.push(b)
                    }
                    return g
                },
                set: function(a, b) {
                    for (var c, d, e = a.options,
                    f = fa.makeArray(b), g = e.length; g--;) d = e[g],
                    (d.selected = fa.inArray(fa.valHooks.option.get(d), f) > -1) && (c = !0);
                    return c || (a.selectedIndex = -1),
                    f
                }
            }
        }
    }),
    fa.each(["radio", "checkbox"],
    function() {
        fa.valHooks[this] = {
            set: function(a, b) {
                return fa.isArray(b) ? a.checked = fa.inArray(fa(a).val(), b) > -1 : void 0
            }
        },
        da.checkOn || (fa.valHooks[this].get = function(a) {
            return null === a.getAttribute("value") ? "on": a.value
        })
    });
    var pb = /^(?:focusinfocus|focusoutblur)$/;
    fa.extend(fa.event, {
        trigger: function(b, c, d, e) {
            var f, g, h, i, j, k, l, m = [d || X],
            n = ca.call(b, "type") ? b.type: b,
            o = ca.call(b, "namespace") ? b.namespace.split(".") : [];
            if (g = h = d = d || X, 3 !== d.nodeType && 8 !== d.nodeType && !pb.test(n + fa.event.triggered) && (n.indexOf(".") > -1 && (o = n.split("."), n = o.shift(), o.sort()), j = n.indexOf(":") < 0 && "on" + n, b = b[fa.expando] ? b: new fa.Event(n, "object" == typeof b && b), b.isTrigger = e ? 2 : 3, b.namespace = o.join("."), b.rnamespace = b.namespace ? new RegExp("(^|\\.)" + o.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, b.result = void 0, b.target || (b.target = d), c = null == c ? [b] : fa.makeArray(c, [b]), l = fa.event.special[n] || {},
            e || !l.trigger || l.trigger.apply(d, c) !== !1)) {
                if (!e && !l.noBubble && !fa.isWindow(d)) {
                    for (i = l.delegateType || n, pb.test(i + n) || (g = g.parentNode); g; g = g.parentNode) m.push(g),
                    h = g;
                    h === (d.ownerDocument || X) && m.push(h.defaultView || h.parentWindow || a)
                }
                for (f = 0; (g = m[f++]) && !b.isPropagationStopped();) b.type = f > 1 ? i: l.bindType || n,
                k = (za.get(g, "events") || {})[b.type] && za.get(g, "handle"),
                k && k.apply(g, c),
                k = j && g[j],
                k && k.apply && ya(g) && (b.result = k.apply(g, c), b.result === !1 && b.preventDefault());
                return b.type = n,
                e || b.isDefaultPrevented() || l._default && l._default.apply(m.pop(), c) !== !1 || !ya(d) || j && fa.isFunction(d[n]) && !fa.isWindow(d) && (h = d[j], h && (d[j] = null), fa.event.triggered = n, d[n](), fa.event.triggered = void 0, h && (d[j] = h)),
                b.result
            }
        },
        simulate: function(a, b, c) {
            var d = fa.extend(new fa.Event, c, {
                type: a,
                isSimulated: !0
            });
            fa.event.trigger(d, null, b),
            d.isDefaultPrevented() && c.preventDefault()
        }
    }),
    fa.fn.extend({
        trigger: function(a, b) {
            return this.each(function() {
                fa.event.trigger(a, b, this)
            })
        },
        triggerHandler: function(a, b) {
            var c = this[0];
            return c ? fa.event.trigger(a, b, c, !0) : void 0
        }
    }),
    fa.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
    function(a, b) {
        fa.fn[b] = function(a, c) {
            return arguments.length > 0 ? this.on(b, null, a, c) : this.trigger(b)
        }
    }),
    fa.fn.extend({
        hover: function(a, b) {
            return this.mouseenter(a).mouseleave(b || a)
        }
    }),
    da.focusin = "onfocusin" in a,
    da.focusin || fa.each({
        focus: "focusin",
        blur: "focusout"
    },
    function(a, b) {
        var c = function(a) {
            fa.event.simulate(b, a.target, fa.event.fix(a))
        };
        fa.event.special[b] = {
            setup: function() {
                var d = this.ownerDocument || this,
                e = za.access(d, b);
                e || d.addEventListener(a, c, !0),
                za.access(d, b, (e || 0) + 1)
            },
            teardown: function() {
                var d = this.ownerDocument || this,
                e = za.access(d, b) - 1;
                e ? za.access(d, b, e) : (d.removeEventListener(a, c, !0), za.remove(d, b))
            }
        }
    });
    var qb = a.location,
    rb = fa.now(),
    sb = /\?/;
    fa.parseJSON = function(a) {
        return JSON.parse(a + "")
    },
    fa.parseXML = function(b) {
        var c;
        if (!b || "string" != typeof b) return null;
        try {
            c = (new a.DOMParser).parseFromString(b, "text/xml")
        } catch(d) {
            c = void 0
        }
        return c && !c.getElementsByTagName("parsererror").length || fa.error("Invalid XML: " + b),
        c
    };
    var tb = /#.*$/,
    ub = /([?&])_=[^&]*/,
    vb = /^(.*?):[ \t]*([^\r\n]*)$/gm,
    wb = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
    xb = /^(?:GET|HEAD)$/,
    yb = /^\/\//,
    zb = {},
    Ab = {},
    Bb = "*/".concat("*"),
    Cb = X.createElement("a");
    Cb.href = qb.href,
    fa.extend({
        active: 0,
        lastModified: {},
        etag: {},
        ajaxSettings: {
            url: qb.href,
            type: "GET",
            isLocal: wb.test(qb.protocol),
            global: !0,
            processData: !0,
            async: !0,
            contentType: "application/x-www-form-urlencoded; charset=UTF-8",
            accepts: {
                "*": Bb,
                text: "text/plain",
                html: "text/html",
                xml: "application/xml, text/xml",
                json: "application/json, text/javascript"
            },
            contents: {
                xml: /\bxml\b/,
                html: /\bhtml/,
                json: /\bjson\b/
            },
            responseFields: {
                xml: "responseXML",
                text: "responseText",
                json: "responseJSON"
            },
            converters: {
                "* text": String,
                "text html": !0,
                "text json": fa.parseJSON,
                "text xml": fa.parseXML
            },
            flatOptions: {
                url: !0,
                context: !0
            }
        },
        ajaxSetup: function(a, b) {
            return b ? R(R(a, fa.ajaxSettings), b) : R(fa.ajaxSettings, a)
        },
        ajaxPrefilter: P(zb),
        ajaxTransport: P(Ab),
        ajax: function(b, c) {
            function d(b, c, d, h) {
                var j, l, s, t, v, x = c;
                2 !== u && (u = 2, i && a.clearTimeout(i), e = void 0, g = h || "", w.readyState = b > 0 ? 4 : 0, j = b >= 200 && 300 > b || 304 === b, d && (t = S(m, w, d)), t = T(m, t, w, j), j ? (m.ifModified && (v = w.getResponseHeader("Last-Modified"), v && (fa.lastModified[f] = v), v = w.getResponseHeader("etag"), v && (fa.etag[f] = v)), 204 === b || "HEAD" === m.type ? x = "nocontent": 304 === b ? x = "notmodified": (x = t.state, l = t.data, s = t.error, j = !s)) : (s = x, !b && x || (x = "error", 0 > b && (b = 0))), w.status = b, w.statusText = (c || x) + "", j ? p.resolveWith(n, [l, x, w]) : p.rejectWith(n, [w, x, s]), w.statusCode(r), r = void 0, k && o.trigger(j ? "ajaxSuccess": "ajaxError", [w, m, j ? l: s]), q.fireWith(n, [w, x]), k && (o.trigger("ajaxComplete", [w, m]), --fa.active || fa.event.trigger("ajaxStop")))
            }
            "object" == typeof b && (c = b, b = void 0),
            c = c || {};
            var e, f, g, h, i, j, k, l, m = fa.ajaxSetup({},
            c),
            n = m.context || m,
            o = m.context && (n.nodeType || n.jquery) ? fa(n) : fa.event,
            p = fa.Deferred(),
            q = fa.Callbacks("once memory"),
            r = m.statusCode || {},
            s = {},
            t = {},
            u = 0,
            v = "canceled",
            w = {
                readyState: 0,
                getResponseHeader: function(a) {
                    var b;
                    if (2 === u) {
                        if (!h) for (h = {}; b = vb.exec(g);) h[b[1].toLowerCase()] = b[2];
                        b = h[a.toLowerCase()]
                    }
                    return null == b ? null: b
                },
                getAllResponseHeaders: function() {
                    return 2 === u ? g: null
                },
                setRequestHeader: function(a, b) {
                    var c = a.toLowerCase();
                    return u || (a = t[c] = t[c] || a, s[a] = b),
                    this
                },
                overrideMimeType: function(a) {
                    return u || (m.mimeType = a),
                    this
                },
                statusCode: function(a) {
                    var b;
                    if (a) if (2 > u) for (b in a) r[b] = [r[b], a[b]];
                    else w.always(a[w.status]);
                    return this
                },
                abort: function(a) {
                    var b = a || v;
                    return e && e.abort(b),
                    d(0, b),
                    this
                }
            };
            if (p.promise(w).complete = q.add, w.success = w.done, w.error = w.fail, m.url = ((b || m.url || qb.href) + "").replace(tb, "").replace(yb, qb.protocol + "//"), m.type = c.method || c.type || m.method || m.type, m.dataTypes = fa.trim(m.dataType || "*").toLowerCase().match(va) || [""], null == m.crossDomain) {
                j = X.createElement("a");
                try {
                    j.href = m.url,
                    j.href = j.href,
                    m.crossDomain = Cb.protocol + "//" + Cb.host != j.protocol + "//" + j.host
                } catch(x) {
                    m.crossDomain = !0
                }
            }
            if (m.data && m.processData && "string" != typeof m.data && (m.data = fa.param(m.data, m.traditional)), Q(zb, m, c, w), 2 === u) return w;
            k = fa.event && m.global,
            k && 0 === fa.active++&&fa.event.trigger("ajaxStart"),
            m.type = m.type.toUpperCase(),
            m.hasContent = !xb.test(m.type),
            f = m.url,
            m.hasContent || (m.data && (f = m.url += (sb.test(f) ? "&": "?") + m.data, delete m.data), m.cache === !1 && (m.url = ub.test(f) ? f.replace(ub, "$1_=" + rb++) : f + (sb.test(f) ? "&": "?") + "_=" + rb++)),
            m.ifModified && (fa.lastModified[f] && w.setRequestHeader("If-Modified-Since", fa.lastModified[f]), fa.etag[f] && w.setRequestHeader("If-None-Match", fa.etag[f])),
            (m.data && m.hasContent && m.contentType !== !1 || c.contentType) && w.setRequestHeader("Content-Type", m.contentType),
            w.setRequestHeader("Accept", m.dataTypes[0] && m.accepts[m.dataTypes[0]] ? m.accepts[m.dataTypes[0]] + ("*" !== m.dataTypes[0] ? ", " + Bb + "; q=0.01": "") : m.accepts["*"]);
            for (l in m.headers) w.setRequestHeader(l, m.headers[l]);
            if (m.beforeSend && (m.beforeSend.call(n, w, m) === !1 || 2 === u)) return w.abort();
            v = "abort";
            for (l in {
                success: 1,
                error: 1,
                complete: 1
            }) w[l](m[l]);
            if (e = Q(Ab, m, c, w)) {
                if (w.readyState = 1, k && o.trigger("ajaxSend", [w, m]), 2 === u) return w;
                m.async && m.timeout > 0 && (i = a.setTimeout(function() {
                    w.abort("timeout")
                },
                m.timeout));
                try {
                    u = 1,
                    e.send(s, d)
                } catch(x) {
                    if (! (2 > u)) throw x;
                    d( - 1, x)
                }
            } else d( - 1, "No Transport");
            return w
        },
        getJSON: function(a, b, c) {
            return fa.get(a, b, c, "json")
        },
        getScript: function(a, b) {
            return fa.get(a, void 0, b, "script")
        }
    }),
    fa.each(["get", "post"],
    function(a, b) {
        fa[b] = function(a, c, d, e) {
            return fa.isFunction(c) && (e = e || d, d = c, c = void 0),
            fa.ajax(fa.extend({
                url: a,
                type: b,
                dataType: e,
                data: c,
                success: d
            },
            fa.isPlainObject(a) && a))
        }
    }),
    fa._evalUrl = function(a) {
        return fa.ajax({
            url: a,
            type: "GET",
            dataType: "script",
            async: !1,
            global: !1,
            "throws": !0
        })
    },
    fa.fn.extend({
        wrapAll: function(a) {
            var b;
            return fa.isFunction(a) ? this.each(function(b) {
                fa(this).wrapAll(a.call(this, b))
            }) : (this[0] && (b = fa(a, this[0].ownerDocument).eq(0).clone(!0), this[0].parentNode && b.insertBefore(this[0]), b.map(function() {
                for (var a = this; a.firstElementChild;) a = a.firstElementChild;
                return a
            }).append(this)), this)
        },
        wrapInner: function(a) {
            return fa.isFunction(a) ? this.each(function(b) {
                fa(this).wrapInner(a.call(this, b))
            }) : this.each(function() {
                var b = fa(this),
                c = b.contents();
                c.length ? c.wrapAll(a) : b.append(a)
            })
        },
        wrap: function(a) {
            var b = fa.isFunction(a);
            return this.each(function(c) {
                fa(this).wrapAll(b ? a.call(this, c) : a)
            })
        },
        unwrap: function() {
            return this.parent().each(function() {
                fa.nodeName(this, "body") || fa(this).replaceWith(this.childNodes)
            }).end()
        }
    }),
    fa.expr.filters.hidden = function(a) {
        return ! fa.expr.filters.visible(a)
    },
    fa.expr.filters.visible = function(a) {
        return a.offsetWidth > 0 || a.offsetHeight > 0 || a.getClientRects().length > 0
    };
    var Db = /%20/g,
    Eb = /\[\]$/,
    Fb = /\r?\n/g,
    Gb = /^(?:submit|button|image|reset|file)$/i,
    Hb = /^(?:input|select|textarea|keygen)/i;
    fa.param = function(a, b) {
        var c, d = [],
        e = function(a, b) {
            b = fa.isFunction(b) ? b() : null == b ? "": b,
            d[d.length] = encodeURIComponent(a) + "=" + encodeURIComponent(b)
        };
        if (void 0 === b && (b = fa.ajaxSettings && fa.ajaxSettings.traditional), fa.isArray(a) || a.jquery && !fa.isPlainObject(a)) fa.each(a,
        function() {
            e(this.name, this.value)
        });
        else for (c in a) U(c, a[c], b, e);
        return d.join("&").replace(Db, "+")
    },
    fa.fn.extend({
        serialize: function() {
            return fa.param(this.serializeArray())
        },
        serializeArray: function() {
            return this.map(function() {
                var a = fa.prop(this, "elements");
                return a ? fa.makeArray(a) : this
            }).filter(function() {
                var a = this.type;
                return this.name && !fa(this).is(":disabled") && Hb.test(this.nodeName) && !Gb.test(a) && (this.checked || !Ha.test(a))
            }).map(function(a, b) {
                var c = fa(this).val();
                return null == c ? null: fa.isArray(c) ? fa.map(c,
                function(a) {
                    return {
                        name: b.name,
                        value: a.replace(Fb, "\r\n")
                    }
                }) : {
                    name: b.name,
                    value: c.replace(Fb, "\r\n")
                }
            }).get()
        }
    }),
    fa.ajaxSettings.xhr = function() {
        try {
            return new a.XMLHttpRequest
        } catch(b) {}
    };
    var Ib = {
        0 : 200,
        1223 : 204
    },
    Jb = fa.ajaxSettings.xhr();
    da.cors = !!Jb && "withCredentials" in Jb,
    da.ajax = Jb = !!Jb,
    fa.ajaxTransport(function(b) {
        var c, d;
        return da.cors || Jb && !b.crossDomain ? {
            send: function(e, f) {
                var g, h = b.xhr();
                if (h.open(b.type, b.url, b.async, b.username, b.password), b.xhrFields) for (g in b.xhrFields) h[g] = b.xhrFields[g];
                b.mimeType && h.overrideMimeType && h.overrideMimeType(b.mimeType),
                b.crossDomain || e["X-Requested-With"] || (e["X-Requested-With"] = "XMLHttpRequest");
                for (g in e) h.setRequestHeader(g, e[g]);
                c = function(a) {
                    return function() {
                        c && (c = d = h.onload = h.onerror = h.onabort = h.onreadystatechange = null, "abort" === a ? h.abort() : "error" === a ? "number" != typeof h.status ? f(0, "error") : f(h.status, h.statusText) : f(Ib[h.status] || h.status, h.statusText, "text" !== (h.responseType || "text") || "string" != typeof h.responseText ? {
                            binary: h.response
                        }: {
                            text: h.responseText
                        },
                        h.getAllResponseHeaders()))
                    }
                },
                h.onload = c(),
                d = h.onerror = c("error"),
                void 0 !== h.onabort ? h.onabort = d: h.onreadystatechange = function() {
                    4 === h.readyState && a.setTimeout(function() {
                        c && d()
                    })
                },
                c = c("abort");
                try {
                    h.send(b.hasContent && b.data || null)
                } catch(i) {
                    if (c) throw i
                }
            },
            abort: function() {
                c && c()
            }
        }: void 0
    }),
    fa.ajaxSetup({
        accepts: {
            script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
        },
        contents: {
            script: /\b(?:java|ecma)script\b/
        },
        converters: {
            "text script": function(a) {
                return fa.globalEval(a),
                a
            }
        }
    }),
    fa.ajaxPrefilter("script",
    function(a) {
        void 0 === a.cache && (a.cache = !1),
        a.crossDomain && (a.type = "GET")
    }),
    fa.ajaxTransport("script",
    function(a) {
        if (a.crossDomain) {
            var b, c;
            return {
                send: function(d, e) {
                    b = fa("<script>").prop({
                        charset: a.scriptCharset,
                        src: a.url
                    }).on("load error", c = function(a) {
                        b.remove(),
                        c = null,
                        a && e("error" === a.type ? 404 : 200, a.type)
                    }),
                    X.head.appendChild(b[0])
                },
                abort: function() {
                    c && c()
                }
            }
        }
    });
    var Kb = [],
    Lb = /(=)\?(?=&|$)|\?\?/;
    fa.ajaxSetup({
        jsonp: "callback",
        jsonpCallback: function() {
            var a = Kb.pop() || fa.expando + "_" + rb++;
            return this[a] = !0,
            a
        }
    }),
    fa.ajaxPrefilter("json jsonp",
    function(b, c, d) {
        var e, f, g, h = b.jsonp !== !1 && (Lb.test(b.url) ? "url": "string" == typeof b.data && 0 === (b.contentType || "").indexOf("application/x-www-form-urlencoded") && Lb.test(b.data) && "data");
        return h || "jsonp" === b.dataTypes[0] ? (e = b.jsonpCallback = fa.isFunction(b.jsonpCallback) ? b.jsonpCallback() : b.jsonpCallback, h ? b[h] = b[h].replace(Lb, "$1" + e) : b.jsonp !== !1 && (b.url += (sb.test(b.url) ? "&": "?") + b.jsonp + "=" + e), b.converters["script json"] = function() {
            return g || fa.error(e + " was not called"),
            g[0]
        },
        b.dataTypes[0] = "json", f = a[e], a[e] = function() {
            g = arguments
        },
        d.always(function() {
            void 0 === f ? fa(a).removeProp(e) : a[e] = f,
            b[e] && (b.jsonpCallback = c.jsonpCallback, Kb.push(e)),
            g && fa.isFunction(f) && f(g[0]),
            g = f = void 0
        }), "script") : void 0
    }),
    fa.parseHTML = function(a, b, c) {
        if (!a || "string" != typeof a) return null;
        "boolean" == typeof b && (c = b, b = !1),
        b = b || X;
        var d = oa.exec(a),
        e = !c && [];
        return d ? [b.createElement(d[1])] : (d = m([a], b, e), e && e.length && fa(e).remove(), fa.merge([], d.childNodes))
    };
    var Mb = fa.fn.load;
    fa.fn.load = function(a, b, c) {
        if ("string" != typeof a && Mb) return Mb.apply(this, arguments);
        var d, e, f, g = this,
        h = a.indexOf(" ");
        return h > -1 && (d = fa.trim(a.slice(h)), a = a.slice(0, h)),
        fa.isFunction(b) ? (c = b, b = void 0) : b && "object" == typeof b && (e = "POST"),
        g.length > 0 && fa.ajax({
            url: a,
            type: e || "GET",
            dataType: "html",
            data: b
        }).done(function(a) {
            f = arguments,
            g.html(d ? fa("<div>").append(fa.parseHTML(a)).find(d) : a)
        }).always(c &&
        function(a, b) {
            g.each(function() {
                c.apply(this, f || [a.responseText, b, a])
            })
        }),
        this
    },
    fa.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"],
    function(a, b) {
        fa.fn[b] = function(a) {
            return this.on(b, a)
        }
    }),
    fa.expr.filters.animated = function(a) {
        return fa.grep(fa.timers,
        function(b) {
            return a === b.elem
        }).length
    },
    fa.offset = {
        setOffset: function(a, b, c) {
            var d, e, f, g, h, i, j, k = fa.css(a, "position"),
            l = fa(a),
            m = {};
            "static" === k && (a.style.position = "relative"),
            h = l.offset(),
            f = fa.css(a, "top"),
            i = fa.css(a, "left"),
            j = ("absolute" === k || "fixed" === k) && (f + i).indexOf("auto") > -1,
            j ? (d = l.position(), g = d.top, e = d.left) : (g = parseFloat(f) || 0, e = parseFloat(i) || 0),
            fa.isFunction(b) && (b = b.call(a, c, fa.extend({},
            h))),
            null != b.top && (m.top = b.top - h.top + g),
            null != b.left && (m.left = b.left - h.left + e),
            "using" in b ? b.using.call(a, m) : l.css(m)
        }
    },
    fa.fn.extend({
        offset: function(a) {
            if (arguments.length) return void 0 === a ? this: this.each(function(b) {
                fa.offset.setOffset(this, a, b)
            });
            var b, c, d = this[0],
            e = {
                top: 0,
                left: 0
            },
            f = d && d.ownerDocument;
            if (f) return b = f.documentElement,
            fa.contains(b, d) ? (e = d.getBoundingClientRect(), c = V(f), {
                top: e.top + c.pageYOffset - b.clientTop,
                left: e.left + c.pageXOffset - b.clientLeft
            }) : e
        },
        position: function() {
            if (this[0]) {
                var a, b, c = this[0],
                d = {
                    top: 0,
                    left: 0
                };
                return "fixed" === fa.css(c, "position") ? b = c.getBoundingClientRect() : (a = this.offsetParent(), b = this.offset(), fa.nodeName(a[0], "html") || (d = a.offset()), d.top += fa.css(a[0], "borderTopWidth", !0), d.left += fa.css(a[0], "borderLeftWidth", !0)),
                {
                    top: b.top - d.top - fa.css(c, "marginTop", !0),
                    left: b.left - d.left - fa.css(c, "marginLeft", !0)
                }
            }
        },
        offsetParent: function() {
            return this.map(function() {
                for (var a = this.offsetParent; a && "static" === fa.css(a, "position");) a = a.offsetParent;
                return a || $a
            })
        }
    }),
    fa.each({
        scrollLeft: "pageXOffset",
        scrollTop: "pageYOffset"
    },
    function(a, b) {
        var c = "pageYOffset" === b;
        fa.fn[a] = function(d) {
            return xa(this,
            function(a, d, e) {
                var f = V(a);
                return void 0 === e ? f ? f[b] : a[d] : void(f ? f.scrollTo(c ? f.pageXOffset: e, c ? e: f.pageYOffset) : a[d] = e)
            },
            a, d, arguments.length)
        }
    }),
    fa.each(["top", "left"],
    function(a, b) {
        fa.cssHooks[b] = B(da.pixelPosition,
        function(a, c) {
            return c ? (c = A(a, b), Xa.test(c) ? fa(a).position()[b] + "px": c) : void 0
        })
    }),
    fa.each({
        Height: "height",
        Width: "width"
    },
    function(a, b) {
        fa.each({
            padding: "inner" + a,
            content: b,
            "": "outer" + a
        },
        function(c, d) {
            fa.fn[d] = function(d, e) {
                var f = arguments.length && (c || "boolean" != typeof d),
                g = c || (d === !0 || e === !0 ? "margin": "border");
                return xa(this,
                function(b, c, d) {
                    var e;
                    return fa.isWindow(b) ? b.document.documentElement["client" + a] : 9 === b.nodeType ? (e = b.documentElement, Math.max(b.body["scroll" + a], e["scroll" + a], b.body["offset" + a], e["offset" + a], e["client" + a])) : void 0 === d ? fa.css(b, c, g) : fa.style(b, c, d, g);
                },
                b, f ? d: void 0, f, null)
            }
        })
    }),
    fa.fn.extend({
        bind: function(a, b, c) {
            return this.on(a, null, b, c)
        },
        unbind: function(a, b) {
            return this.off(a, null, b)
        },
        delegate: function(a, b, c, d) {
            return this.on(b, a, c, d)
        },
        undelegate: function(a, b, c) {
            return 1 === arguments.length ? this.off(a, "**") : this.off(b, a || "**", c)
        },
        size: function() {
            return this.length
        }
    }),
    fa.fn.andSelf = fa.fn.addBack,
    "function" == typeof define && define.amd && define("jquery", [],
    function() {
        return fa
    });
    var Nb = a.jQuery,
    Ob = a.$;
    return fa.noConflict = function(b) {
        return a.$ === fa && (a.$ = Ob),
        b && a.jQuery === fa && (a.jQuery = Nb),
        fa
    },
    b || (a.jQuery = a.$ = fa),
    fa
}),
function(a) {
    a.rebox = function(b, c) {
        this.settings = a.extend(!0, {},
        a.rebox.defaults, c),
        this.$el = b,
        this.$box = null,
        this.$items = null,
        this.idx = 0,
        this.enable()
    },
    a.rebox.defaults = {
        theme: "rebox",
        selector: null,
        prev: "&larr;",
        next: "&rarr;",
        loading: "%",
        close: "&times;",
        speed: 400,
        zIndex: 1e3,
        cycle: !0,
        captionAttr: "title",
        template: "image",
        templates: {
            image: function(b, c, d) {
                return a('<img src="' + b.attr("href") + '" class="' + c.theme + '-content" />').load(d)
            }
        }
    },
    a.rebox.setDefaults = function(b) {
        a.rebox.defaults = a.extend(!0, {},
        a.rebox.defaults, b)
    },
    a.rebox.lookup = {
        i: 0
    },
    a.extend(a.rebox.prototype, {
        enable: function() {
            var a = this;
            return a.$el.on("click.rebox", a.settings.selector,
            function(b) {
                b.preventDefault(),
                a.open(this)
            })
        },
        open: function(b) {
            var c = this;
            return c.$items = null === c.settings.selector ? c.$el: c.$el.find(c.settings.selector),
            isNaN(b) && (b = c.$items.index(b)),
            c.$box = a('<div class="' + c.settings.theme + '" style="display:none;"><a href="#" class="' + c.settings.theme + "-close " + c.settings.theme + '-button">' + c.settings.close + '</a><a href="#" class="' + c.settings.theme + "-prev " + c.settings.theme + '-button">' + c.settings.prev + '</a><a href="#" class="' + c.settings.theme + "-next " + c.settings.theme + '-button">' + c.settings.next + '</a><div class="' + c.settings.theme + '-contents"></div><div class="' + c.settings.theme + '-caption"><p></p></div></div>').appendTo("body").css("zIndex", c.settings.zIndex).fadeIn(c.settings.speed).on("click.rebox", "." + c.settings.theme + "-close",
            function(a) {
                a.preventDefault(),
                c.close()
            }).on("click.rebox", "." + c.settings.theme + "-next",
            function(a) {
                a.preventDefault(),
                c.next()
            }).on("click.rebox", "." + c.settings.theme + "-prev",
            function(a) {
                a.preventDefault(),
                c.prev()
            }),
            a(document).on("swipeLeft.rebox",
            function(a) {
                c.next()
            }).on("swipeRight.rebox",
            function(a) {
                c.prev()
            }).on("keydown.rebox",
            function(a) {
                a.preventDefault();
                var b = window.event ? event.keyCode: a.keyCode;
                switch (b) {
                case 27:
                    c.close();
                    break;
                case 37:
                    c.prev();
                    break;
                case 39:
                    c.next()
                }
            }),
            c.$el.trigger("rebox:open", [c]),
            c["goto"](b),
            c.$el
        },
        close: function() {
            var b = this;
            return b.$box && b.$box.length && b.$box.fadeOut(b.settings.speed,
            function(a) {
                b.$box.remove(),
                b.$box = null,
                b.$el.trigger("rebox:close", [b])
            }),
            a(document).off(".rebox"),
            b.$el
        },
        "goto": function(b) {
            var c = this,
            d = a(c.$items[b]),
            e = d.attr(c.settings.captionAttr),
            f = (c.$box.children("." + c.settings.theme + "-caption")[e ? "show": "hide"]().children("p").text(e), c.$box.children("." + c.settings.theme + "-contents")),
            g = null;
            return d.length && (c.idx = b, f.html('<div class="' + c.settings.theme + "-loading " + c.settings.theme + '-button">' + c.settings.loading + "</div>"), g = c.settings.templates[d.data("rebox-template") || c.settings.template](d, c.settings,
            function(b) {
                f.empty().append(a(this))
            }), 1 != c.$items.length && c.settings.cycle || (c.$box.children("." + c.settings.theme + "-prev")[0 >= b ? "hide": "show"](), c.$box.children("." + c.settings.theme + "-next")[b >= c.$items.length - 1 ? "hide": "show"]()), c.$el.trigger("rebox:goto", [c, b, d, g])),
            c.$el
        },
        prev: function() {
            var a = this;
            return a["goto"](0 === a.idx ? a.$items.length - 1 : a.idx - 1)
        },
        next: function() {
            var a = this;
            return a["goto"](a.idx === a.$items.length - 1 ? 0 : a.idx + 1)
        },
        disable: function() {
            var a = this;
            return a.close().off(".rebox").trigger("rebox:disable", [a])
        },
        destroy: function() {
            var a = this;
            return a.disable().removeData("rebox").trigger("rebox:destroy")
        },
        option: function(a, b) {
            var c = this;
            return void 0 !== b ? (c.settings[a] = b, c.disable().enable()) : c.settings[a]
        }
    }),
    a.fn.rebox = function(b) {
        b = b || {};
        var c = Array.prototype.slice.call(arguments);
        if ("string" == typeof b) {
            if ("option" == b && "string" == typeof c[1] && 2 === c.length) {
                var d = a.rebox.lookup[a(this).data("rebox")];
                return d[b].apply(d, c.slice(1))
            }
            return this.each(function() {
                var d = a.rebox.lookup[a(this).data("rebox")];
                d[b].apply(d, c.slice(1))
            })
        }
        return this.each(function() {
            var c = a(this);
            a.rebox.lookup[++a.rebox.lookup.i] = new a.rebox(c, b),
            c.data("rebox", a.rebox.lookup.i)
        })
    }
} (window.jQuery || window.Zepto || window.$),
function(a) {
    "function" == typeof define && define.amd ? define(["jquery"], a) : "object" == typeof exports ? module.exports = a(require("jquery")) : a(jQuery)
} (function(a) {
    var b = !1,
    c = !1,
    d = 0,
    e = 2e3,
    f = 0,
    g = ["webkit", "ms", "moz", "o"],
    h = window.requestAnimationFrame || !1,
    i = window.cancelAnimationFrame || !1;
    if (!h) for (var j in g) {
        var k = g[j];
        if (h = window[k + "RequestAnimationFrame"]) {
            i = window[k + "CancelAnimationFrame"] || window[k + "CancelRequestAnimationFrame"];
            break
        }
    }
    var l = window.MutationObserver || window.WebKitMutationObserver || !1,
    m = {
        zindex: "auto",
        cursoropacitymin: 0,
        cursoropacitymax: 1,
        cursorcolor: "#424242",
        cursorwidth: "6px",
        cursorborder: "1px solid #fff",
        cursorborderradius: "5px",
        scrollspeed: 60,
        mousescrollstep: 24,
        touchbehavior: !1,
        hwacceleration: !0,
        usetransition: !0,
        boxzoom: !1,
        dblclickzoom: !0,
        gesturezoom: !0,
        grabcursorenabled: !0,
        autohidemode: !0,
        background: "",
        iframeautoresize: !0,
        cursorminheight: 32,
        preservenativescrolling: !0,
        railoffset: !1,
        railhoffset: !1,
        bouncescroll: !0,
        spacebarenabled: !0,
        railpadding: {
            top: 0,
            right: 0,
            left: 0,
            bottom: 0
        },
        disableoutline: !0,
        horizrailenabled: !0,
        railalign: "right",
        railvalign: "bottom",
        enabletranslate3d: !0,
        enablemousewheel: !0,
        enablekeyboard: !0,
        smoothscroll: !0,
        sensitiverail: !0,
        enablemouselockapi: !0,
        cursorfixedheight: !1,
        directionlockdeadzone: 6,
        hidecursordelay: 400,
        nativeparentscrolling: !0,
        enablescrollonselection: !0,
        overflowx: !0,
        overflowy: !0,
        cursordragspeed: .3,
        rtlmode: "auto",
        cursordragontouch: !1,
        oneaxismousemode: "auto",
        scriptpath: function() {
            var a = document.getElementsByTagName("script"),
            a = a.length ? a[a.length - 1].src.split("?")[0] : "";
            return 0 < a.split("/").length ? a.split("/").slice(0, -1).join("/") + "/": ""
        } (),
        preventmultitouchscrolling: !0,
        disablemutationobserver: !1
    },
    n = !1,
    o = function() {
        if (n) return n;
        var a = document.createElement("DIV"),
        b = a.style,
        c = navigator.userAgent,
        d = navigator.platform,
        e = {
            haspointerlock: "pointerLockElement" in document || "webkitPointerLockElement" in document || "mozPointerLockElement" in document
        };
        e.isopera = "opera" in window,
        e.isopera12 = e.isopera && "getUserMedia" in navigator,
        e.isoperamini = "[object OperaMini]" === Object.prototype.toString.call(window.operamini),
        e.isie = "all" in document && "attachEvent" in a && !e.isopera,
        e.isieold = e.isie && !("msInterpolationMode" in b),
        e.isie7 = e.isie && !e.isieold && (!("documentMode" in document) || 7 == document.documentMode),
        e.isie8 = e.isie && "documentMode" in document && 8 == document.documentMode,
        e.isie9 = e.isie && "performance" in window && 9 == document.documentMode,
        e.isie10 = e.isie && "performance" in window && 10 == document.documentMode,
        e.isie11 = "msRequestFullscreen" in a && 11 <= document.documentMode,
        e.isieedge12 = navigator.userAgent.match(/Edge\/12\./),
        e.isieedge = "msOverflowStyle" in a,
        e.ismodernie = e.isie11 || e.isieedge,
        e.isie9mobile = /iemobile.9/i.test(c),
        e.isie9mobile && (e.isie9 = !1),
        e.isie7mobile = !e.isie9mobile && e.isie7 && /iemobile/i.test(c),
        e.ismozilla = "MozAppearance" in b,
        e.iswebkit = "WebkitAppearance" in b,
        e.ischrome = "chrome" in window,
        e.ischrome38 = e.ischrome && "touchAction" in b,
        e.ischrome22 = !e.ischrome38 && e.ischrome && e.haspointerlock,
        e.ischrome26 = !e.ischrome38 && e.ischrome && "transition" in b,
        e.cantouch = "ontouchstart" in document.documentElement || "ontouchstart" in window,
        e.hasw3ctouch = (window.PointerEvent || !1) && (0 < navigator.MaxTouchPoints || 0 < navigator.msMaxTouchPoints),
        e.hasmstouch = !e.hasw3ctouch && (window.MSPointerEvent || !1),
        e.ismac = /^mac$/i.test(d),
        e.isios = e.cantouch && /iphone|ipad|ipod/i.test(d),
        e.isios4 = e.isios && !("seal" in Object),
        e.isios7 = e.isios && "webkitHidden" in document,
        e.isios8 = e.isios && "hidden" in document,
        e.isandroid = /android/i.test(c),
        e.haseventlistener = "addEventListener" in a,
        e.trstyle = !1,
        e.hastransform = !1,
        e.hastranslate3d = !1,
        e.transitionstyle = !1,
        e.hastransition = !1,
        e.transitionend = !1,
        d = ["transform", "msTransform", "webkitTransform", "MozTransform", "OTransform"];
        for (c = 0; c < d.length; c++) if (void 0 !== b[d[c]]) {
            e.trstyle = d[c];
            break
        }
        e.hastransform = !!e.trstyle,
        e.hastransform && (b[e.trstyle] = "translate3d(1px,2px,3px)", e.hastranslate3d = /translate3d/.test(b[e.trstyle])),
        e.transitionstyle = !1,
        e.prefixstyle = "",
        e.transitionend = !1;
        for (var d = "transition webkitTransition msTransition MozTransition OTransition OTransition KhtmlTransition".split(" "), f = " -webkit- -ms- -moz- -o- -o -khtml-".split(" "), g = "transitionend webkitTransitionEnd msTransitionEnd transitionend otransitionend oTransitionEnd KhtmlTransitionEnd".split(" "), c = 0; c < d.length; c++) if (d[c] in b) {
            e.transitionstyle = d[c],
            e.prefixstyle = f[c],
            e.transitionend = g[c];
            break
        }
        e.ischrome26 && (e.prefixstyle = f[1]),
        e.hastransition = e.transitionstyle;
        a: {
            for (c = ["grab", "-webkit-grab", "-moz-grab"], (e.ischrome && !e.ischrome38 || e.isie) && (c = []), d = 0; d < c.length; d++) if (f = c[d], b.cursor = f, b.cursor == f) {
                b = f;
                break a
            }
            b = "url(//patriciaportfolio.googlecode.com/files/openhand.cur),n-resize"
        }
        return e.cursorgrabvalue = b,
        e.hasmousecapture = "setCapture" in a,
        e.hasMutationObserver = !1 !== l,
        n = e
    },
    p = function(g, j) {
        function k() {
            var a = t.doc.css(w.trstyle);
            return a && "matrix" == a.substr(0, 6) ? a.replace(/^.*\((.*)\)$/g, "$1").replace(/px/g, "").split(/, +/) : !1
        }
        function n() {
            var a = t.win;
            if ("zIndex" in a) return a.zIndex();
            for (; 0 < a.length && 9 != a[0].nodeType;) {
                var b = a.css("zIndex");
                if (!isNaN(b) && 0 != b) return parseInt(b);
                a = a.parent()
            }
            return ! 1
        }
        function p(a, b, c) {
            return b = a.css(b),
            a = parseFloat(b),
            isNaN(a) ? (a = A[b] || 0, c = 3 == a ? c ? t.win.outerHeight() - t.win.innerHeight() : t.win.outerWidth() - t.win.innerWidth() : 1, t.isie8 && a && (a += 1), c ? a: 0) : a
        }
        function r(a, b, c, d) {
            t._bind(a, b,
            function(d) {
                d = d ? d: window.event;
                var e = {
                    original: d,
                    target: d.target || d.srcElement,
                    type: "wheel",
                    deltaMode: "MozMousePixelScroll" == d.type ? 0 : 1,
                    deltaX: 0,
                    deltaZ: 0,
                    preventDefault: function() {
                        return d.preventDefault ? d.preventDefault() : d.returnValue = !1,
                        !1
                    },
                    stopImmediatePropagation: function() {
                        d.stopImmediatePropagation ? d.stopImmediatePropagation() : d.cancelBubble = !0
                    }
                };
                return "mousewheel" == b ? (d.wheelDeltaX && (e.deltaX = -.025 * d.wheelDeltaX), d.wheelDeltaY && (e.deltaY = -.025 * d.wheelDeltaY), e.deltaY || e.deltaX || (e.deltaY = -.025 * d.wheelDelta)) : e.deltaY = d.detail,
                c.call(a, e)
            },
            d)
        }
        function s(a, b, c) {
            var d, e;
            if (0 == a.deltaMode ? (d = -Math.floor(t.opt.mousescrollstep / 54 * a.deltaX), e = -Math.floor(t.opt.mousescrollstep / 54 * a.deltaY)) : 1 == a.deltaMode && (d = -Math.floor(a.deltaX * t.opt.mousescrollstep), e = -Math.floor(a.deltaY * t.opt.mousescrollstep)), b && t.opt.oneaxismousemode && 0 == d && e && (d = e, e = 0, c && (0 > d ? t.getScrollLeft() >= t.page.maxw: 0 >= t.getScrollLeft()) && (e = d, d = 0)), t.isrtlmode && (d = -d), d && (t.scrollmom && t.scrollmom.stop(), t.lastdeltax += d, t.debounced("mousewheelx",
            function() {
                var a = t.lastdeltax;
                t.lastdeltax = 0,
                t.rail.drag || t.doScrollLeftBy(a)
            },
            15)), e) {
                if (t.opt.nativeparentscrolling && c && !t.ispage && !t.zoomactive) if (0 > e) {
                    if (t.getScrollTop() >= t.page.maxh) return ! 0
                } else if (0 >= t.getScrollTop()) return ! 0;
                t.scrollmom && t.scrollmom.stop(),
                t.lastdeltay += e,
                t.synched("mousewheely",
                function() {
                    var a = t.lastdeltay;
                    t.lastdeltay = 0,
                    t.rail.drag || t.doScrollBy(a)
                },
                15)
            }
            return a.stopImmediatePropagation(),
            a.preventDefault()
        }
        var t = this;
        if (this.version = "3.6.8", this.name = "nicescroll", this.me = j, this.opt = {
            doc: a("body"),
            win: !1
        },
        a.extend(this.opt, m), this.opt.snapbackspeed = 80, g) for (var u in t.opt) void 0 !== g[u] && (t.opt[u] = g[u]);
        if (t.opt.disablemutationobserver && (l = !1), this.iddoc = (this.doc = t.opt.doc) && this.doc[0] ? this.doc[0].id || "": "", this.ispage = /^BODY|HTML/.test(t.opt.win ? t.opt.win[0].nodeName: this.doc[0].nodeName), this.haswrapper = !1 !== t.opt.win, this.win = t.opt.win || (this.ispage ? a(window) : this.doc), this.docscroll = this.ispage && !this.haswrapper ? a(window) : this.win, this.body = a("body"), this.iframe = this.isfixed = this.viewport = !1, this.isiframe = "IFRAME" == this.doc[0].nodeName && "IFRAME" == this.win[0].nodeName, this.istextarea = "TEXTAREA" == this.win[0].nodeName, this.forcescreen = !1, this.canshowonmouseevent = "scroll" != t.opt.autohidemode, this.page = this.view = this.onzoomout = this.onzoomin = this.onscrollcancel = this.onscrollend = this.onscrollstart = this.onclick = this.ongesturezoom = this.onkeypress = this.onmousewheel = this.onmousemove = this.onmouseup = this.onmousedown = !1, this.scroll = {
            x: 0,
            y: 0
        },
        this.scrollratio = {
            x: 0,
            y: 0
        },
        this.cursorheight = 20, this.scrollvaluemax = 0, "auto" == this.opt.rtlmode) {
            u = this.win[0] == window ? this.body: this.win;
            var v = u.css("writing-mode") || u.css("-webkit-writing-mode") || u.css("-ms-writing-mode") || u.css("-moz-writing-mode");
            "horizontal-tb" == v || "lr-tb" == v || "" == v ? (this.isrtlmode = "rtl" == u.css("direction"), this.isvertical = !1) : (this.isrtlmode = "vertical-rl" == v || "tb" == v || "tb-rl" == v || "rl-tb" == v, this.isvertical = "vertical-rl" == v || "tb" == v || "tb-rl" == v)
        } else this.isrtlmode = !0 === this.opt.rtlmode,
        this.isvertical = !1;
        this.observerbody = this.observerremover = this.observer = this.scrollmom = this.scrollrunning = !1;
        do this.id = "ascrail" + e++;
        while (document.getElementById(this.id));
        this.hasmousefocus = this.hasfocus = this.zoomactive = this.zoom = this.selectiondrag = this.cursorfreezed = this.cursor = this.rail = !1,
        this.visibility = !0,
        this.hidden = this.locked = this.railslocked = !1,
        this.cursoractive = !0,
        this.wheelprevented = !1,
        this.overflowx = t.opt.overflowx,
        this.overflowy = t.opt.overflowy,
        this.nativescrollingarea = !1,
        this.checkarea = 0,
        this.events = [],
        this.saved = {},
        this.delaylist = {},
        this.synclist = {},
        this.lastdeltay = this.lastdeltax = 0,
        this.detected = o();
        var w = a.extend({},
        this.detected);
        this.ishwscroll = (this.canhwscroll = w.hastransform && t.opt.hwacceleration) && t.haswrapper,
        this.hasreversehr = this.isrtlmode ? this.isvertical ? !(w.iswebkit || w.isie || w.isie11) : !(w.iswebkit || w.isie && !w.isie10 && !w.isie11) : !1,
        this.istouchcapable = !1,
        w.cantouch || !w.hasw3ctouch && !w.hasmstouch ? !w.cantouch || w.isios || w.isandroid || !w.iswebkit && !w.ismozilla || (this.istouchcapable = !0) : this.istouchcapable = !0,
        t.opt.enablemouselockapi || (w.hasmousecapture = !1, w.haspointerlock = !1),
        this.debounced = function(a, b, c) {
            t && (t.delaylist[a] || (b.call(t), t.delaylist[a] = {
                h: h(function() {
                    t.delaylist[a].fn.call(t),
                    t.delaylist[a] = !1
                },
                c)
            }), t.delaylist[a].fn = b)
        };
        var x = !1;
        this.synched = function(a, b) {
            return t.synclist[a] = b,
            function() {
                x || (h(function() {
                    if (t) {
                        x = !1;
                        for (var a in t.synclist) {
                            var b = t.synclist[a];
                            b && b.call(t),
                            t.synclist[a] = !1
                        }
                    }
                }), x = !0)
            } (),
            a
        },
        this.unsynched = function(a) {
            t.synclist[a] && (t.synclist[a] = !1)
        },
        this.css = function(a, b) {
            for (var c in b) t.saved.css.push([a, c, a.css(c)]),
            a.css(c, b[c])
        },
        this.scrollTop = function(a) {
            return void 0 === a ? t.getScrollTop() : t.setScrollTop(a)
        },
        this.scrollLeft = function(a) {
            return void 0 === a ? t.getScrollLeft() : t.setScrollLeft(a)
        };
        var y = function(a, b, c, d, e, f, g) {
            this.st = a,
            this.ed = b,
            this.spd = c,
            this.p1 = d || 0,
            this.p2 = e || 1,
            this.p3 = f || 0,
            this.p4 = g || 1,
            this.ts = (new Date).getTime(),
            this.df = this.ed - this.st
        };
        if (y.prototype = {
            B2: function(a) {
                return 3 * a * a * (1 - a)
            },
            B3: function(a) {
                return 3 * a * (1 - a) * (1 - a)
            },
            B4: function(a) {
                return (1 - a) * (1 - a) * (1 - a)
            },
            getNow: function() {
                var a = 1 - ((new Date).getTime() - this.ts) / this.spd,
                b = this.B2(a) + this.B3(a) + this.B4(a);
                return 0 > a ? this.ed: this.st + Math.round(this.df * b)
            },
            update: function(a, b) {
                return this.st = this.getNow(),
                this.ed = a,
                this.spd = b,
                this.ts = (new Date).getTime(),
                this.df = this.ed - this.st,
                this
            }
        },
        this.ishwscroll) {
            this.doc.translate = {
                x: 0,
                y: 0,
                tx: "0px",
                ty: "0px"
            },
            w.hastranslate3d && w.isios && this.doc.css("-webkit-backface-visibility", "hidden"),
            this.getScrollTop = function(a) {
                if (!a) {
                    if (a = k()) return 16 == a.length ? -a[13] : -a[5];
                    if (t.timerscroll && t.timerscroll.bz) return t.timerscroll.bz.getNow()
                }
                return t.doc.translate.y
            },
            this.getScrollLeft = function(a) {
                if (!a) {
                    if (a = k()) return 16 == a.length ? -a[12] : -a[4];
                    if (t.timerscroll && t.timerscroll.bh) return t.timerscroll.bh.getNow()
                }
                return t.doc.translate.x
            },
            this.notifyScrollEvent = function(a) {
                var b = document.createEvent("UIEvents");
                b.initUIEvent("scroll", !1, !0, window, 1),
                b.niceevent = !0,
                a.dispatchEvent(b)
            };
            var z = this.isrtlmode ? 1 : -1;
            w.hastranslate3d && t.opt.enabletranslate3d ? (this.setScrollTop = function(a, b) {
                t.doc.translate.y = a,
                t.doc.translate.ty = -1 * a + "px",
                t.doc.css(w.trstyle, "translate3d(" + t.doc.translate.tx + "," + t.doc.translate.ty + ",0px)"),
                b || t.notifyScrollEvent(t.win[0])
            },
            this.setScrollLeft = function(a, b) {
                t.doc.translate.x = a,
                t.doc.translate.tx = a * z + "px",
                t.doc.css(w.trstyle, "translate3d(" + t.doc.translate.tx + "," + t.doc.translate.ty + ",0px)"),
                b || t.notifyScrollEvent(t.win[0])
            }) : (this.setScrollTop = function(a, b) {
                t.doc.translate.y = a,
                t.doc.translate.ty = -1 * a + "px",
                t.doc.css(w.trstyle, "translate(" + t.doc.translate.tx + "," + t.doc.translate.ty + ")"),
                b || t.notifyScrollEvent(t.win[0])
            },
            this.setScrollLeft = function(a, b) {
                t.doc.translate.x = a,
                t.doc.translate.tx = a * z + "px",
                t.doc.css(w.trstyle, "translate(" + t.doc.translate.tx + "," + t.doc.translate.ty + ")"),
                b || t.notifyScrollEvent(t.win[0])
            })
        } else this.getScrollTop = function() {
            return t.docscroll.scrollTop()
        },
        this.setScrollTop = function(a) {
            return setTimeout(function() {
                t && t.docscroll.scrollTop(a)
            },
            1)
        },
        this.getScrollLeft = function() {
            return t.hasreversehr ? t.detected.ismozilla ? t.page.maxw - Math.abs(t.docscroll.scrollLeft()) : t.page.maxw - t.docscroll.scrollLeft() : t.docscroll.scrollLeft()
        },
        this.setScrollLeft = function(a) {
            return setTimeout(function() {
                return t ? (t.hasreversehr && (a = t.detected.ismozilla ? -(t.page.maxw - a) : t.page.maxw - a), t.docscroll.scrollLeft(a)) : void 0
            },
            1)
        };
        this.getTarget = function(a) {
            return a ? a.target ? a.target: a.srcElement ? a.srcElement: !1 : !1
        },
        this.hasParent = function(a, b) {
            if (!a) return ! 1;
            for (var c = a.target || a.srcElement || a || !1; c && c.id != b;) c = c.parentNode || !1;
            return ! 1 !== c
        };
        var A = {
            thin: 1,
            medium: 3,
            thick: 5
        };
        this.getDocumentScrollOffset = function() {
            return {
                top: window.pageYOffset || document.documentElement.scrollTop,
                left: window.pageXOffset || document.documentElement.scrollLeft
            }
        },
        this.getOffset = function() {
            if (t.isfixed) {
                var a = t.win.offset(),
                b = t.getDocumentScrollOffset();
                return a.top -= b.top,
                a.left -= b.left,
                a
            }
            return a = t.win.offset(),
            t.viewport ? (b = t.viewport.offset(), {
                top: a.top - b.top,
                left: a.left - b.left
            }) : a
        },
        this.updateScrollBar = function(a) {
            var b, c, d;
            if (t.ishwscroll) t.rail.css({
                height: t.win.innerHeight() - (t.opt.railpadding.top + t.opt.railpadding.bottom)
            }),
            t.railh && t.railh.css({
                width: t.win.innerWidth() - (t.opt.railpadding.left + t.opt.railpadding.right)
            });
            else {
                var e = t.getOffset();
                b = e.top,
                c = e.left - (t.opt.railpadding.left + t.opt.railpadding.right),
                b += p(t.win, "border-top-width", !0),
                c += t.rail.align ? t.win.outerWidth() - p(t.win, "border-right-width") - t.rail.width: p(t.win, "border-left-width"),
                (d = t.opt.railoffset) && (d.top && (b += d.top), d.left && (c += d.left)),
                t.railslocked || t.rail.css({
                    top: b,
                    left: c,
                    height: (a ? a.h: t.win.innerHeight()) - (t.opt.railpadding.top + t.opt.railpadding.bottom)
                }),
                t.zoom && t.zoom.css({
                    top: b + 1,
                    left: 1 == t.rail.align ? c - 20 : c + t.rail.width + 4
                }),
                t.railh && !t.railslocked && (b = e.top, c = e.left, (d = t.opt.railhoffset) && (d.top && (b += d.top), d.left && (c += d.left)), a = t.railh.align ? b + p(t.win, "border-top-width", !0) + t.win.innerHeight() - t.railh.height: b + p(t.win, "border-top-width", !0), c += p(t.win, "border-left-width"), t.railh.css({
                    top: a - (t.opt.railpadding.top + t.opt.railpadding.bottom),
                    left: c,
                    width: t.railh.width
                }))
            }
        },
        this.doRailClick = function(a, b, c) {
            var d;
            t.railslocked || (t.cancelEvent(a), b ? (b = c ? t.doScrollLeft: t.doScrollTop, d = c ? (a.pageX - t.railh.offset().left - t.cursorwidth / 2) * t.scrollratio.x: (a.pageY - t.rail.offset().top - t.cursorheight / 2) * t.scrollratio.y, b(d)) : (b = c ? t.doScrollLeftBy: t.doScrollBy, d = c ? t.scroll.x: t.scroll.y, a = c ? a.pageX - t.railh.offset().left: a.pageY - t.rail.offset().top, c = c ? t.view.w: t.view.h, b(d >= a ? c: -c)))
        },
        t.hasanimationframe = h,
        t.hascancelanimationframe = i,
        t.hasanimationframe ? t.hascancelanimationframe || (i = function() {
            t.cancelAnimationFrame = !0
        }) : (h = function(a) {
            return setTimeout(a, 15 - Math.floor( + new Date / 1e3) % 16)
        },
        i = clearTimeout),
        this.init = function() {
            if (t.saved.css = [], w.isie7mobile || w.isoperamini) return ! 0;
            w.hasmstouch && t.css(t.ispage ? a("html") : t.win, {
                _touchaction: "none"
            });
            var e = w.ismodernie || w.isie10 ? {
                "-ms-overflow-style": "none"
            }: {
                "overflow-y": "hidden"
            };
            if (t.zindex = "auto", t.zindex = t.ispage || "auto" != t.opt.zindex ? t.opt.zindex: n() || "auto", !t.ispage && "auto" != t.zindex && t.zindex > f && (f = t.zindex), t.isie && 0 == t.zindex && "auto" == t.opt.zindex && (t.zindex = "auto"), !t.ispage || !w.cantouch && !w.isieold && !w.isie9mobile) {
                var g = t.docscroll;
                t.ispage && (g = t.haswrapper ? t.win: t.doc),
                w.isie9mobile || t.css(g, e),
                t.ispage && w.isie7 && ("BODY" == t.doc[0].nodeName ? t.css(a("html"), {
                    "overflow-y": "hidden"
                }) : "HTML" == t.doc[0].nodeName && t.css(a("body"), e)),
                !w.isios || t.ispage || t.haswrapper || t.css(a("body"), {
                    "-webkit-overflow-scrolling": "touch"
                });
                var h = a(document.createElement("div"));
                h.css({
                    position: "relative",
                    top: 0,
                    "float": "right",
                    width: t.opt.cursorwidth,
                    height: 0,
                    "background-color": t.opt.cursorcolor,
                    border: t.opt.cursorborder,
                    "background-clip": "padding-box",
                    "-webkit-border-radius": t.opt.cursorborderradius,
                    "-moz-border-radius": t.opt.cursorborderradius,
                    "border-radius": t.opt.cursorborderradius
                }),
                h.hborder = parseFloat(h.outerHeight() - h.innerHeight()),
                h.addClass("nicescroll-cursors"),
                t.cursor = h;
                var i = a(document.createElement("div"));
                i.attr("id", t.id),
                i.addClass("nicescroll-rails nicescroll-rails-vr");
                var j, k, m, o = ["left", "right", "top", "bottom"];
                for (m in o) k = o[m],
                (j = t.opt.railpadding[k]) ? i.css("padding-" + k, j + "px") : t.opt.railpadding[k] = 0;
                i.append(h),
                i.width = Math.max(parseFloat(t.opt.cursorwidth), h.outerWidth()),
                i.css({
                    width: i.width + "px",
                    zIndex: t.zindex,
                    background: t.opt.background,
                    cursor: "default"
                }),
                i.visibility = !0,
                i.scrollable = !0,
                i.align = "left" == t.opt.railalign ? 0 : 1,
                t.rail = i,
                h = t.rail.drag = !1,
                !t.opt.boxzoom || t.ispage || w.isieold || (h = document.createElement("div"), t.bind(h, "click", t.doZoom), t.bind(h, "mouseenter",
                function() {
                    t.zoom.css("opacity", t.opt.cursoropacitymax)
                }), t.bind(h, "mouseleave",
                function() {
                    t.zoom.css("opacity", t.opt.cursoropacitymin)
                }), t.zoom = a(h), t.zoom.css({
                    cursor: "pointer",
                    zIndex: t.zindex,
                    backgroundImage: "url(" + t.opt.scriptpath + "zoomico.png)",
                    height: 18,
                    width: 18,
                    backgroundPosition: "0px 0px"
                }), t.opt.dblclickzoom && t.bind(t.win, "dblclick", t.doZoom), w.cantouch && t.opt.gesturezoom && (t.ongesturezoom = function(a) {
                    return 1.5 < a.scale && t.doZoomIn(a),
                    .8 > a.scale && t.doZoomOut(a),
                    t.cancelEvent(a)
                },
                t.bind(t.win, "gestureend", t.ongesturezoom))),
                t.railh = !1;
                var p;
                if (t.opt.horizrailenabled && (t.css(g, {
                    overflowX: "hidden"
                }), h = a(document.createElement("div")), h.css({
                    position: "absolute",
                    top: 0,
                    height: t.opt.cursorwidth,
                    width: 0,
                    backgroundColor: t.opt.cursorcolor,
                    border: t.opt.cursorborder,
                    backgroundClip: "padding-box",
                    "-webkit-border-radius": t.opt.cursorborderradius,
                    "-moz-border-radius": t.opt.cursorborderradius,
                    "border-radius": t.opt.cursorborderradius
                }), w.isieold && h.css("overflow", "hidden"), h.wborder = parseFloat(h.outerWidth() - h.innerWidth()), h.addClass("nicescroll-cursors"), t.cursorh = h, p = a(document.createElement("div")), p.attr("id", t.id + "-hr"), p.addClass("nicescroll-rails nicescroll-rails-hr"), p.height = Math.max(parseFloat(t.opt.cursorwidth), h.outerHeight()), p.css({
                    height: p.height + "px",
                    zIndex: t.zindex,
                    background: t.opt.background
                }), p.append(h), p.visibility = !0, p.scrollable = !0, p.align = "top" == t.opt.railvalign ? 0 : 1, t.railh = p, t.railh.drag = !1), t.ispage ? (i.css({
                    position: "fixed",
                    top: 0,
                    height: "100%"
                }), i.align ? i.css({
                    right: 0
                }) : i.css({
                    left: 0
                }), t.body.append(i), t.railh && (p.css({
                    position: "fixed",
                    left: 0,
                    width: "100%"
                }), p.align ? p.css({
                    bottom: 0
                }) : p.css({
                    top: 0
                }), t.body.append(p))) : (t.ishwscroll ? ("static" == t.win.css("position") && t.css(t.win, {
                    position: "relative"
                }), g = "HTML" == t.win[0].nodeName ? t.body: t.win, a(g).scrollTop(0).scrollLeft(0), t.zoom && (t.zoom.css({
                    position: "absolute",
                    top: 1,
                    right: 0,
                    "margin-right": i.width + 4
                }), g.append(t.zoom)), i.css({
                    position: "absolute",
                    top: 0
                }), i.align ? i.css({
                    right: 0
                }) : i.css({
                    left: 0
                }), g.append(i), p && (p.css({
                    position: "absolute",
                    left: 0,
                    bottom: 0
                }), p.align ? p.css({
                    bottom: 0
                }) : p.css({
                    top: 0
                }), g.append(p))) : (t.isfixed = "fixed" == t.win.css("position"), g = t.isfixed ? "fixed": "absolute", t.isfixed || (t.viewport = t.getViewport(t.win[0])), t.viewport && (t.body = t.viewport, 0 == /fixed|absolute/.test(t.viewport.css("position")) && t.css(t.viewport, {
                    position: "relative"
                })), i.css({
                    position: g
                }), t.zoom && t.zoom.css({
                    position: g
                }), t.updateScrollBar(), t.body.append(i), t.zoom && t.body.append(t.zoom), t.railh && (p.css({
                    position: g
                }), t.body.append(p))), w.isios && t.css(t.win, {
                    "-webkit-tap-highlight-color": "rgba(0,0,0,0)",
                    "-webkit-touch-callout": "none"
                }), w.isie && t.opt.disableoutline && t.win.attr("hideFocus", "true"), w.iswebkit && t.opt.disableoutline && t.win.css("outline", "none")), !1 === t.opt.autohidemode ? (t.autohidedom = !1, t.rail.css({
                    opacity: t.opt.cursoropacitymax
                }), t.railh && t.railh.css({
                    opacity: t.opt.cursoropacitymax
                })) : !0 === t.opt.autohidemode || "leave" === t.opt.autohidemode ? (t.autohidedom = a().add(t.rail), w.isie8 && (t.autohidedom = t.autohidedom.add(t.cursor)), t.railh && (t.autohidedom = t.autohidedom.add(t.railh)), t.railh && w.isie8 && (t.autohidedom = t.autohidedom.add(t.cursorh))) : "scroll" == t.opt.autohidemode ? (t.autohidedom = a().add(t.rail), t.railh && (t.autohidedom = t.autohidedom.add(t.railh))) : "cursor" == t.opt.autohidemode ? (t.autohidedom = a().add(t.cursor), t.railh && (t.autohidedom = t.autohidedom.add(t.cursorh))) : "hidden" == t.opt.autohidemode && (t.autohidedom = !1, t.hide(), t.railslocked = !1), w.isie9mobile) t.scrollmom = new q(t),
                t.onmangotouch = function() {
                    var a = t.getScrollTop(),
                    b = t.getScrollLeft();
                    if (a == t.scrollmom.lastscrolly && b == t.scrollmom.lastscrollx) return ! 0;
                    var c = a - t.mangotouch.sy,
                    d = b - t.mangotouch.sx;
                    if (0 != Math.round(Math.sqrt(Math.pow(d, 2) + Math.pow(c, 2)))) {
                        var e = 0 > c ? -1 : 1,
                        f = 0 > d ? -1 : 1,
                        g = +new Date;
                        t.mangotouch.lazy && clearTimeout(t.mangotouch.lazy),
                        80 < g - t.mangotouch.tm || t.mangotouch.dry != e || t.mangotouch.drx != f ? (t.scrollmom.stop(), t.scrollmom.reset(b, a), t.mangotouch.sy = a, t.mangotouch.ly = a, t.mangotouch.sx = b, t.mangotouch.lx = b, t.mangotouch.dry = e, t.mangotouch.drx = f, t.mangotouch.tm = g) : (t.scrollmom.stop(), t.scrollmom.update(t.mangotouch.sx - d, t.mangotouch.sy - c), t.mangotouch.tm = g, c = Math.max(Math.abs(t.mangotouch.ly - a), Math.abs(t.mangotouch.lx - b)), t.mangotouch.ly = a, t.mangotouch.lx = b, c > 2 && (t.mangotouch.lazy = setTimeout(function() {
                            t.mangotouch.lazy = !1,
                            t.mangotouch.dry = 0,
                            t.mangotouch.drx = 0,
                            t.mangotouch.tm = 0,
                            t.scrollmom.doMomentum(30)
                        },
                        100)))
                    }
                },
                i = t.getScrollTop(),
                p = t.getScrollLeft(),
                t.mangotouch = {
                    sy: i,
                    ly: i,
                    dry: 0,
                    sx: p,
                    lx: p,
                    drx: 0,
                    lazy: !1,
                    tm: 0
                },
                t.bind(t.docscroll, "scroll", t.onmangotouch);
                else {
                    if (w.cantouch || t.istouchcapable || t.opt.touchbehavior || w.hasmstouch) {
                        t.scrollmom = new q(t),
                        t.ontouchstart = function(b) {
                            if (b.pointerType && 2 != b.pointerType && "touch" != b.pointerType) return ! 1;
                            if (t.hasmoving = !1, !t.railslocked) {
                                var c;
                                if (w.hasmstouch) for (c = b.target ? b.target: !1; c;) {
                                    var d = a(c).getNiceScroll();
                                    if (0 < d.length && d[0].me == t.me) break;
                                    if (0 < d.length) return ! 1;
                                    if ("DIV" == c.nodeName && c.id == t.id) break;
                                    c = c.parentNode ? c.parentNode: !1
                                }
                                if (t.cancelScroll(), (c = t.getTarget(b)) && /INPUT/i.test(c.nodeName) && /range/i.test(c.type)) return t.stopPropagation(b);
                                if (! ("clientX" in b) && "changedTouches" in b && (b.clientX = b.changedTouches[0].clientX, b.clientY = b.changedTouches[0].clientY), t.forcescreen && (d = b, b = {
                                    original: b.original ? b.original: b
                                },
                                b.clientX = d.screenX, b.clientY = d.screenY), t.rail.drag = {
                                    x: b.clientX,
                                    y: b.clientY,
                                    sx: t.scroll.x,
                                    sy: t.scroll.y,
                                    st: t.getScrollTop(),
                                    sl: t.getScrollLeft(),
                                    pt: 2,
                                    dl: !1
                                },
                                t.ispage || !t.opt.directionlockdeadzone) t.rail.drag.dl = "f";
                                else {
                                    var d = a(window).width(),
                                    e = a(window).height(),
                                    e = Math.max(0, Math.max(document.body.scrollHeight, document.documentElement.scrollHeight) - e),
                                    d = Math.max(0, Math.max(document.body.scrollWidth, document.documentElement.scrollWidth) - d);
                                    t.rail.drag.ck = !t.rail.scrollable && t.railh.scrollable ? e > 0 ? "v": !1 : t.rail.scrollable && !t.railh.scrollable && d > 0 ? "h": !1,
                                    t.rail.drag.ck || (t.rail.drag.dl = "f")
                                }
                                if (t.opt.touchbehavior && t.isiframe && w.isie && (d = t.win.position(), t.rail.drag.x += d.left, t.rail.drag.y += d.top), t.hasmoving = !1, t.lastmouseup = !1, t.scrollmom.reset(b.clientX, b.clientY), !w.cantouch && !this.istouchcapable && !b.pointerType) {
                                    if (!c || !/INPUT|SELECT|TEXTAREA/i.test(c.nodeName)) return ! t.ispage && w.hasmousecapture && c.setCapture(),
                                    t.opt.touchbehavior ? (c.onclick && !c._onclick && (c._onclick = c.onclick, c.onclick = function(a) {
                                        return t.hasmoving ? !1 : void c._onclick.call(this, a)
                                    }), t.cancelEvent(b)) : t.stopPropagation(b);
                                    /SUBMIT|CANCEL|BUTTON/i.test(a(c).attr("type")) && (pc = {
                                        tg: c,
                                        click: !1
                                    },
                                    t.preventclick = pc)
                                }
                            }
                        },
                        t.ontouchend = function(a) {
                            if (!t.rail.drag) return ! 0;
                            if (2 == t.rail.drag.pt) {
                                if (a.pointerType && 2 != a.pointerType && "touch" != a.pointerType) return ! 1;
                                if (t.scrollmom.doMomentum(), t.rail.drag = !1, t.hasmoving && (t.lastmouseup = !0, t.hideCursor(), w.hasmousecapture && document.releaseCapture(), !w.cantouch)) return t.cancelEvent(a)
                            } else if (1 == t.rail.drag.pt) return t.onmouseup(a)
                        };
                        var r = t.opt.touchbehavior && t.isiframe && !w.hasmousecapture;
                        t.ontouchmove = function(b, c) {
                            if (!t.rail.drag || b.targetTouches && t.opt.preventmultitouchscrolling && 1 < b.targetTouches.length || b.pointerType && 2 != b.pointerType && "touch" != b.pointerType) return ! 1;
                            if (2 == t.rail.drag.pt) {
                                if (w.cantouch && w.isios && void 0 === b.original) return ! 0;
                                if (t.hasmoving = !0, t.preventclick && !t.preventclick.click && (t.preventclick.click = t.preventclick.tg.onclick || !1, t.preventclick.tg.onclick = t.onpreventclick), b = a.extend({
                                    original: b
                                },
                                b), "changedTouches" in b && (b.clientX = b.changedTouches[0].clientX, b.clientY = b.changedTouches[0].clientY), t.forcescreen) {
                                    var d = b;
                                    b = {
                                        original: b.original ? b.original: b
                                    },
                                    b.clientX = d.screenX,
                                    b.clientY = d.screenY
                                }
                                var e, d = e = 0;
                                r && !c && (e = t.win.position(), d = -e.left, e = -e.top);
                                var f = b.clientY + e;
                                e = f - t.rail.drag.y;
                                var g = b.clientX + d,
                                h = g - t.rail.drag.x,
                                i = t.rail.drag.st - e;
                                t.ishwscroll && t.opt.bouncescroll ? 0 > i ? i = Math.round(i / 2) : i > t.page.maxh && (i = t.page.maxh + Math.round((i - t.page.maxh) / 2)) : (0 > i && (f = i = 0), i > t.page.maxh && (i = t.page.maxh, f = 0));
                                var j;
                                if (t.railh && t.railh.scrollable && (j = t.isrtlmode ? h - t.rail.drag.sl: t.rail.drag.sl - h, t.ishwscroll && t.opt.bouncescroll ? 0 > j ? j = Math.round(j / 2) : j > t.page.maxw && (j = t.page.maxw + Math.round((j - t.page.maxw) / 2)) : (0 > j && (g = j = 0), j > t.page.maxw && (j = t.page.maxw, g = 0))), d = !1, t.rail.drag.dl) d = !0,
                                "v" == t.rail.drag.dl ? j = t.rail.drag.sl: "h" == t.rail.drag.dl && (i = t.rail.drag.st);
                                else {
                                    e = Math.abs(e);
                                    var h = Math.abs(h),
                                    k = t.opt.directionlockdeadzone;
                                    if ("v" == t.rail.drag.ck) {
                                        if (e > k && .3 * e >= h) return t.rail.drag = !1,
                                        !0;
                                        h > k && (t.rail.drag.dl = "f", a("body").scrollTop(a("body").scrollTop()))
                                    } else if ("h" == t.rail.drag.ck) {
                                        if (h > k && .3 * h >= e) return t.rail.drag = !1,
                                        !0;
                                        e > k && (t.rail.drag.dl = "f", a("body").scrollLeft(a("body").scrollLeft()))
                                    }
                                }
                                if (t.synched("touchmove",
                                function() {
                                    t.rail.drag && 2 == t.rail.drag.pt && (t.prepareTransition && t.prepareTransition(0), t.rail.scrollable && t.setScrollTop(i), t.scrollmom.update(g, f), t.railh && t.railh.scrollable ? (t.setScrollLeft(j), t.showCursor(i, j)) : t.showCursor(i), w.isie10 && document.selection.clear())
                                }), w.ischrome && t.istouchcapable && (d = !1), d) return t.cancelEvent(b)
                            } else if (1 == t.rail.drag.pt) return t.onmousemove(b)
                        }
                    }
                    if (t.onmousedown = function(a, b) {
                        if (!t.rail.drag || 1 == t.rail.drag.pt) {
                            if (t.railslocked) return t.cancelEvent(a);
                            t.cancelScroll(),
                            t.rail.drag = {
                                x: a.clientX,
                                y: a.clientY,
                                sx: t.scroll.x,
                                sy: t.scroll.y,
                                pt: 1,
                                hr: !!b
                            };
                            var c = t.getTarget(a);
                            return ! t.ispage && w.hasmousecapture && c.setCapture(),
                            t.isiframe && !w.hasmousecapture && (t.saved.csspointerevents = t.doc.css("pointer-events"), t.css(t.doc, {
                                "pointer-events": "none"
                            })),
                            t.hasmoving = !1,
                            t.cancelEvent(a)
                        }
                    },
                    t.onmouseup = function(a) {
                        return t.rail.drag ? 1 != t.rail.drag.pt ? !0 : (w.hasmousecapture && document.releaseCapture(), t.isiframe && !w.hasmousecapture && t.doc.css("pointer-events", t.saved.csspointerevents), t.rail.drag = !1, t.hasmoving && t.triggerScrollEnd(), t.cancelEvent(a)) : void 0
                    },
                    t.onmousemove = function(a) {
                        if (t.rail.drag) {
                            if (1 == t.rail.drag.pt) {
                                if (w.ischrome && 0 == a.which) return t.onmouseup(a);
                                if (t.cursorfreezed = !0, t.hasmoving = !0, t.rail.drag.hr) {
                                    t.scroll.x = t.rail.drag.sx + (a.clientX - t.rail.drag.x),
                                    0 > t.scroll.x && (t.scroll.x = 0);
                                    var b = t.scrollvaluemaxw;
                                    t.scroll.x > b && (t.scroll.x = b)
                                } else t.scroll.y = t.rail.drag.sy + (a.clientY - t.rail.drag.y),
                                0 > t.scroll.y && (t.scroll.y = 0),
                                b = t.scrollvaluemax,
                                t.scroll.y > b && (t.scroll.y = b);
                                return t.synched("mousemove",
                                function() {
                                    t.rail.drag && 1 == t.rail.drag.pt && (t.showCursor(), t.rail.drag.hr ? t.hasreversehr ? t.doScrollLeft(t.scrollvaluemaxw - Math.round(t.scroll.x * t.scrollratio.x), t.opt.cursordragspeed) : t.doScrollLeft(Math.round(t.scroll.x * t.scrollratio.x), t.opt.cursordragspeed) : t.doScrollTop(Math.round(t.scroll.y * t.scrollratio.y), t.opt.cursordragspeed))
                                }),
                                t.cancelEvent(a)
                            }
                        } else t.checkarea = 0
                    },
                    w.cantouch || t.opt.touchbehavior) t.onpreventclick = function(a) {
                        return t.preventclick ? (t.preventclick.tg.onclick = t.preventclick.click, t.preventclick = !1, t.cancelEvent(a)) : void 0
                    },
                    t.bind(t.win, "mousedown", t.ontouchstart),
                    t.onclick = w.isios ? !1 : function(a) {
                        return t.lastmouseup ? (t.lastmouseup = !1, t.cancelEvent(a)) : !0
                    },
                    t.opt.grabcursorenabled && w.cursorgrabvalue && (t.css(t.ispage ? t.doc: t.win, {
                        cursor: w.cursorgrabvalue
                    }), t.css(t.rail, {
                        cursor: w.cursorgrabvalue
                    }));
                    else {
                        var s = function(a) {
                            if (t.selectiondrag) {
                                if (a) {
                                    var b = t.win.outerHeight();
                                    a = a.pageY - t.selectiondrag.top,
                                    a > 0 && b > a && (a = 0),
                                    a >= b && (a -= b),
                                    t.selectiondrag.df = a
                                }
                                0 != t.selectiondrag.df && (t.doScrollBy(2 * -Math.floor(t.selectiondrag.df / 6)), t.debounced("doselectionscroll",
                                function() {
                                    s()
                                },
                                50))
                            }
                        };
                        t.hasTextSelected = "getSelection" in document ?
                        function() {
                            return 0 < document.getSelection().rangeCount
                        }: "selection" in document ?
                        function() {
                            return "None" != document.selection.type
                        }: function() {
                            return ! 1
                        },
                        t.onselectionstart = function(a) {
                            t.ispage || (t.selectiondrag = t.win.offset())
                        },
                        t.onselectionend = function(a) {
                            t.selectiondrag = !1
                        },
                        t.onselectiondrag = function(a) {
                            t.selectiondrag && t.hasTextSelected() && t.debounced("selectionscroll",
                            function() {
                                s(a)
                            },
                            250)
                        }
                    }
                    w.hasw3ctouch ? (t.css(t.rail, {
                        "touch-action": "none"
                    }), t.css(t.cursor, {
                        "touch-action": "none"
                    }), t.bind(t.win, "pointerdown", t.ontouchstart), t.bind(document, "pointerup", t.ontouchend), t.bind(document, "pointermove", t.ontouchmove)) : w.hasmstouch ? (t.css(t.rail, {
                        "-ms-touch-action": "none"
                    }), t.css(t.cursor, {
                        "-ms-touch-action": "none"
                    }), t.bind(t.win, "MSPointerDown", t.ontouchstart), t.bind(document, "MSPointerUp", t.ontouchend), t.bind(document, "MSPointerMove", t.ontouchmove), t.bind(t.cursor, "MSGestureHold",
                    function(a) {
                        a.preventDefault()
                    }), t.bind(t.cursor, "contextmenu",
                    function(a) {
                        a.preventDefault()
                    })) : this.istouchcapable && (t.bind(t.win, "touchstart", t.ontouchstart), t.bind(document, "touchend", t.ontouchend), t.bind(document, "touchcancel", t.ontouchend), t.bind(document, "touchmove", t.ontouchmove)),
                    (t.opt.cursordragontouch || !w.cantouch && !t.opt.touchbehavior) && (t.rail.css({
                        cursor: "default"
                    }), t.railh && t.railh.css({
                        cursor: "default"
                    }), t.jqbind(t.rail, "mouseenter",
                    function() {
                        return t.ispage || t.win.is(":visible") ? (t.canshowonmouseevent && t.showCursor(), void(t.rail.active = !0)) : !1
                    }), t.jqbind(t.rail, "mouseleave",
                    function() {
                        t.rail.active = !1,
                        t.rail.drag || t.hideCursor()
                    }), t.opt.sensitiverail && (t.bind(t.rail, "click",
                    function(a) {
                        t.doRailClick(a, !1, !1)
                    }), t.bind(t.rail, "dblclick",
                    function(a) {
                        t.doRailClick(a, !0, !1)
                    }), t.bind(t.cursor, "click",
                    function(a) {
                        t.cancelEvent(a)
                    }), t.bind(t.cursor, "dblclick",
                    function(a) {
                        t.cancelEvent(a)
                    })), t.railh && (t.jqbind(t.railh, "mouseenter",
                    function() {
                        return t.ispage || t.win.is(":visible") ? (t.canshowonmouseevent && t.showCursor(), void(t.rail.active = !0)) : !1
                    }), t.jqbind(t.railh, "mouseleave",
                    function() {
                        t.rail.active = !1,
                        t.rail.drag || t.hideCursor()
                    }), t.opt.sensitiverail && (t.bind(t.railh, "click",
                    function(a) {
                        t.doRailClick(a, !1, !0)
                    }), t.bind(t.railh, "dblclick",
                    function(a) {
                        t.doRailClick(a, !0, !0)
                    }), t.bind(t.cursorh, "click",
                    function(a) {
                        t.cancelEvent(a)
                    }), t.bind(t.cursorh, "dblclick",
                    function(a) {
                        t.cancelEvent(a)
                    })))),
                    w.cantouch || t.opt.touchbehavior ? (t.bind(w.hasmousecapture ? t.win: document, "mouseup", t.ontouchend), t.bind(document, "mousemove", t.ontouchmove), t.onclick && t.bind(document, "click", t.onclick), t.opt.cursordragontouch ? (t.bind(t.cursor, "mousedown", t.onmousedown), t.bind(t.cursor, "mouseup", t.onmouseup), t.cursorh && t.bind(t.cursorh, "mousedown",
                    function(a) {
                        t.onmousedown(a, !0)
                    }), t.cursorh && t.bind(t.cursorh, "mouseup", t.onmouseup)) : (t.bind(t.rail, "mousedown",
                    function(a) {
                        a.preventDefault()
                    }), t.railh && t.bind(t.railh, "mousedown",
                    function(a) {
                        a.preventDefault()
                    }))) : (t.bind(w.hasmousecapture ? t.win: document, "mouseup", t.onmouseup), t.bind(document, "mousemove", t.onmousemove), t.onclick && t.bind(document, "click", t.onclick), t.bind(t.cursor, "mousedown", t.onmousedown), t.bind(t.cursor, "mouseup", t.onmouseup), t.railh && (t.bind(t.cursorh, "mousedown",
                    function(a) {
                        t.onmousedown(a, !0)
                    }), t.bind(t.cursorh, "mouseup", t.onmouseup)), !t.ispage && t.opt.enablescrollonselection && (t.bind(t.win[0], "mousedown", t.onselectionstart), t.bind(document, "mouseup", t.onselectionend), t.bind(t.cursor, "mouseup", t.onselectionend), t.cursorh && t.bind(t.cursorh, "mouseup", t.onselectionend), t.bind(document, "mousemove", t.onselectiondrag)), t.zoom && (t.jqbind(t.zoom, "mouseenter",
                    function() {
                        t.canshowonmouseevent && t.showCursor(),
                        t.rail.active = !0
                    }), t.jqbind(t.zoom, "mouseleave",
                    function() {
                        t.rail.active = !1,
                        t.rail.drag || t.hideCursor()
                    }))),
                    t.opt.enablemousewheel && (t.isiframe || t.mousewheel(w.isie && t.ispage ? document: t.win, t.onmousewheel), t.mousewheel(t.rail, t.onmousewheel), t.railh && t.mousewheel(t.railh, t.onmousewheelhr)),
                    t.ispage || w.cantouch || /HTML|^BODY/.test(t.win[0].nodeName) || (t.win.attr("tabindex") || t.win.attr({
                        tabindex: d++
                    }), t.jqbind(t.win, "focus",
                    function(a) {
                        b = t.getTarget(a).id || !0,
                        t.hasfocus = !0,
                        t.canshowonmouseevent && t.noticeCursor()
                    }), t.jqbind(t.win, "blur",
                    function(a) {
                        b = !1,
                        t.hasfocus = !1
                    }), t.jqbind(t.win, "mouseenter",
                    function(a) {
                        c = t.getTarget(a).id || !0,
                        t.hasmousefocus = !0,
                        t.canshowonmouseevent && t.noticeCursor()
                    }), t.jqbind(t.win, "mouseleave",
                    function() {
                        c = !1,
                        t.hasmousefocus = !1,
                        t.rail.drag || t.hideCursor()
                    }))
                }
                if (t.onkeypress = function(d) {
                    if (t.railslocked && 0 == t.page.maxh) return ! 0;
                    d = d ? d: window.e;
                    var e = t.getTarget(d);
                    if (e && /INPUT|TEXTAREA|SELECT|OPTION/.test(e.nodeName) && (!e.getAttribute("type") && !e.type || !/submit|button|cancel/i.tp) || a(e).attr("contenteditable")) return ! 0;
                    if (t.hasfocus || t.hasmousefocus && !b || t.ispage && !b && !c) {
                        if (e = d.keyCode, t.railslocked && 27 != e) return t.cancelEvent(d);
                        var f = d.ctrlKey || !1,
                        g = d.shiftKey || !1,
                        h = !1;
                        switch (e) {
                        case 38:
                        case 63233:
                            t.doScrollBy(72),
                            h = !0;
                            break;
                        case 40:
                        case 63235:
                            t.doScrollBy( - 72),
                            h = !0;
                            break;
                        case 37:
                        case 63232:
                            t.railh && (f ? t.doScrollLeft(0) : t.doScrollLeftBy(72), h = !0);
                            break;
                        case 39:
                        case 63234:
                            t.railh && (f ? t.doScrollLeft(t.page.maxw) : t.doScrollLeftBy( - 72), h = !0);
                            break;
                        case 33:
                        case 63276:
                            t.doScrollBy(t.view.h),
                            h = !0;
                            break;
                        case 34:
                        case 63277:
                            t.doScrollBy( - t.view.h),
                            h = !0;
                            break;
                        case 36:
                        case 63273:
                            t.railh && f ? t.doScrollPos(0, 0) : t.doScrollTo(0),
                            h = !0;
                            break;
                        case 35:
                        case 63275:
                            t.railh && f ? t.doScrollPos(t.page.maxw, t.page.maxh) : t.doScrollTo(t.page.maxh),
                            h = !0;
                            break;
                        case 32:
                            t.opt.spacebarenabled && (g ? t.doScrollBy(t.view.h) : t.doScrollBy( - t.view.h), h = !0);
                            break;
                        case 27:
                            t.zoomactive && (t.doZoom(), h = !0)
                        }
                        if (h) return t.cancelEvent(d)
                    }
                },
                t.opt.enablekeyboard && t.bind(document, w.isopera && !w.isopera12 ? "keypress": "keydown", t.onkeypress), t.bind(document, "keydown",
                function(a) {
                    a.ctrlKey && (t.wheelprevented = !0)
                }), t.bind(document, "keyup",
                function(a) {
                    a.ctrlKey || (t.wheelprevented = !1)
                }), t.bind(window, "blur",
                function(a) {
                    t.wheelprevented = !1
                }), t.bind(window, "resize", t.lazyResize), t.bind(window, "orientationchange", t.lazyResize), t.bind(window, "load", t.lazyResize), w.ischrome && !t.ispage && !t.haswrapper) {
                    var u = t.win.attr("style"),
                    i = parseFloat(t.win.css("width")) + 1;
                    t.win.css("width", i),
                    t.synched("chromefix",
                    function() {
                        t.win.attr("style", u)
                    })
                }
                t.onAttributeChange = function(a) {
                    t.lazyResize(t.isieold ? 250 : 30)
                },
                t.isie11 || !1 === l || (t.observerbody = new l(function(b) {
                    return b.forEach(function(b) {
                        return "attributes" == b.type ? a("body").hasClass("modal-open") && a("body").hasClass("modal-dialog") && !a.contains(a(".modal-dialog")[0], t.doc[0]) ? t.hide() : t.show() : void 0
                    }),
                    document.body.scrollHeight != t.page.maxh ? t.lazyResize(30) : void 0
                }), t.observerbody.observe(document.body, {
                    childList: !0,
                    subtree: !0,
                    characterData: !1,
                    attributes: !0,
                    attributeFilter: ["class"]
                })),
                t.ispage || t.haswrapper || (!1 !== l ? (t.observer = new l(function(a) {
                    a.forEach(t.onAttributeChange)
                }), t.observer.observe(t.win[0], {
                    childList: !0,
                    characterData: !1,
                    attributes: !0,
                    subtree: !1
                }), t.observerremover = new l(function(a) {
                    a.forEach(function(a) {
                        if (0 < a.removedNodes.length) for (var b in a.removedNodes) if (t && a.removedNodes[b] == t.win[0]) return t.remove()
                    })
                }), t.observerremover.observe(t.win[0].parentNode, {
                    childList: !0,
                    characterData: !1,
                    attributes: !1,
                    subtree: !1
                })) : (t.bind(t.win, w.isie && !w.isie9 ? "propertychange": "DOMAttrModified", t.onAttributeChange), w.isie9 && t.win[0].attachEvent("onpropertychange", t.onAttributeChange), t.bind(t.win, "DOMNodeRemoved",
                function(a) {
                    a.target == t.win[0] && t.remove()
                }))),
                !t.ispage && t.opt.boxzoom && t.bind(window, "resize", t.resizeZoom),
                t.istextarea && (t.bind(t.win, "keydown", t.lazyResize), t.bind(t.win, "mouseup", t.lazyResize)),
                t.lazyResize(30)
            }
            if ("IFRAME" == this.doc[0].nodeName) {
                var v = function() {
                    t.iframexd = !1;
                    var b;
                    try {
                        b = "contentDocument" in this ? this.contentDocument: this.contentWindow.document
                    } catch(c) {
                        t.iframexd = !0,
                        b = !1
                    }
                    if (t.iframexd) return "console" in window && console.log("NiceScroll error: policy restriced iframe"),
                    !0;
                    if (t.forcescreen = !0, t.isiframe && (t.iframe = {
                        doc: a(b),
                        html: t.doc.contents().find("html")[0],
                        body: t.doc.contents().find("body")[0]
                    },
                    t.getContentSize = function() {
                        return {
                            w: Math.max(t.iframe.html.scrollWidth, t.iframe.body.scrollWidth),
                            h: Math.max(t.iframe.html.scrollHeight, t.iframe.body.scrollHeight)
                        }
                    },
                    t.docscroll = a(t.iframe.body)), !w.isios && t.opt.iframeautoresize && !t.isiframe) {
                        t.win.scrollTop(0),
                        t.doc.height("");
                        var d = Math.max(b.getElementsByTagName("html")[0].scrollHeight, b.body.scrollHeight);
                        t.doc.height(d)
                    }
                    t.lazyResize(30),
                    w.isie7 && t.css(a(t.iframe.html), e),
                    t.css(a(t.iframe.body), e),
                    w.isios && t.haswrapper && t.css(a(b.body), {
                        "-webkit-transform": "translate3d(0,0,0)"
                    }),
                    "contentWindow" in this ? t.bind(this.contentWindow, "scroll", t.onscroll) : t.bind(b, "scroll", t.onscroll),
                    t.opt.enablemousewheel && t.mousewheel(b, t.onmousewheel),
                    t.opt.enablekeyboard && t.bind(b, w.isopera ? "keypress": "keydown", t.onkeypress),
                    (w.cantouch || t.opt.touchbehavior) && (t.bind(b, "mousedown", t.ontouchstart), t.bind(b, "mousemove",
                    function(a) {
                        return t.ontouchmove(a, !0)
                    }), t.opt.grabcursorenabled && w.cursorgrabvalue && t.css(a(b.body), {
                        cursor: w.cursorgrabvalue
                    })),
                    t.bind(b, "mouseup", t.ontouchend),
                    t.zoom && (t.opt.dblclickzoom && t.bind(b, "dblclick", t.doZoom), t.ongesturezoom && t.bind(b, "gestureend", t.ongesturezoom))
                };
                this.doc[0].readyState && "complete" == this.doc[0].readyState && setTimeout(function() {
                    v.call(t.doc[0], !1)
                },
                500),
                t.bind(this.doc, "load", v)
            }
        },
        this.showCursor = function(a, b) {
            if (t.cursortimeout && (clearTimeout(t.cursortimeout), t.cursortimeout = 0), t.rail) {
                if (t.autohidedom && (t.autohidedom.stop().css({
                    opacity: t.opt.cursoropacitymax
                }), t.cursoractive = !0), t.rail.drag && 1 == t.rail.drag.pt || (void 0 !== a && !1 !== a && (t.scroll.y = Math.round(1 * a / t.scrollratio.y)), void 0 !== b && (t.scroll.x = Math.round(1 * b / t.scrollratio.x))), t.cursor.css({
                    height: t.cursorheight,
                    top: t.scroll.y
                }), t.cursorh) {
                    var c = t.hasreversehr ? t.scrollvaluemaxw - t.scroll.x: t.scroll.x; ! t.rail.align && t.rail.visibility ? t.cursorh.css({
                        width: t.cursorwidth,
                        left: c + t.rail.width
                    }) : t.cursorh.css({
                        width: t.cursorwidth,
                        left: c
                    }),
                    t.cursoractive = !0
                }
                t.zoom && t.zoom.stop().css({
                    opacity: t.opt.cursoropacitymax
                })
            }
        },
        this.hideCursor = function(a) {
            t.cursortimeout || !t.rail || !t.autohidedom || t.hasmousefocus && "leave" == t.opt.autohidemode || (t.cursortimeout = setTimeout(function() {
                t.rail.active && t.showonmouseevent || (t.autohidedom.stop().animate({
                    opacity: t.opt.cursoropacitymin
                }), t.zoom && t.zoom.stop().animate({
                    opacity: t.opt.cursoropacitymin
                }), t.cursoractive = !1),
                t.cursortimeout = 0
            },
            a || t.opt.hidecursordelay))
        },
        this.noticeCursor = function(a, b, c) {
            t.showCursor(b, c),
            t.rail.active || t.hideCursor(a)
        },
        this.getContentSize = t.ispage ?
        function() {
            return {
                w: Math.max(document.body.scrollWidth, document.documentElement.scrollWidth),
                h: Math.max(document.body.scrollHeight, document.documentElement.scrollHeight)
            }
        }: t.haswrapper ?
        function() {
            return {
                w: t.doc.outerWidth() + parseInt(t.win.css("paddingLeft")) + parseInt(t.win.css("paddingRight")),
                h: t.doc.outerHeight() + parseInt(t.win.css("paddingTop")) + parseInt(t.win.css("paddingBottom"))
            }
        }: function() {
            return {
                w: t.docscroll[0].scrollWidth,
                h: t.docscroll[0].scrollHeight
            }
        },
        this.onResize = function(a, b) {
            if (!t || !t.win) return ! 1;
            if (!t.haswrapper && !t.ispage) {
                if ("none" == t.win.css("display")) return t.visibility && t.hideRail().hideRailHr(),
                !1;
                t.hidden || t.visibility || t.showRail().showRailHr()
            }
            var c = t.page.maxh,
            d = t.page.maxw,
            e = t.view.h,
            f = t.view.w;
            if (t.view = {
                w: t.ispage ? t.win.width() : parseInt(t.win[0].clientWidth),
                h: t.ispage ? t.win.height() : parseInt(t.win[0].clientHeight)
            },
            t.page = b ? b: t.getContentSize(), t.page.maxh = Math.max(0, t.page.h - t.view.h), t.page.maxw = Math.max(0, t.page.w - t.view.w), t.page.maxh == c && t.page.maxw == d && t.view.w == f && t.view.h == e) {
                if (t.ispage) return t;
                if (c = t.win.offset(), t.lastposition && (d = t.lastposition, d.top == c.top && d.left == c.left)) return t;
                t.lastposition = c
            }
            return 0 == t.page.maxh ? (t.hideRail(), t.scrollvaluemax = 0, t.scroll.y = 0, t.scrollratio.y = 0, t.cursorheight = 0, t.setScrollTop(0), t.rail && (t.rail.scrollable = !1)) : (t.page.maxh -= t.opt.railpadding.top + t.opt.railpadding.bottom, t.rail.scrollable = !0),
            0 == t.page.maxw ? (t.hideRailHr(), t.scrollvaluemaxw = 0, t.scroll.x = 0, t.scrollratio.x = 0, t.cursorwidth = 0, t.setScrollLeft(0), t.railh && (t.railh.scrollable = !1)) : (t.page.maxw -= t.opt.railpadding.left + t.opt.railpadding.right, t.railh && (t.railh.scrollable = t.opt.horizrailenabled)),
            t.railslocked = t.locked || 0 == t.page.maxh && 0 == t.page.maxw,
            t.railslocked ? (t.ispage || t.updateScrollBar(t.view), !1) : (t.hidden || t.visibility ? !t.railh || t.hidden || t.railh.visibility || t.showRailHr() : t.showRail().showRailHr(), t.istextarea && t.win.css("resize") && "none" != t.win.css("resize") && (t.view.h -= 20), t.cursorheight = Math.min(t.view.h, Math.round(t.view.h / t.page.h * t.view.h)), t.cursorheight = t.opt.cursorfixedheight ? t.opt.cursorfixedheight: Math.max(t.opt.cursorminheight, t.cursorheight), t.cursorwidth = Math.min(t.view.w, Math.round(t.view.w / t.page.w * t.view.w)), t.cursorwidth = t.opt.cursorfixedheight ? t.opt.cursorfixedheight: Math.max(t.opt.cursorminheight, t.cursorwidth), t.scrollvaluemax = t.view.h - t.cursorheight - t.cursor.hborder - (t.opt.railpadding.top + t.opt.railpadding.bottom), t.railh && (t.railh.width = 0 < t.page.maxh ? t.view.w - t.rail.width: t.view.w, t.scrollvaluemaxw = t.railh.width - t.cursorwidth - t.cursorh.wborder - (t.opt.railpadding.left + t.opt.railpadding.right)), t.ispage || t.updateScrollBar(t.view), t.scrollratio = {
                x: t.page.maxw / t.scrollvaluemaxw,
                y: t.page.maxh / t.scrollvaluemax
            },
            t.getScrollTop() > t.page.maxh ? t.doScrollTop(t.page.maxh) : (t.scroll.y = Math.round(t.getScrollTop() * (1 / t.scrollratio.y)), t.scroll.x = Math.round(t.getScrollLeft() * (1 / t.scrollratio.x)), t.cursoractive && t.noticeCursor()), t.scroll.y && 0 == t.getScrollTop() && t.doScrollTo(Math.floor(t.scroll.y * t.scrollratio.y)), t)
        },
        this.resize = t.onResize,
        this.hlazyresize = 0,
        this.lazyResize = function(a) {
            return t.haswrapper || t.hide(),
            t.hlazyresize && clearTimeout(t.hlazyresize),
            t.hlazyresize = setTimeout(function() {
                t && t.show().resize()
            },
            240),
            t
        },
        this.jqbind = function(b, c, d) {
            t.events.push({
                e: b,
                n: c,
                f: d,
                q: !0
            }),
            a(b).bind(c, d)
        },
        this.mousewheel = function(a, b, c) {
            if (a = "jquery" in a ? a[0] : a, "onwheel" in document.createElement("div")) t._bind(a, "wheel", b, c || !1);
            else {
                var d = void 0 !== document.onmousewheel ? "mousewheel": "DOMMouseScroll";
                r(a, d, b, c || !1),
                "DOMMouseScroll" == d && r(a, "MozMousePixelScroll", b, c || !1)
            }
        },
        w.haseventlistener ? (this.bind = function(a, b, c, d) {
            t._bind("jquery" in a ? a[0] : a, b, c, d || !1)
        },
        this._bind = function(a, b, c, d) {
            t.events.push({
                e: a,
                n: b,
                f: c,
                b: d,
                q: !1
            }),
            a.addEventListener(b, c, d || !1)
        },
        this.cancelEvent = function(a) {
            return a ? (a = a.original ? a.original: a, a.cancelable && a.preventDefault(), a.stopPropagation(), a.preventManipulation && a.preventManipulation(), !1) : !1
        },
        this.stopPropagation = function(a) {
            return a ? (a = a.original ? a.original: a, a.stopPropagation(), !1) : !1
        },
        this._unbind = function(a, b, c, d) {
            a.removeEventListener(b, c, d)
        }) : (this.bind = function(a, b, c, d) {
            var e = "jquery" in a ? a[0] : a;
            t._bind(e, b,
            function(a) {
                return (a = a || window.event || !1) && a.srcElement && (a.target = a.srcElement),
                "pageY" in a || (a.pageX = a.clientX + document.documentElement.scrollLeft, a.pageY = a.clientY + document.documentElement.scrollTop),
                !1 === c.call(e, a) || !1 === d ? t.cancelEvent(a) : !0
            })
        },
        this._bind = function(a, b, c, d) {
            t.events.push({
                e: a,
                n: b,
                f: c,
                b: d,
                q: !1
            }),
            a.attachEvent ? a.attachEvent("on" + b, c) : a["on" + b] = c
        },
        this.cancelEvent = function(a) {
            return (a = window.event || !1) ? (a.cancelBubble = !0, a.cancel = !0, a.returnValue = !1) : !1
        },
        this.stopPropagation = function(a) {
            return (a = window.event || !1) ? (a.cancelBubble = !0, !1) : !1
        },
        this._unbind = function(a, b, c, d) {
            a.detachEvent ? a.detachEvent("on" + b, c) : a["on" + b] = !1
        }),
        this.unbindAll = function() {
            for (var a = 0; a < t.events.length; a++) {
                var b = t.events[a];
                b.q ? b.e.unbind(b.n, b.f) : t._unbind(b.e, b.n, b.f, b.b)
            }
        },
        this.showRail = function() {
            return 0 == t.page.maxh || !t.ispage && "none" == t.win.css("display") || (t.visibility = !0, t.rail.visibility = !0, t.rail.css("display", "block")),
            t
        },
        this.showRailHr = function() {
            return t.railh ? (0 == t.page.maxw || !t.ispage && "none" == t.win.css("display") || (t.railh.visibility = !0, t.railh.css("display", "block")), t) : t
        },
        this.hideRail = function() {
            return t.visibility = !1,
            t.rail.visibility = !1,
            t.rail.css("display", "none"),
            t
        },
        this.hideRailHr = function() {
            return t.railh ? (t.railh.visibility = !1, t.railh.css("display", "none"), t) : t
        },
        this.show = function() {
            return t.hidden = !1,
            t.railslocked = !1,
            t.showRail().showRailHr()
        },
        this.hide = function() {
            return t.hidden = !0,
            t.railslocked = !0,
            t.hideRail().hideRailHr()
        },
        this.toggle = function() {
            return t.hidden ? t.show() : t.hide()
        },
        this.remove = function() {
            t.stop(),
            t.cursortimeout && clearTimeout(t.cursortimeout);
            for (var b in t.delaylist) t.delaylist[b] && i(t.delaylist[b].h);
            for (t.doZoomOut(), t.unbindAll(), w.isie9 && t.win[0].detachEvent("onpropertychange", t.onAttributeChange), !1 !== t.observer && t.observer.disconnect(), !1 !== t.observerremover && t.observerremover.disconnect(), !1 !== t.observerbody && t.observerbody.disconnect(), t.events = null, t.cursor && t.cursor.remove(), t.cursorh && t.cursorh.remove(), t.rail && t.rail.remove(), t.railh && t.railh.remove(), t.zoom && t.zoom.remove(), b = 0; b < t.saved.css.length; b++) {
                var c = t.saved.css[b];
                c[0].css(c[1], void 0 === c[2] ? "": c[2])
            }
            t.saved = !1,
            t.me.data("__nicescroll", "");
            var d = a.nicescroll;
            d.each(function(a) {
                if (this && this.id === t.id) {
                    delete d[a];
                    for (var b = ++a; b < d.length; b++, a++) d[a] = d[b];
                    d.length--,
                    d.length && delete d[d.length]
                }
            });
            for (var e in t) t[e] = null,
            delete t[e];
            t = null
        },
        this.scrollstart = function(a) {
            return this.onscrollstart = a,
            t
        },
        this.scrollend = function(a) {
            return this.onscrollend = a,
            t
        },
        this.scrollcancel = function(a) {
            return this.onscrollcancel = a,
            t
        },
        this.zoomin = function(a) {
            return this.onzoomin = a,
            t
        },
        this.zoomout = function(a) {
            return this.onzoomout = a,
            t
        },
        this.isScrollable = function(b) {
            if (b = b.target ? b.target: b, "OPTION" == b.nodeName) return ! 0;
            for (; b && 1 == b.nodeType && !/^BODY|HTML/.test(b.nodeName);) {
                var c = a(b),
                c = c.css("overflowY") || c.css("overflowX") || c.css("overflow") || "";
                if (/scroll|auto/.test(c)) return b.clientHeight != b.scrollHeight;
                b = b.parentNode ? b.parentNode: !1
            }
            return ! 1
        },
        this.getViewport = function(b) {
            for (b = b && b.parentNode ? b.parentNode: !1; b && 1 == b.nodeType && !/^BODY|HTML/.test(b.nodeName);) {
                var c = a(b);
                if (/fixed|absolute/.test(c.css("position"))) return c;
                var d = c.css("overflowY") || c.css("overflowX") || c.css("overflow") || "";
                if (/scroll|auto/.test(d) && b.clientHeight != b.scrollHeight || 0 < c.getNiceScroll().length) return c;
                b = b.parentNode ? b.parentNode: !1
            }
            return ! 1
        },
        this.triggerScrollEnd = function() {
            if (t.onscrollend) {
                var a = t.getScrollLeft(),
                b = t.getScrollTop();
                t.onscrollend.call(t, {
                    type: "scrollend",
                    current: {
                        x: a,
                        y: b
                    },
                    end: {
                        x: a,
                        y: b
                    }
                })
            }
        },
        this.onmousewheel = function(a) {
            if (!t.wheelprevented) {
                if (t.railslocked) return t.debounced("checkunlock", t.resize, 250),
                !0;
                if (t.rail.drag) return t.cancelEvent(a);
                if ("auto" == t.opt.oneaxismousemode && 0 != a.deltaX && (t.opt.oneaxismousemode = !1), t.opt.oneaxismousemode && 0 == a.deltaX && !t.rail.scrollable) return t.railh && t.railh.scrollable ? t.onmousewheelhr(a) : !0;
                var b = +new Date,
                c = !1;
                return t.opt.preservenativescrolling && t.checkarea + 600 < b && (t.nativescrollingarea = t.isScrollable(a), c = !0),
                t.checkarea = b,
                t.nativescrollingarea ? !0 : ((a = s(a, !1, c)) && (t.checkarea = 0), a)
            }
        },
        this.onmousewheelhr = function(a) {
            if (!t.wheelprevented) {
                if (t.railslocked || !t.railh.scrollable) return ! 0;
                if (t.rail.drag) return t.cancelEvent(a);
                var b = +new Date,
                c = !1;
                return t.opt.preservenativescrolling && t.checkarea + 600 < b && (t.nativescrollingarea = t.isScrollable(a), c = !0),
                t.checkarea = b,
                t.nativescrollingarea ? !0 : t.railslocked ? t.cancelEvent(a) : s(a, !0, c)
            }
        },
        this.stop = function() {
            return t.cancelScroll(),
            t.scrollmon && t.scrollmon.stop(),
            t.cursorfreezed = !1,
            t.scroll.y = Math.round(t.getScrollTop() * (1 / t.scrollratio.y)),
            t.noticeCursor(),
            t
        },
        this.getTransitionSpeed = function(a) {
            return a = Math.min(Math.round(10 * t.opt.scrollspeed), Math.round(a / 20 * t.opt.scrollspeed)),
            a > 20 ? a: 0
        },
        t.opt.smoothscroll ? t.ishwscroll && w.hastransition && t.opt.usetransition && t.opt.smoothscroll ? (this.prepareTransition = function(a, b) {
            var c = b ? a > 20 ? a: 0 : t.getTransitionSpeed(a),
            d = c ? w.prefixstyle + "transform " + c + "ms ease-out": "";
            return t.lasttransitionstyle && t.lasttransitionstyle == d || (t.lasttransitionstyle = d, t.doc.css(w.transitionstyle, d)),
            c
        },
        this.doScrollLeft = function(a, b) {
            var c = t.scrollrunning ? t.newscrolly: t.getScrollTop();
            t.doScrollPos(a, c, b)
        },
        this.doScrollTop = function(a, b) {
            var c = t.scrollrunning ? t.newscrollx: t.getScrollLeft();
            t.doScrollPos(c, a, b)
        },
        this.doScrollPos = function(a, b, c) {
            var d = t.getScrollTop(),
            e = t.getScrollLeft();
            return (0 > (t.newscrolly - d) * (b - d) || 0 > (t.newscrollx - e) * (a - e)) && t.cancelScroll(),
            0 == t.opt.bouncescroll && (0 > b ? b = 0 : b > t.page.maxh && (b = t.page.maxh), 0 > a ? a = 0 : a > t.page.maxw && (a = t.page.maxw)),
            t.scrollrunning && a == t.newscrollx && b == t.newscrolly ? !1 : (t.newscrolly = b, t.newscrollx = a, t.newscrollspeed = c || !1, t.timer ? !1 : void(t.timer = setTimeout(function() {
                var c = t.getScrollTop(),
                d = t.getScrollLeft(),
                e = Math.round(Math.sqrt(Math.pow(a - d, 2) + Math.pow(b - c, 2))),
                e = t.newscrollspeed && 1 < t.newscrollspeed ? t.newscrollspeed: t.getTransitionSpeed(e);
                t.newscrollspeed && 1 >= t.newscrollspeed && (e *= t.newscrollspeed),
                t.prepareTransition(e, !0),
                t.timerscroll && t.timerscroll.tm && clearInterval(t.timerscroll.tm),
                e > 0 && (!t.scrollrunning && t.onscrollstart && t.onscrollstart.call(t, {
                    type: "scrollstart",
                    current: {
                        x: d,
                        y: c
                    },
                    request: {
                        x: a,
                        y: b
                    },
                    end: {
                        x: t.newscrollx,
                        y: t.newscrolly
                    },
                    speed: e
                }), w.transitionend ? t.scrollendtrapped || (t.scrollendtrapped = !0, t.bind(t.doc, w.transitionend, t.onScrollTransitionEnd, !1)) : (t.scrollendtrapped && clearTimeout(t.scrollendtrapped), t.scrollendtrapped = setTimeout(t.onScrollTransitionEnd, e)), t.timerscroll = {
                    bz: new y(c, t.newscrolly, e, 0, 0, .58, 1),
                    bh: new y(d, t.newscrollx, e, 0, 0, .58, 1)
                },
                t.cursorfreezed || (t.timerscroll.tm = setInterval(function() {
                    t.showCursor(t.getScrollTop(), t.getScrollLeft())
                },
                60))),
                t.synched("doScroll-set",
                function() {
                    t.timer = 0,
                    t.scrollendtrapped && (t.scrollrunning = !0),
                    t.setScrollTop(t.newscrolly),
                    t.setScrollLeft(t.newscrollx),
                    t.scrollendtrapped || t.onScrollTransitionEnd()
                })
            },
            50)))
        },
        this.cancelScroll = function() {
            if (!t.scrollendtrapped) return ! 0;
            var a = t.getScrollTop(),
            b = t.getScrollLeft();
            return t.scrollrunning = !1,
            w.transitionend || clearTimeout(w.transitionend),
            t.scrollendtrapped = !1,
            t._unbind(t.doc[0], w.transitionend, t.onScrollTransitionEnd),
            t.prepareTransition(0),
            t.setScrollTop(a),
            t.railh && t.setScrollLeft(b),
            t.timerscroll && t.timerscroll.tm && clearInterval(t.timerscroll.tm),
            t.timerscroll = !1,
            t.cursorfreezed = !1,
            t.showCursor(a, b),
            t
        },
        this.onScrollTransitionEnd = function() {
            t.scrollendtrapped && t._unbind(t.doc[0], w.transitionend, t.onScrollTransitionEnd),
            t.scrollendtrapped = !1,
            t.prepareTransition(0),
            t.timerscroll && t.timerscroll.tm && clearInterval(t.timerscroll.tm),
            t.timerscroll = !1;
            var a = t.getScrollTop(),
            b = t.getScrollLeft();
            return t.setScrollTop(a),
            t.railh && t.setScrollLeft(b),
            t.noticeCursor(!1, a, b),
            t.cursorfreezed = !1,
            0 > a ? a = 0 : a > t.page.maxh && (a = t.page.maxh),
            0 > b ? b = 0 : b > t.page.maxw && (b = t.page.maxw),
            a != t.newscrolly || b != t.newscrollx ? t.doScrollPos(b, a, t.opt.snapbackspeed) : (t.onscrollend && t.scrollrunning && t.triggerScrollEnd(), void(t.scrollrunning = !1))
        }) : (this.doScrollLeft = function(a, b) {
            var c = t.scrollrunning ? t.newscrolly: t.getScrollTop();
            t.doScrollPos(a, c, b)
        },
        this.doScrollTop = function(a, b) {
            var c = t.scrollrunning ? t.newscrollx: t.getScrollLeft();
            t.doScrollPos(c, a, b)
        },
        this.doScrollPos = function(a, b, c) {
            function d() {
                if (t.cancelAnimationFrame) return ! 0;
                if (t.scrollrunning = !0, l = 1 - l) return t.timer = h(d) || 1;
                var a, b, c = 0,
                e = b = t.getScrollTop();
                t.dst.ay ? (e = t.bzscroll ? t.dst.py + t.bzscroll.getNow() * t.dst.ay: t.newscrolly, a = e - b, (0 > a && e < t.newscrolly || a > 0 && e > t.newscrolly) && (e = t.newscrolly), t.setScrollTop(e), e == t.newscrolly && (c = 1)) : c = 1,
                b = a = t.getScrollLeft(),
                t.dst.ax ? (b = t.bzscroll ? t.dst.px + t.bzscroll.getNow() * t.dst.ax: t.newscrollx, a = b - a, (0 > a && b < t.newscrollx || a > 0 && b > t.newscrollx) && (b = t.newscrollx), t.setScrollLeft(b), b == t.newscrollx && (c += 1)) : c += 1,
                2 == c ? (t.timer = 0, t.cursorfreezed = !1, t.bzscroll = !1, t.scrollrunning = !1, 0 > e ? e = 0 : e > t.page.maxh && (e = Math.max(0, t.page.maxh)), 0 > b ? b = 0 : b > t.page.maxw && (b = t.page.maxw), b != t.newscrollx || e != t.newscrolly ? t.doScrollPos(b, e) : t.onscrollend && t.triggerScrollEnd()) : t.timer = h(d) || 1
            }
            if (b = void 0 === b || !1 === b ? t.getScrollTop(!0) : b, t.timer && t.newscrolly == b && t.newscrollx == a) return ! 0;
            t.timer && i(t.timer),
            t.timer = 0;
            var e = t.getScrollTop(),
            f = t.getScrollLeft(); (0 > (t.newscrolly - e) * (b - e) || 0 > (t.newscrollx - f) * (a - f)) && t.cancelScroll(),
            t.newscrolly = b,
            t.newscrollx = a,
            t.bouncescroll && t.rail.visibility || (0 > t.newscrolly ? t.newscrolly = 0 : t.newscrolly > t.page.maxh && (t.newscrolly = t.page.maxh)),
            t.bouncescroll && t.railh.visibility || (0 > t.newscrollx ? t.newscrollx = 0 : t.newscrollx > t.page.maxw && (t.newscrollx = t.page.maxw)),
            t.dst = {},
            t.dst.x = a - f,
            t.dst.y = b - e,
            t.dst.px = f,
            t.dst.py = e;
            var g = Math.round(Math.sqrt(Math.pow(t.dst.x, 2) + Math.pow(t.dst.y, 2)));
            t.dst.ax = t.dst.x / g,
            t.dst.ay = t.dst.y / g;
            var j = 0,
            k = g;
            if (0 == t.dst.x ? (j = e, k = b, t.dst.ay = 1, t.dst.py = 0) : 0 == t.dst.y && (j = f, k = a, t.dst.ax = 1, t.dst.px = 0), g = t.getTransitionSpeed(g), c && 1 >= c && (g *= c), t.bzscroll = g > 0 ? t.bzscroll ? t.bzscroll.update(k, g) : new y(j, k, g, 0, 1, 0, 1) : !1, !t.timer) { (e == t.page.maxh && b >= t.page.maxh || f == t.page.maxw && a >= t.page.maxw) && t.checkContentSize();
                var l = 1;
                t.cancelAnimationFrame = !1,
                t.timer = 1,
                t.onscrollstart && !t.scrollrunning && t.onscrollstart.call(t, {
                    type: "scrollstart",
                    current: {
                        x: f,
                        y: e
                    },
                    request: {
                        x: a,
                        y: b
                    },
                    end: {
                        x: t.newscrollx,
                        y: t.newscrolly
                    },
                    speed: g
                }),
                d(),
                (e == t.page.maxh && b >= e || f == t.page.maxw && a >= f) && t.checkContentSize(),
                t.noticeCursor()
            }
        },
        this.cancelScroll = function() {
            return t.timer && i(t.timer),
            t.timer = 0,
            t.bzscroll = !1,
            t.scrollrunning = !1,
            t
        }) : (this.doScrollLeft = function(a, b) {
            var c = t.getScrollTop();
            t.doScrollPos(a, c, b)
        },
        this.doScrollTop = function(a, b) {
            var c = t.getScrollLeft();
            t.doScrollPos(c, a, b)
        },
        this.doScrollPos = function(a, b, c) {
            var d = a > t.page.maxw ? t.page.maxw: a;
            0 > d && (d = 0);
            var e = b > t.page.maxh ? t.page.maxh: b;
            0 > e && (e = 0),
            t.synched("scroll",
            function() {
                t.setScrollTop(e),
                t.setScrollLeft(d)
            })
        },
        this.cancelScroll = function() {}),
        this.doScrollBy = function(a, b) {
            var c = 0,
            c = b ? Math.floor((t.scroll.y - a) * t.scrollratio.y) : (t.timer ? t.newscrolly: t.getScrollTop(!0)) - a;
            if (t.bouncescroll) {
                var d = Math.round(t.view.h / 2); - d > c ? c = -d: c > t.page.maxh + d && (c = t.page.maxh + d)
            }
            return t.cursorfreezed = !1,
            d = t.getScrollTop(!0),
            0 > c && 0 >= d ? t.noticeCursor() : c > t.page.maxh && d >= t.page.maxh ? (t.checkContentSize(), t.noticeCursor()) : void t.doScrollTop(c)
        },
        this.doScrollLeftBy = function(a, b) {
            var c = 0,
            c = b ? Math.floor((t.scroll.x - a) * t.scrollratio.x) : (t.timer ? t.newscrollx: t.getScrollLeft(!0)) - a;
            if (t.bouncescroll) {
                var d = Math.round(t.view.w / 2); - d > c ? c = -d: c > t.page.maxw + d && (c = t.page.maxw + d)
            }
            return t.cursorfreezed = !1,
            d = t.getScrollLeft(!0),
            0 > c && 0 >= d || c > t.page.maxw && d >= t.page.maxw ? t.noticeCursor() : void t.doScrollLeft(c)
        },
        this.doScrollTo = function(a, b) {
            t.cursorfreezed = !1,
            t.doScrollTop(a)
        },
        this.checkContentSize = function() {
            var a = t.getContentSize();
            a.h == t.page.h && a.w == t.page.w || t.resize(!1, a)
        },
        t.onscroll = function(a) {
            t.rail.drag || t.cursorfreezed || t.synched("scroll",
            function() {
                t.scroll.y = Math.round(t.getScrollTop() * (1 / t.scrollratio.y)),
                t.railh && (t.scroll.x = Math.round(t.getScrollLeft() * (1 / t.scrollratio.x))),
                t.noticeCursor()
            })
        },
        t.bind(t.docscroll, "scroll", t.onscroll),
        this.doZoomIn = function(b) {
            if (!t.zoomactive) {
                t.zoomactive = !0,
                t.zoomrestore = {
                    style: {}
                };
                var c, d = "position top left zIndex backgroundColor marginTop marginBottom marginLeft marginRight".split(" "),
                e = t.win[0].style;
                for (c in d) {
                    var g = d[c];
                    t.zoomrestore.style[g] = void 0 !== e[g] ? e[g] : ""
                }
                return t.zoomrestore.style.width = t.win.css("width"),
                t.zoomrestore.style.height = t.win.css("height"),
                t.zoomrestore.padding = {
                    w: t.win.outerWidth() - t.win.width(),
                    h: t.win.outerHeight() - t.win.height()
                },
                w.isios4 && (t.zoomrestore.scrollTop = a(window).scrollTop(), a(window).scrollTop(0)),
                t.win.css({
                    position: w.isios4 ? "absolute": "fixed",
                    top: 0,
                    left: 0,
                    zIndex: f + 100,
                    margin: 0
                }),
                d = t.win.css("backgroundColor"),
                ("" == d || /transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(d)) && t.win.css("backgroundColor", "#fff"),
                t.rail.css({
                    zIndex: f + 101
                }),
                t.zoom.css({
                    zIndex: f + 102
                }),
                t.zoom.css("backgroundPosition", "0px -18px"),
                t.resizeZoom(),
                t.onzoomin && t.onzoomin.call(t),
                t.cancelEvent(b)
            }
        },
        this.doZoomOut = function(b) {
            return t.zoomactive ? (t.zoomactive = !1, t.win.css("margin", ""), t.win.css(t.zoomrestore.style), w.isios4 && a(window).scrollTop(t.zoomrestore.scrollTop), t.rail.css({
                "z-index": t.zindex
            }), t.zoom.css({
                "z-index": t.zindex
            }), t.zoomrestore = !1, t.zoom.css("backgroundPosition", "0px 0px"), t.onResize(), t.onzoomout && t.onzoomout.call(t), t.cancelEvent(b)) : void 0
        },
        this.doZoom = function(a) {
            return t.zoomactive ? t.doZoomOut(a) : t.doZoomIn(a)
        },
        this.resizeZoom = function() {
            if (t.zoomactive) {
                var b = t.getScrollTop();
                t.win.css({
                    width: a(window).width() - t.zoomrestore.padding.w + "px",
                    height: a(window).height() - t.zoomrestore.padding.h + "px"
                }),
                t.onResize(),
                t.setScrollTop(Math.min(t.page.maxh, b))
            }
        },
        this.init(),
        a.nicescroll.push(this)
    },
    q = function(a) {
        var b = this;
        this.nc = a,
        this.steptime = this.lasttime = this.speedy = this.speedx = this.lasty = this.lastx = 0,
        this.snapy = this.snapx = !1,
        this.demuly = this.demulx = 0,
        this.lastscrolly = this.lastscrollx = -1,
        this.timer = this.chky = this.chkx = 0,
        this.time = function() {
            return + new Date
        },
        this.reset = function(a, c) {
            b.stop();
            var d = b.time();
            b.steptime = 0,
            b.lasttime = d,
            b.speedx = 0,
            b.speedy = 0,
            b.lastx = a,
            b.lasty = c,
            b.lastscrollx = -1,
            b.lastscrolly = -1
        },
        this.update = function(a, c) {
            var d = b.time();
            b.steptime = d - b.lasttime,
            b.lasttime = d;
            var d = c - b.lasty,
            e = a - b.lastx,
            f = b.nc.getScrollTop(),
            g = b.nc.getScrollLeft(),
            f = f + d,
            g = g + e;
            b.snapx = 0 > g || g > b.nc.page.maxw,
            b.snapy = 0 > f || f > b.nc.page.maxh,
            b.speedx = e,
            b.speedy = d,
            b.lastx = a,
            b.lasty = c
        },
        this.stop = function() {
            b.nc.unsynched("domomentum2d"),
            b.timer && clearTimeout(b.timer),
            b.timer = 0,
            b.lastscrollx = -1,
            b.lastscrolly = -1
        },
        this.doSnapy = function(a, c) {
            var d = !1;
            0 > c ? (c = 0, d = !0) : c > b.nc.page.maxh && (c = b.nc.page.maxh, d = !0),
            0 > a ? (a = 0, d = !0) : a > b.nc.page.maxw && (a = b.nc.page.maxw, d = !0),
            d ? b.nc.doScrollPos(a, c, b.nc.opt.snapbackspeed) : b.nc.triggerScrollEnd()
        },
        this.doMomentum = function(a) {
            var c = b.time(),
            d = a ? c + a: b.lasttime;
            a = b.nc.getScrollLeft();
            var e = b.nc.getScrollTop(),
            f = b.nc.page.maxh,
            g = b.nc.page.maxw;
            if (b.speedx = g > 0 ? Math.min(60, b.speedx) : 0, b.speedy = f > 0 ? Math.min(60, b.speedy) : 0, d = d && 60 >= c - d, (0 > e || e > f || 0 > a || a > g) && (d = !1), a = b.speedx && d ? b.speedx: !1, b.speedy && d && b.speedy || a) {
                var h = Math.max(16, b.steptime);
                h > 50 && (a = h / 50, b.speedx *= a, b.speedy *= a, h = 50),
                b.demulxy = 0,
                b.lastscrollx = b.nc.getScrollLeft(),
                b.chkx = b.lastscrollx,
                b.lastscrolly = b.nc.getScrollTop(),
                b.chky = b.lastscrolly;
                var i = b.lastscrollx,
                j = b.lastscrolly,
                k = function() {
                    var a = 600 < b.time() - c ? .04 : .02;
                    b.speedx && (i = Math.floor(b.lastscrollx - b.speedx * (1 - b.demulxy)), b.lastscrollx = i, 0 > i || i > g) && (a = .1),
                    b.speedy && (j = Math.floor(b.lastscrolly - b.speedy * (1 - b.demulxy)), b.lastscrolly = j, 0 > j || j > f) && (a = .1),
                    b.demulxy = Math.min(1, b.demulxy + a),
                    b.nc.synched("domomentum2d",
                    function() {
                        b.speedx && (b.nc.getScrollLeft(), b.chkx = i, b.nc.setScrollLeft(i)),
                        b.speedy && (b.nc.getScrollTop(), b.chky = j, b.nc.setScrollTop(j)),
                        b.timer || (b.nc.hideCursor(), b.doSnapy(i, j))
                    }),
                    1 > b.demulxy ? b.timer = setTimeout(k, h) : (b.stop(), b.nc.hideCursor(), b.doSnapy(i, j))
                };
                k()
            } else b.doSnapy(b.nc.getScrollLeft(), b.nc.getScrollTop())
        }
    },
    r = a.fn.scrollTop;
    a.cssHooks.pageYOffset = {
        get: function(b, c, d) {
            return (c = a.data(b, "__nicescroll") || !1) && c.ishwscroll ? c.getScrollTop() : r.call(b)
        },
        set: function(b, c) {
            var d = a.data(b, "__nicescroll") || !1;
            return d && d.ishwscroll ? d.setScrollTop(parseInt(c)) : r.call(b, c),
            this
        }
    },
    a.fn.scrollTop = function(b) {
        if (void 0 === b) {
            var c = this[0] ? a.data(this[0], "__nicescroll") || !1 : !1;
            return c && c.ishwscroll ? c.getScrollTop() : r.call(this)
        }
        return this.each(function() {
            var c = a.data(this, "__nicescroll") || !1;
            c && c.ishwscroll ? c.setScrollTop(parseInt(b)) : r.call(a(this), b)
        })
    };
    var s = a.fn.scrollLeft;
    a.cssHooks.pageXOffset = {
        get: function(b, c, d) {
            return (c = a.data(b, "__nicescroll") || !1) && c.ishwscroll ? c.getScrollLeft() : s.call(b)
        },
        set: function(b, c) {
            var d = a.data(b, "__nicescroll") || !1;
            return d && d.ishwscroll ? d.setScrollLeft(parseInt(c)) : s.call(b, c),
            this
        }
    },
    a.fn.scrollLeft = function(b) {
        if (void 0 === b) {
            var c = this[0] ? a.data(this[0], "__nicescroll") || !1 : !1;
            return c && c.ishwscroll ? c.getScrollLeft() : s.call(this)
        }
        return this.each(function() {
            var c = a.data(this, "__nicescroll") || !1;
            c && c.ishwscroll ? c.setScrollLeft(parseInt(b)) : s.call(a(this), b);
        })
    };
    var t = function(b) {
        var c = this;
        if (this.length = 0, this.name = "nicescrollarray", this.each = function(b) {
            return a.each(c, b),
            c
        },
        this.push = function(a) {
            c[c.length] = a,
            c.length++
        },
        this.eq = function(a) {
            return c[a]
        },
        b) for (var d = 0; d < b.length; d++) {
            var e = a.data(b[d], "__nicescroll") || !1;
            e && (this[this.length] = e, this.length++)
        }
        return this
    }; !
    function(a, b, c) {
        for (var d = 0; d < b.length; d++) c(a, b[d])
    } (t.prototype, "show hide toggle onResize resize remove stop doScrollPos".split(" "),
    function(a, b) {
        a[b] = function() {
            var a = arguments;
            return this.each(function() {
                this[b].apply(this, a)
            })
        }
    }),
    a.fn.getNiceScroll = function(b) {
        return void 0 === b ? new t(this) : this[b] && a.data(this[b], "__nicescroll") || !1
    },
    a.expr[":"].nicescroll = function(b) {
        return void 0 !== a.data(b, "__nicescroll")
    },
    a.fn.niceScroll = function(b, c) {
        void 0 !== c || "object" != typeof b || "jquery" in b || (c = b, b = !1),
        c = a.extend({},
        c);
        var d = new t;
        void 0 === c && (c = {}),
        b && (c.doc = a(b), c.win = a(this));
        var e = !("doc" in c);
        return e || "win" in c || (c.win = a(this)),
        this.each(function() {
            var b = a(this).data("__nicescroll") || !1;
            b || (c.doc = e ? a(this) : c.doc, b = new p(c, a(this)), a(this).data("__nicescroll", b)),
            d.push(b)
        }),
        1 == d.length ? d[0] : d
    },
    window.NiceScroll = {
        getjQuery: function() {
            return a
        }
    },
    a.nicescroll || (a.nicescroll = new t, a.nicescroll.options = m)
});
var conversationController = angular.module("RongWebIMWidget.conversationController", ["RongWebIMWidget.conversationServer"]);
conversationController.controller("conversationController", ["$scope", "conversationServer", "WebIMWidget", "conversationListServer", "widgetConfig", "providerdata",
function(a, b, c, d, e, f) {
    function g() {
        setTimeout(function() {
            var a = document.getElementById("Messages");
            a && (a.scrollTop = a.scrollHeight)
        },
        0)
    }
    function h() {
        RongIMLib.RongIMClient.getInstance().getFileToken(RongIMLib.FileType.IMAGE, {
            onSuccess: function(a) {
                b._uploadToken = a.token,
                m()
            },
            onError: function() {}
        })
    }
    function i(a) {
        return a.conversationType == WidgetModule.EnumConversationType.CUSTOMER_SERVICE && a.content && a.messageDirection == WidgetModule.MessageDirection.RECEIVE ? "1" == b._customService.currentType ? a.content.userInfo = {
            name: b._customService.human.name || "客服人员",
            portraitUri: b._customService.human.headimgurl || b._customService.robotIcon
        }: a.content.userInfo = {
            name: b._customService.robotName,
            portraitUri: b._customService.robotIcon
        }: a.conversationType == WidgetModule.EnumConversationType.CUSTOMER_SERVICE && a.content && a.messageDirection == WidgetModule.MessageDirection.SEND && (a.content.userInfo = {
            name: "我",
            portraitUri: b.loginUser.portraitUri
        }),
        a
    }
    function j(c, d) {
        var e = new RongIMLib.Message,
        f = new RongIMLib.UserInfo(b.loginUser.id, b.loginUser.name || "我", b.loginUser.portraitUri);
        return c.user = f,
        e.content = c,
        e.conversationType = a.currentConversation.targetType,
        e.targetId = a.currentConversation.targetId,
        e.senderUserId = b.loginUser.id,
        e.messageDirection = RongIMLib.MessageDirection.SEND,
        e.sentTime = (new Date).getTime() - (RongIMLib.RongIMClient.getInstance().getDeltaTime() || 0),
        e.messageType = d,
        e
    }
    function k(b, c) {
        var d = new RongIMLib.Message,
        e = null;
        return b.userInfo = e,
        d.content = b,
        d.conversationType = a.currentConversation.targetType,
        d.targetId = a.currentConversation.targetId,
        d.senderUserId = a.currentConversation.targetId,
        d.messageDirection = RongIMLib.MessageDirection.RECEIVE,
        d.sentTime = (new Date).getTime() - (RongIMLib.RongIMClient.getInstance().getDeltaTime() || 0),
        d.messageType = c,
        d
    }
    function l() {
        c.onClose && "function" == typeof c.onClose && c.onClose(a.currentConversation),
        e.displayConversationList ? a.showSelf = !1 : a.WebIMWidget.display = !1,
        a.messageList = [],
        a.currentConversation = null,
        b.current = null
    }
    function m() {
        p && p.destroy(),
        p = Qiniu.uploader({
            runtimes: "html5,html4",
            browse_button: "upload-file",
            container: "funcPanel",
            drop_element: "inputMsg",
            max_file_size: "100mb",
            dragdrop: !0,
            chunk_size: "4mb",
            uptoken: b._uploadToken,
            domain: n,
            get_new_uptoken: !1,
            filters: {
                mime_types: [{
                    title: "Image files",
                    extensions: "jpg,gif,png,jpeg,bmp"
                }],
                prevent_duplicates: !1
            },
            multi_selection: !1,
            auto_start: !0,
            init: {
                FilesAdded: function(a, b) {},
                BeforeUpload: function(a, b) {},
                UploadProgress: function(a, b) {},
                UploadComplete: function() {},
                FileUploaded: function(c, e, f) {
                    return a.currentConversation.targetId && a.currentConversation.targetType ? (f = f.replace(/'/g, '"'), f = JSON.parse(f), void RongIMLib.RongIMClient.getInstance().getFileUrl(RongIMLib.FileType.IMAGE, f.name, {
                        onSuccess: function(c) {
                            WidgetModule.Helper.ImageHelper.getThumbnail(e.getNative(), 6e4,
                            function(e, f) {
                                var i = RongIMLib.ImageMessage.obtain(f, c.downloadUrl),
                                k = j(i, WidgetModule.MessageType.ImageMessage);
                                RongIMLib.RongIMClient.getInstance().sendMessage(a.currentConversation.targetType, a.currentConversation.targetId, i, {
                                    onSuccess: function() {
                                        d.updateConversations().then(function() {})
                                    },
                                    onError: function() {}
                                }),
                                b._addHistoryMessages(WidgetModule.Message.convert(k)),
                                a.$apply(),
                                g(),
                                h()
                            })
                        },
                        onError: function() {}
                    })) : void alert("请先选择一个会话目标。")
                },
                Error: function(a, b, c) {
                    console.log(b),
                    h()
                }
            }
        })
    }
    var n = "http://7xogjk.com1.z0.glb.clouddn.com/";
    a.currentConversation = {
        title: "",
        targetId: "",
        targetType: 0
    },
    a.messageList = [],
    a.messageContent = "",
    a.WebIMWidget = c,
    a.widgetConfig = e,
    console.log(e),
    a.conversationServer = b,
    a._inputPanelState = WidgetModule.InputPanelType.person,
    a.showSelf = !1,
    a.showemoji = !1,
    document.addEventListener("click",
    function(b) {
        a.showemoji && -1 == b.target.className.indexOf("iconfont-smile") && a.$apply(function() {
            a.showemoji = !1
        })
    }),
    a.$watch("showemoji",
    function(b, c) {
        b !== c && (a.emojiList && 0 != a.emojiList.length || (a.emojiList = RongIMLib.RongIMEmoji.emojis.slice(0, 84)))
    }),
    a.$watch("currentConversation.messageContent",
    function(b, c) {
        b !== c && a.currentConversation && RongIMLib.RongIMClient.getInstance().saveTextMessageDraft( + a.currentConversation.targetType, a.currentConversation.targetId, b)
    }),
    a.$watch("showSelf",
    function(a, c) {
        a !== c && (a && b._uploadToken ? (m(), console.log("showSelf")) : p && p.destroy())
    }),
    a.$watch("_inputPanelState",
    function(a, c) {
        a !== c && (a == WidgetModule.InputPanelType.person && b._uploadToken ? (m(), console.log("_inputPanelState")) : p && p.destroy())
    }),
    b.onConversationChangged = function(c) {
        if (setTimeout(function() {
            a.$apply()
        },
        0), e.displayConversationList ? a.showSelf = !0 : (a.showSelf = !0, a.WebIMWidget.display = !0), !c || c.targetType != WidgetModule.EnumConversationType.CUSTOMER_SERVICE || b.current && b.current.targetId == c.targetId || RongIMLib.RongIMClient.getInstance().startCustomService(c.targetId, {
            onSuccess: function() {},
            onError: function() {
                console.log("连接客服失败")
            }
        }), !c || !c.targetId) return a.messageList = [],
        a.currentConversation = null,
        b.current = null,
        void setTimeout(function() {
            a.$apply()
        });
        b.current = c,
        a.currentConversation = c,
        b._cacheHistory[c.targetType + "_" + c.targetId] = b._cacheHistory[c.targetType + "_" + c.targetId] || [];
        var d = b._cacheHistory[c.targetType + "_" + c.targetId] || [];
        a.messageList = d,
        0 == d.length ? b._getHistoryMessages( + c.targetType, c.targetId, 3).then(function(d) {
            a.messageList = b._cacheHistory[c.targetType + "_" + c.targetId],
            a.messageList.length > 0 && (a.messageList.unshift(new WidgetModule.TimePanl(a.messageList[0].sentTime)), d.has && a.messageList.unshift(new WidgetModule.GetMoreMessagePanel), g())
        }) : g(),
        a.currentConversation.messageContent = RongIMLib.RongIMClient.getInstance().getTextMessageDraft( + a.currentConversation.targetType, a.currentConversation.targetId) || "",
        setTimeout(function() {
            a.$apply()
        })
    },
    b.onReceivedMessage = function(c) {
        if (a.currentConversation && c.targetId == a.currentConversation.targetId && c.conversationType == a.currentConversation.targetType) {
            a.$apply();
            var d = null;
            switch (c.messageType) {
            case WidgetModule.MessageType.HandShakeResponseMessage:
                b._customService.type = c.content.data.serviceType,
                b._customService.companyName = c.content.data.companyName,
                b._customService.robotName = c.content.data.robotName,
                b._customService.robotIcon = c.content.data.robotIcon,
                b._customService.robotWelcome = c.content.data.robotWelcome,
                b._customService.humanWelcome = c.content.data.humanWelcome,
                b._customService.noOneOnlineTip = c.content.data.noOneOnlineTip,
                "1" == c.content.data.serviceType ? (o(WidgetModule.InputPanelType.robot), c.content.data.robotWelcome && (d = k(RongIMLib.TextMessage.obtain(c.content.data.robotWelcome), WidgetModule.MessageType.TextMessage))) : "3" == c.content.data.serviceType ? (c.content.data.robotWelcome && (d = k(RongIMLib.TextMessage.obtain(c.content.data.robotWelcome), WidgetModule.MessageType.TextMessage)), o(WidgetModule.InputPanelType.robotSwitchPerson)) : o(WidgetModule.InputPanelType.person),
                a.evaluate.valid = !1,
                setTimeout(function() {
                    a.evaluate.valid = !0
                },
                6e4);
                break;
            case WidgetModule.MessageType.ChangeModeResponseMessage:
                switch (c.content.data.status) {
                case 1:
                    b._customService.human.name = c.content.data.name || "客服人员",
                    b._customService.human.headimgurl = c.content.data.headimgurl,
                    o(WidgetModule.InputPanelType.person);
                    break;
                case 2:
                    "2" == b._customService.type ? o(WidgetModule.InputPanelType.person) : "1" != b._customService.type && "3" != b._customService.type || o(WidgetModule.InputPanelType.robotSwitchPerson);
                    break;
                case 3:
                    o(WidgetModule.InputPanelType.robot),
                    d = k(RongIMLib.InformationNotificationMessage.obtain("你被拉黑了"), WidgetModule.MessageType.InformationNotificationMessage);
                    break;
                case 4:
                    o(WidgetModule.InputPanelType.person),
                    d = k(RongIMLib.InformationNotificationMessage.obtain("已经是人工了"), WidgetModule.MessageType.InformationNotificationMessage)
                }
                break;
            case WidgetModule.MessageType.TerminateMessage:
                0 == c.content.code ? (a.evaluate.CSTerminate = !0, a.close()) : o("1" == b._customService.type ? WidgetModule.InputPanelType.robot: WidgetModule.InputPanelType.robotSwitchPerson);
                break;
            case WidgetModule.MessageType.CustomerStatusUpdateMessage:
                switch (Number(c.content.serviceStatus)) {
                case 1:
                    o("1" == b._customService.type ? WidgetModule.InputPanelType.robot: WidgetModule.InputPanelType.robotSwitchPerson);
                    break;
                case 2:
                    o(WidgetModule.InputPanelType.person);
                    break;
                case 3:
                    o(WidgetModule.InputPanelType.notService)
                }
            }
            if (d) {
                var e = WidgetModule.Message.convert(d);
                i(e),
                b._addHistoryMessages(e)
            }
            i(c),
            setTimeout(function() {
                g()
            },
            200)
        }
    },
    b._onConnectSuccess = function() {
        h()
    },
    a.getHistory = function() {
        var c = b._cacheHistory[a.currentConversation.targetType + "_" + a.currentConversation.targetId];
        c.splice(0, c.length),
        b._getHistoryMessages( + a.currentConversation.targetType, a.currentConversation.targetId, 20).then(function(c) {
            a.messageList = b._cacheHistory[a.currentConversation.targetType + "_" + a.currentConversation.targetId],
            c.has && b._cacheHistory[a.currentConversation.targetType + "_" + a.currentConversation.targetId].unshift(new WidgetModule.GetMoreMessagePanel)
        })
    },
    a.getMoreMessage = function() {
        b._cacheHistory[a.currentConversation.targetType + "_" + a.currentConversation.targetId].shift(),
        b._cacheHistory[a.currentConversation.targetType + "_" + a.currentConversation.targetId].shift(),
        b._getHistoryMessages( + a.currentConversation.targetType, a.currentConversation.targetId, 20).then(function(c) {
            a.messageList = b._cacheHistory[a.currentConversation.targetType + "_" + a.currentConversation.targetId],
            c.has && b._cacheHistory[a.currentConversation.targetType + "_" + a.currentConversation.targetId].unshift(new WidgetModule.GetMoreMessagePanel)
        })
    };
    var o = function(c) {
        a._inputPanelState = c,
        c == WidgetModule.InputPanelType.person ? (a.evaluate.type = 1, b._customService.currentType = "1", b.current.title = b._customService.human.name || "客服人员") : (a.evaluate.type = 2, b._customService.currentType = "2", b.current.title = b._customService.robotName)
    };
    a.evaluate = {
        type: 1,
        showevaluate: !1,
        valid: !1,
        CSTerminate: !1,
        onConfirm: function(c) {
            c && (1 == a.value ? RongIMLib.RongIMClient.getInstance().evaluateHumanCustomService(b.current.targetId, c.stars, c.describe, {
                onSuccess: function() {}
            }) : RongIMLib.RongIMClient.getInstance().evaluateRebotCustomService(b.current.targetId, c.value, c.describe, {
                onSuccess: function() {}
            })),
            RongIMLib.RongIMClient.getInstance().stopCustomeService(b.current.targetId, {
                onSuccess: function() {},
                onError: function() {}
            }),
            l()
        },
        onCancle: function() {
            RongIMLib.RongIMClient.getInstance().stopCustomeService(b.current.targetId, {
                onSuccess: function() {},
                onError: function() {}
            }),
            l()
        }
    },
    a.close = function() {
        if (c.onCloseBefore && "function" == typeof c.onCloseBefore) {
            c.onCloseBefore({
                close: function(c) {
                    b.current.targetType == WidgetModule.EnumConversationType.CUSTOMER_SERVICE ? a.evaluate.valid ? a.evaluate.showevaluate = !0 : a.evaluate.onCancle() : l()
                }
            })
        } else b.current.targetType == WidgetModule.EnumConversationType.CUSTOMER_SERVICE ? a.evaluate.valid ? a.evaluate.showevaluate = !0 : a.evaluate.onCancle() : l()
    },
    a.send = function() {
        if (!a.currentConversation.targetId || !a.currentConversation.targetType) return void alert("请先选择一个会话目标。");
        if ("" != a.currentConversation.messageContent) {
            var c = RongIMLib.RongIMEmoji.symbolToEmoji(a.currentConversation.messageContent),
            e = RongIMLib.TextMessage.obtain(c),
            f = new RongIMLib.UserInfo(b.loginUser.id, b.loginUser.name, b.loginUser.portraitUri);
            e.user = f;
            try {
                RongIMLib.RongIMClient.getInstance().sendMessage( + a.currentConversation.targetType, a.currentConversation.targetId, e, {
                    onSuccess: function(a) {
                        d.updateConversations().then(function() {})
                    },
                    onError: function(a) {
                        console.log(a)
                    }
                })
            } catch(h) {
                console.log(h)
            }
            var i = j(e, WidgetModule.MessageType.TextMessage),
            k = WidgetModule.Message.convert(i);
            b._addHistoryMessages(k),
            g(),
            a.currentConversation.messageContent = "";
            var l = document.getElementById("inputMsg");
            WidgetModule.Helper.getFocus(l)
        }
    },
    a.minimize = function() {
        c.display = !1
    },
    a.switchPerson = function() {
        RongIMLib.RongIMClient.getInstance().switchToHumanMode(b.current.targetId, {
            onSuccess: function() {},
            onError: function() {}
        })
    };
    var p
}]);
var conversationDirective = angular.module("RongWebIMWidget.conversationDirective", ["RongWebIMWidget.conversationController"]);
conversationDirective.directive("rongConversation", [function() {
    return {
        restrict: "E",
        templateUrl: "./src/ts/conversation/template.tpl.html",
        controller: "conversationController",
        link: function(a, b) {
            jQuery && jQuery.nicescroll && $("#Messages").niceScroll({
                cursorcolor: "#0099ff",
                cursoropacitymax: 1,
                touchbehavior: !1,
                cursorwidth: "8px",
                cursorborder: "0",
                cursorborderradius: "5px"
            })
        }
    }
}]),
conversationDirective.directive("emoji", [function() {
    return {
        restrict: "E",
        scope: {
            item: "=",
            content: "="
        },
        template: '<div style="display:inline-block"></div>',
        link: function(a, b, c) {
            b.find("div").append(a.item),
            b.on("click",
            function() {
                a.$parent.currentConversation.messageContent = a.$parent.currentConversation.messageContent || "",
                a.$parent.currentConversation.messageContent = a.$parent.currentConversation.messageContent.replace(/\n$/, ""),
                a.$parent.currentConversation.messageContent = a.$parent.currentConversation.messageContent + a.item.children[0].getAttribute("name"),
                a.$parent.$apply();
                var b = document.getElementById("inputMsg");
                WidgetModule.Helper.getFocus(b)
            })
        }
    }
}]),
conversationDirective.directive("contenteditableDire",
function() {
    return {
        restrict: "A",
        require: "?ngModel",
        link: function(a, b, c, d) {
            function e(a) {
                return a.replace(new RegExp("<[\\s\\S.]*?>", "ig"), "")
            }
            function f() {
                var a = b.html();
                a = a.replace(/^<br>$/i, ""),
                a = a.replace(/<br>/gi, "\n"),
                c.stripBr && "<br>" == a && (a = ""),
                d.$setViewValue(a)
            }
            var g = b[0];
            a.$watch(function() {
                return d.$modelValue
            },
            function(a) {
                document.activeElement !== g && ("" !== a && a !== c.placeholder || (g.innerHTML = c.placeholder, g.style.color = "#a9a9a9"))
            }),
            b.bind("focus",
            function() {
                g.innerHTML == c.placeholder && (g.innerHTML = ""),
                g.style.color = ""
            }),
            b.bind("blur",
            function() {
                "" === g.innerHTML && (g.innerHTML = c.placeholder, g.style.color = "#a9a9a9")
            }),
            d && (b.bind("paste",
            function(a) {
                var b = this;
                b.innerHTML;
                c && clearTimeout(c);
                var c = setTimeout(function() {
                    b.innerHTML = e(b.innerHTML),
                    d.$setViewValue(b.innerHTML),
                    c = null
                },
                50)
            }), d.$render = function() {
                b.html(d.$viewValue || "")
            },
            b.bind("keyup paste", f))
        }
    }
}),
conversationDirective.directive("ctrlEnterKeys", ["$timeout",
function(a) {
    return {
        restrict: "A",
        require: "?ngModel",
        scope: {
            fun: "&",
            ctrlenter: "=",
            content: "="
        },
        link: function(a, b, c, d) {
            a.ctrlenter = a.ctrlenter || !1,
            b.bind("keypress",
            function(b) {
                a.ctrlenter ? (b.ctrlKey === !0 && 13 === b.keyCode || 10 === b.keyCode) && (a.fun(), a.$parent.$apply(), b.preventDefault()) : b.ctrlKey !== !1 || b.shiftKey !== !1 || 13 !== b.keyCode && 10 !== b.keyCode ? b.ctrlKey === !0 && 13 === b.keyCode || 10 === b.keyCode: (a.fun(), a.$parent.$apply(), b.preventDefault())
            })
        }
    }
}]),
conversationDirective.directive("textmessage", [function() {
    return {
        restrict: "E",
        scope: {
            msg: "="
        },
        template: '<div class=""><div class="rongcloud-Message-text"><pre class="rongcloud-Message-entry" ng-bind-html="msg.content|trustHtml"><br></pre></div></div>'
    }
}]),
conversationDirective.directive("includinglinkmessage", [function() {
    return {
        restrict: "E",
        scope: {
            msg: "="
        },
        template: '<div class=""><div class="rongcloud-Message-text"><pre class="rongcloud-Message-entry" style="">维护中 由于我们的服务商出现故障，融云官网及相关服务也受到影响，给各位用户带来的不便，还请谅解。  您可以通过 <a href="#">【官方微博】</a>了解</pre></div></div>'
    }
}]),
conversationDirective.directive("imagemessage", [function() {
    return {
        restrict: "E",
        scope: {
            msg: "="
        },
        template: '<div class=""><div class="rongcloud-Message-img"><span id="{{\'rebox_\'+$id}}"  class="rongcloud-Message-entry" style=""><a href="{{msg.imageUri}}"><img ng-src="{{msg.content}}"  data-image="{{msg.imageUri}}" alt=""/></a></span></div></div>',
        link: function(a, b, c) {
            var d = new Image;
            d.src = a.msg.imageUri,
            setTimeout(function() {
                jQuery && jQuery.rebox && $("#rebox_" + a.$id).rebox({
                    selector: "a",
                    zIndex: 999999
                }).bind("rebox:open",
                function() {
                    var a = document.getElementsByClassName("rebox")[0];
                    a.onclick = function(b) {
                        if ("img" != b.target.tagName.toLowerCase()) {
                            var c = document.getElementsByClassName("rebox-close")[0];
                            c.click(),
                            a = null,
                            c = null
                        }
                    }
                })
            }),
            d.onload = function() {
                a.$apply(function() {
                    a.msg.content = a.msg.imageUri
                })
            },
            a.showBigImage = function() {}
        }
    }
}]),
conversationDirective.directive("voicemessage", ["$timeout",
function(a) {
    return {
        restrict: "E",
        scope: {
            msg: "="
        },
        template: '<div class=""><div class="rongcloud-Message-audio"><span class="rongcloud-Message-entry" style=""><span class="rongcloud-audioBox rongcloud-clearfix " ng-click="play()" ng-class="{\'animate\':isplaying}" ><i></i><i></i><i></i></span><div style="display: inline-block;" ><span class="rongcloud-audioTimer">{{msg.duration}}”</span><span class="rongcloud-audioState" ng-show="msg.isUnReade"></span></div></span></div></div>',
        link: function(b, c, d) {
            b.msg.duration = parseInt(b.msg.duration || b.msg.content.length / 1024),
            RongIMLib.RongIMVoice.preLoaded(b.msg.content),
            b.play = function() {
                RongIMLib.RongIMVoice.stop(b.msg.content),
                b.isplaying ? (b.isplaying = !1, a.cancel(b.timeoutid)) : (b.msg.isUnReade = !1, RongIMLib.RongIMVoice.play(b.msg.content, b.msg.duration), b.isplaying = !0, b.timeoutid && a.cancel(b.timeoutid), b.timeoutid = a(function() {
                    b.isplaying = !1
                },
                1e3 * b.msg.duration))
            }
        }
    }
}]),
conversationDirective.directive("locationmessage", [function() {
    return {
        restrict: "E",
        scope: {
            msg: "="
        },
        template: '<div class=""><div class="rongcloud-Message-map"><span class="rongcloud-Message-entry" style=""><div class="rongcloud-mapBox"><img ng-src="{{msg.content}}" alt=""><span>{{msg.poi}}</span></div></span></div></div>'
    }
}]),
conversationDirective.directive("richcontentmessage", [function() {
    return {
        restrict: "E",
        scope: {
            msg: "="
        },
        template: '<div class=""><div class="rongcloud-Message-image-text"><span class="rongcloud-Message-entry" style=""><div class="rongcloud-image-textBox"><h4>{{msg.title}}</h4><div class="rongcloud-cont rongcloud-clearfix"><img ng-src="{{msg.imageUri}}" alt=""><div>{{msg.content}}</div></div></div></span></div></div>'
    }
}]);
var conversationServer = angular.module("RongWebIMWidget.conversationServer", ["RongWebIMWidget.conversationDirective"]);
conversationServer.factory("conversationServer", ["$q", "providerdata",
function(a, b) {
    function c(a, b, c) {
        var e = d._cacheHistory[b + "_" + a] = d._cacheHistory[b + "_" + a] || [];
        e[0] && e[0].sentTime && e[0].panelType != WidgetModule.PanelType.Time && c.sentTime && (WidgetModule.Helper.timeCompare(e[0].sentTime, c.sentTime) || e.unshift(new WidgetModule.TimePanl(e[0].sentTime))),
        e.unshift(c)
    }
    var d = {};
    return d.current = {
        targetId: "",
        targetType: 0,
        title: "",
        portraitUri: "",
        onLine: !1
    },
    d.loginUser = {
        id: "",
        name: "",
        portraitUri: ""
    },
    d._cacheHistory = {},
    d._getHistoryMessages = function(d, e, f, g) {
        var h = a.defer();
        return RongIMLib.RongIMClient.getInstance().getHistoryMessages(d, e, g ? 0 : null, f, {
            onSuccess: function(a, f) {
                for (var g = a.length; g--;) {
                    var i = WidgetModule.Message.convert(a[g]);
                    c(e, d, i),
                    i.content && b.getUserInfo && !
                    function(a) {
                        b.getUserInfo(a.senderUserId, {
                            onSuccess: function(b) {
                                a.content.userInfo = new WidgetModule.UserInfo(b.userId, b.name, b.portraitUri)
                            }
                        })
                    } (i)
                }
                h.resolve({
                    data: a,
                    has: f
                })
            },
            onError: function(a) {
                h.reject(a)
            }
        }),
        h.promise
    },
    d._addHistoryMessages = function(a) {
        var b = d._cacheHistory[a.conversationType + "_" + a.targetId] = d._cacheHistory[a.conversationType + "_" + a.targetId] || [];
        b[b.length - 1] && b[b.length - 1].panelType != WidgetModule.PanelType.Time && b[b.length - 1].sentTime && a.sentTime && (WidgetModule.Helper.timeCompare(b[b.length - 1].sentTime, a.sentTime) || b.push(new WidgetModule.TimePanl(a.sentTime))),
        b.push(a)
    },
    d.onConversationChangged = function() {},
    d.onReceivedMessage = function() {},
    d._customService = {
        human: {}
    },
    d
}]);
var conversationListCtr = angular.module("RongWebIMWidget.conversationListController", []);
conversationListCtr.controller("conversationListController", ["$scope", "conversationListServer", "WebIMWidget", "widgetConfig", "providerdata",
function(a, b, c, d, e) {
    function f() {
        var a = b.conversationList.map(function(a) {
            return a.targetId
        });
        e.getOnlineStatus(a, {
            onSuccess: function(a) {
                b._onlineStatus = a,
                b.updateConversations()
            }
        })
    }
    function g() {
        h = setInterval(function() {
            f()
        },
        1e4)
    }
    a.conversationListServer = b,
    a.WebIMWidget = c,
    b.refreshConversationList = function() {
        setTimeout(function() {
            a.$apply()
        })
    },
    a.minbtn = function() {
        c.display = !1
    };
    var h, i = WidgetModule.Helper.CookieHelper.getCookie("voiceSound");
    e.voiceSound = i ? "true" == i: !0,
    a.data = e,
    a.config = d,
    a.$watch("data.voiceSound",
    function(a, b) {
        a !== b && WidgetModule.Helper.CookieHelper.setCookie("voiceSound", a)
    }),
    a.connected = !0,
    b._onConnectStatusChange = function(b) {
        b == RongIMLib.ConnectionStatus.CONNECTED ? (a.connected = !0, d.displayConversationList && e.getOnlineStatus && (f(), g())) : a.connected = !1,
        setTimeout(function() {
            a.$apply()
        })
    }
}]);
var conversationListDir = angular.module("RongWebIMWidget.conversationListDirective", ["RongWebIMWidget.conversationListController"]);
conversationListDir.directive("rongConversationList", [function() {
    return {
        restrict: "E",
        templateUrl: "./src/ts/conversationlist/conversationList.tpl.html",
        controller: "conversationListController",
        link: function(a, b) {
            jQuery && jQuery.nicescroll && $(b).find(".rongcloud-content").niceScroll({
                cursorcolor: "#0099ff",
                cursoropacitymax: 1,
                touchbehavior: !1,
                cursorwidth: "8px",
                cursorborder: "0",
                cursorborderradius: "5px"
            })
        }
    }
}]),
conversationListDir.directive("conversationItem", ["conversationServer", "conversationListServer", "RongIMSDKServer",
function(a, b, c) {
    return {
        restrict: "E",
        scope: {
            item: "="
        },
        template: '<div class="rongcloud-chatList"><div class="rongcloud-chat_item " ng-class="{\'online\':item.onLine}"><div class="rongcloud-ext"><p class="rongcloud-attr clearfix"><span class="rongcloud-badge" ng-show="item.unreadMessageCount>0">{{item.unreadMessageCount>99?"99+":item.unreadMessageCount}}</span><i class="rongcloud-sprite rongcloud-no-remind" ng-click="remove($event)"></i></p></div><div class="rongcloud-photo"><img class="rongcloud-img" ng-src="{{item.portraitUri}}" err-src="http://7xo1cb.com1.z0.glb.clouddn.com/20160230163460.jpg" alt=""><i ng-show="!!$parent.data.getOnlineStatus" class="rongcloud-Presence rongcloud-Presence--stacked rongcloud-Presence--mainBox"></i></div><div class="rongcloud-info"><h3 class="rongcloud-nickname"><span class="rongcloud-nickname_text" title="{{item.title}}">{{item.title}}</span></h3></div></div></div>',
        link: function(d, e, f) {
            e.on("click",
            function() {
                a.onConversationChangged(new WidgetModule.Conversation(d.item.targetType, d.item.targetId, d.item.title)),
                d.item.unreadMessageCount > 0 && (RongIMLib.RongIMClient.getInstance().clearUnreadCount(d.item.targetType, d.item.targetId, {
                    onSuccess: function() {},
                    onError: function() {}
                }), c.sendReadReceiptMessage(d.item.targetId, Number(d.item.targetType)), b.updateConversations())
            }),
            d.remove = function(c) {
                c.stopPropagation(),
                RongIMLib.RongIMClient.getInstance().removeConversation(d.item.targetType, d.item.targetId, {
                    onSuccess: function() {
                        a.current.targetType == d.item.targetType && a.current.targetId == d.item.targetId,
                        b.updateConversations()
                    },
                    onError: function(a) {
                        console.log(a)
                    }
                })
            }
        }
    }
}]);
var conversationListSer = angular.module("RongWebIMWidget.conversationListServer", ["RongWebIMWidget.conversationListDirective", "RongWebIMWidget"]);
conversationListSer.factory("conversationListServer", ["$q", "providerdata", "widgetConfig", "RongIMSDKServer", "conversationServer",
function(a, b, c, d, e) {
    var f = {};
    return f.conversationList = [],
    f._onlineStatus = [],
    f.updateConversations = function() {
        var g = a.defer();
        return RongIMLib.RongIMClient.getInstance().getConversationList({
            onSuccess: function(a) {
                f.conversationList.splice(0, f.conversationList.length);
                for (var h = 0,
                i = a.length; i > h; h++) {
                    var j = WidgetModule.Conversation.onvert(a[h]);
                    switch (j.targetType) {
                    case RongIMLib.ConversationType.PRIVATE:
                        "function" == WidgetModule.Helper.checkType(b.getUserInfo) && !
                        function(a, c) {
                            b.getUserInfo(a.targetId, {
                                onSuccess: function(b) {
                                    a.title = b.name,
                                    a.portraitUri = b.portraitUri,
                                    c.conversationTitle = b.name,
                                    c.portraitUri = b.portraitUri
                                }
                            })
                        } (j, a[h]);
                        break;
                    case RongIMLib.ConversationType.GROUP:
                        "function" == WidgetModule.Helper.checkType(b.getGroupInfo) && !
                        function(a, c) {
                            b.getGroupInfo(a.targetId, {
                                onSuccess: function(b) {
                                    a.title = b.name,
                                    a.portraitUri = b.portraitUri,
                                    c.conversationTitle = b.name,
                                    c.portraitUri = b.portraitUri
                                }
                            })
                        } (j, a[h]);
                        break;
                    case RongIMLib.ConversationType.CHATROOM:
                    }
                    f.conversationList.push(j)
                }
                f._onlineStatus.forEach(function(a) {
                    var b = f.getConversation(WidgetModule.EnumConversationType.PRIVATE, a.id);
                    b && (b.onLine = a.status)
                }),
                c.displayConversationList ? RongIMLib.RongIMClient.getInstance().getTotalUnreadCount({
                    onSuccess: function(a) {
                        b.totalUnreadCount = a || 0,
                        g.resolve(),
                        f.refreshConversationList()
                    },
                    onError: function() {}
                }) : d.getConversation(e.current.targetType, e.current.targetId).then(function(a) {
                    a && a.unreadMessageCount ? (b.totalUnreadCount = a.unreadMessageCount || 0, g.resolve(), f.refreshConversationList()) : (b.totalUnreadCount = 0, g.resolve(), f.refreshConversationList())
                })
            },
            onError: function(a) {
                g.reject(a)
            }
        },
        null),
        g.promise
    },
    f.refreshConversationList = function() {},
    f.getConversation = function(a, b) {
        for (var c = 0,
        d = f.conversationList.length; d > c; c++) if (f.conversationList[c].targetType == a && f.conversationList[c].targetId == b) return f.conversationList[c];
        return null
    },
    f.addConversation = function(a) {
        f.conversationList.unshift(a)
    },
    f._onConnectStatusChange = function() {},
    f
}]);
var evaluate = angular.module("Evaluate", []);
evaluate.directive("evaluatedir", ["$timeout",
function(a) {
    return {
        restrict: "E",
        scope: {
            type: "=",
            display: "=",
            enter: "&confirm",
            dcancle: "&cancle"
        },
        templateUrl: "./src/ts/evaluate/evaluate.tpl.html",
        link: function(b, c) {
            function d(c) {
                b.end = !0,
                c ? a(function() {
                    b.display = !1,
                    b.end = !1,
                    b.enter({
                        data: c
                    })
                },
                800) : (b.display = !1, b.end = !1, b.enter({
                    data: c
                }))
            }
            var e = [!1, !1, !1, !1, !1],
            f = ["答非所问", "理解能力差", "一问三不知", "不礼貌"];
            b.stars = e.concat(),
            b.labels = f.concat(),
            b.end = !1,
            b.displayDescribe = !1,
            b.data = {
                stars: 0,
                value: 0,
                describe: "",
                label: ""
            },
            b.$watch("display",
            function(a, c) {
                a !== c && (b.displayDescribe = !1, b.data = {
                    stars: 0,
                    value: 0,
                    describe: "",
                    label: ""
                })
            }),
            b.confirm = function(a) {
                void 0 != a ? 1 == b.type ? (b.data.stars = a, 5 != b.data.stars ? b.displayDescribe = !0 : d(b.data)) : (b.data.value = a, b.data.value === !1 ? b.displayDescribe = !0 : d(b.data)) : d(null)
            },
            b.commit = function() {
                d(b.data)
            },
            b.cancle = function() {
                b.display = !1,
                b.dcancle()
            }
        }
    }
}]);
var kefu = angular.module("RongCloudkefu", ["RongWebIMWidget"]);
kefu.service("RongKefu", ["WebIMWidget",
function(a) {
    var b = {},
    c = {};
    return b.init = function(d) {
        angular.extend(c, d),
        b._config = d;
        var e = {
            right: 20
        };
        d.position && (e = d.position == KefuPostion.left ? {
            left: 20,
            positionFixed: !0
        }: {
            right: 20,
            positionFixed: !0
        }),
        c.style = e,
        a.init(c),
        a.onShow = function() {
            a.setConversation(WidgetModule.EnumConversationType.CUSTOMER_SERVICE, d.kefuId, "客服")
        }
    },
    b.show = function() {
        a.show()
    },
    b.hidden = function() {
        a.hidden()
    },
    b.KefuPostion = KefuPostion,
    b
}]);
var KefuPostion; !
function(a) {
    a[a.left = 1] = "left",
    a[a.right = 2] = "right"
} (KefuPostion || (KefuPostion = {}));
var widget = angular.module("RongWebIMWidget", ["RongWebIMWidget.conversationServer", "RongWebIMWidget.conversationListServer", "RongIMSDKModule", "Evaluate"]);
widget.run(["$http", "WebIMWidget", "widgetConfig",
function(a, b, c) {
    var d = "https:" === location.protocol ? "https:": "http:";
    $script.get(d + "//cdn.ronghub.com/RongIMLib-2.1.0.min.js",
    function() {
        $script.get(d + "//cdn.ronghub.com/RongEmoji-2.0.15.min.js",
        function() {
            RongIMLib.RongIMEmoji && RongIMLib.RongIMEmoji.init()
        }),
        $script.get(d + "//cdn.ronghub.com/RongIMVoice-2.0.15.min.js",
        function() {
            RongIMLib.RongIMVoice && RongIMLib.RongIMVoice.init()
        }),
        c.config && b.init(c.config)
    }),
    $script.get(d + "//cdn.bootcss.com/plupload/2.1.8/plupload.full.min.js",
    function() {})
}]),
widget.factory("providerdata", [function() {
    var a = {
        _cacheUserInfo: [],
        getCacheUserInfo: function(b) {
            for (var c = 0,
            d = a._cacheUserInfo.length; d > c; c++) if (a._cacheUserInfo[c].userId == b) return a._cacheUserInfo[c];
            return null
        },
        addUserInfo: function(b) {
            var c = a.getCacheUserInfo(b.userId);
            c ? angular.extend(c, b) : a._cacheUserInfo.push(b)
        }
    };
    return a
}]),
widget.factory("widgetConfig", [function() {
    return {}
}]),
widget.factory("WebIMWidget", ["$q", "conversationServer", "conversationListServer", "providerdata", "widgetConfig", "RongIMSDKServer",
function(a, b, c, d, e, f) {
    function g(a) {
        var c = b._cacheHistory[a.conversationType + "_" + a.targetId] = b._cacheHistory[a.conversationType + "_" + a.targetId] || [];
        0 == c.length && (a.conversationType != WidgetModule.EnumConversationType.CUSTOMER_SERVICE && c.push(new WidgetModule.GetHistoryPanel), c.push(new WidgetModule.TimePanl(a.sentTime))),
        b._addHistoryMessages(a)
    }
    var h = {},
    i = 195,
    j = 50,
    k = 195,
    l = {
        displayMinButton: !0,
        conversationListPosition: WidgetModule.EnumConversationListPosition.left,
        desktopNotification: !0,
        voiceNotification: !0,
        style: {
            positionFixed: !1,
            width: 450,
            height: 470,
            bottom: 0,
            right: 0
        }
    },
    m = null;
    return h.display = !1,
    h.init = function(a) {
        if (!window.RongIMLib || !window.RongIMLib.RongIMClient) return void(e.config = a);
        l.desktopNotification && WidgetModule.NotificationHelper.requestPermission();
        var n = l.style;
        angular.extend(l, a),
        angular.extend(n, a.style),
        m = document.getElementById("rongcloud-playsound"),
        m && "string" == typeof l.voiceUrl ? m.src = l.voiceUrl: l.voiceNotification = !1;
        var o = document.getElementById("rong-conversation"),
        p = document.getElementById("rong-conversation-list"),
        q = document.getElementById("rong-widget-minbtn");
        if (n) if (o.style.height = n.height + "px", o.style.width = n.width + "px", p.style.height = n.height + "px", n.positionFixed ? (p.style.position = "fixed", q.style.position = "fixed", o.style.position = "fixed") : (p.style.position = "absolute", q.style.position = "absolute", o.style.position = "absolute"), l.displayConversationList) {
            if (q.style.display = "inline-block", p.style.display = "inline-block", l.conversationListPosition == WidgetModule.EnumConversationListPosition.left) isNaN(n.left) || (p.style.left = n.left + "px", q.style.left = n.left + "px", o.style.left = n.left + i + "px"),
            isNaN(n.right) || (p.style.right = n.right + n.width + "px", q.style.right = n.right + n.width + "px", o.style.right = n.right + "px");
            else {
                if (l.conversationListPosition != WidgetModule.EnumConversationListPosition.right) throw new Error("config conversationListPosition value is invalid");
                isNaN(n.left) || (p.style.left = n.left + n.width + "px", q.style.left = n.left + n.width + "px", o.style.left = n.left + "px"),
                isNaN(n.right) || (p.style.right = n.right + "px", q.style.right = n.right + "px", o.style.right = n.right + i + "px")
            }
            isNaN(n.top) || (p.style.top = n.top + "px", q.style.top = n.top + n.height - j + "px", o.style.top = n.top + "px"),
            isNaN(n.bottom) || (p.style.bottom = n.bottom + "px", q.style.bottom = n.bottom + "px", o.style.bottom = n.bottom + "px")
        } else q.style.display = "inline-block",
        p.style.display = "none",
        o.style.left = n.left + "px",
        o.style.right = n.right + "px",
        o.style.top = n.top + "px",
        o.style.bottom = n.bottom + "px",
        q.style.top = n.top + n.height - j + "px",
        q.style.bottom = n.bottom + "px",
        q.style.left = n.left + n.width / 2 - k / 2 + "px",
        q.style.right = n.right + n.width / 2 - k / 2 + "px";
        0 == l.displayMinButton && (q.style.display = "none"),
        e.displayConversationList = l.displayConversationList,
        e.displayMinButton = l.displayMinButton,
        e.reminder = l.reminder,
        e.voiceNotification = l.voiceNotification,
        f.init(l.appkey),
        f.connect(l.token).then(function(a) {
            c.updateConversations(),
            console.log("connect success:" + a),
            "function" == WidgetModule.Helper.checkType(l.onSuccess) && l.onSuccess(a),
            "function" == WidgetModule.Helper.checkType(d.getUserInfo) && d.getUserInfo(a, {
                onSuccess: function(a) {
                    b.loginUser.id = a.userId,
                    b.loginUser.name = a.name,
                    b.loginUser.portraitUri = a.portraitUri
                }
            }),
            b._onConnectSuccess()
        },
        function(a) {
            a.tokenError ? l.onError && "function" == typeof l.onError && l.onError({
                code: 0,
                info: "token 无效"
            }) : l.onError && "function" == typeof l.onError && l.onError({
                code: a.errorCode
            })
        }),
        f.setConnectionStatusListener({
            onChanged: function(a) {
                switch (h.connected = !1, a) {
                case RongIMLib.ConnectionStatus.CONNECTED:
                    console.log("链接成功"),
                    h.connected = !0;
                    break;
                case RongIMLib.ConnectionStatus.CONNECTING:
                    console.log("正在链接");
                    break;
                case RongIMLib.ConnectionStatus.KICKED_OFFLINE_BY_OTHER_CLIENT:
                    console.log("其他设备登录");
                    break;
                case RongIMLib.ConnectionStatus.NETWORK_UNAVAILABLE:
                    console.log("网络不可用")
                }
                h.onConnectStatusChange && h.onConnectStatusChange(a),
                c._onConnectStatusChange && c._onConnectStatusChange(a)
            }
        }),
        f.setOnReceiveMessageListener({
            onReceived: function(a) {
                console.log(a);
                var e = WidgetModule.Message.convert(a);
                switch ("function" == WidgetModule.Helper.checkType(d.getUserInfo) && e.content && d.getUserInfo(e.senderUserId, {
                    onSuccess: function(a) {
                        a && (e.content.userInfo = new WidgetModule.UserInfo(a.userId, a.name, a.portraitUri))
                    }
                }), a.messageType) {
                case WidgetModule.MessageType.VoiceMessage:
                    e.content.isUnReade = !0;
                case WidgetModule.MessageType.TextMessage:
                case WidgetModule.MessageType.LocationMessage:
                case WidgetModule.MessageType.ImageMessage:
                case WidgetModule.MessageType.RichContentMessage:
                    g(e);
                    var i = 1 == d.voiceSound && m && a.messageDirection == WidgetModule.MessageDirection.RECEIVE && l.voiceNotification,
                    j = b.current && b.current.targetType == e.conversationType && b.current.targetId == e.targetId,
                    k = (document.hidden || !h.display) && a.messageDirection == WidgetModule.MessageDirection.RECEIVE && l.desktopNotification; (l.displayConversationList && i || !l.displayConversationList && i && j) && m.play(),
                    (k && l.displayConversationList || !l.displayConversationList && k && j) && WidgetModule.NotificationHelper.showNotification({
                        title: e.content.userInfo.name,
                        icon: "",
                        body: WidgetModule.Message.messageToNotification(a),
                        data: {
                            targetId: e.targetId,
                            targetType: e.conversationType
                        }
                    });
                    break;
                case WidgetModule.MessageType.ContactNotificationMessage:
                    break;
                case WidgetModule.MessageType.InformationNotificationMessage:
                    g(e);
                    break;
                case WidgetModule.MessageType.UnknownMessage:
                    break;
                case WidgetModule.MessageType.ReadReceiptMessage:
                    a.messageDirection == WidgetModule.MessageDirection.SEND && f.clearUnreadCount(a.conversationType, a.targetId)
                }
                h.onReceivedMessage && h.onReceivedMessage(e),
                b.onReceivedMessage(e),
                !document.hidden && h.display && b.current && b.current.targetType == e.conversationType && b.current.targetId == e.targetId && a.messageDirection == WidgetModule.MessageDirection.RECEIVE && a.messageType != WidgetModule.MessageType.ReadReceiptMessage && (f.clearUnreadCount(b.current.targetType, b.current.targetId), f.sendReadReceiptMessage(b.current.targetId, b.current.targetType)),
                c.updateConversations().then(function() {})
            }
        }),
        window.onfocus = function() {
            b.current && b.current.targetId && h.display && f.getConversation(b.current.targetType, b.current.targetId).then(function(a) {
                a && a.unreadMessageCount > 0 && (f.clearUnreadCount(b.current.targetType, b.current.targetId), f.sendReadReceiptMessage(b.current.targetId, b.current.targetType), c.updateConversations().then(function() {}))
            })
        }
    },
    h.setConversation = function(a, c, d) {
        b.onConversationChangged(new WidgetModule.Conversation(a, c, d))
    },
    h.setUserInfoProvider = function(a) {
        d.getUserInfo = a
    },
    h.setGroupInfoProvider = function(a) {
        d.getGroupInfo = a
    },
    h.setOnlineStatusProvider = function(a) {
        d.getOnlineStatus = a
    },
    h.EnumConversationListPosition = WidgetModule.EnumConversationListPosition,
    h.EnumConversationType = WidgetModule.EnumConversationType,
    h.show = function() {
        h.display = !0,
        h.fullScreen = !1
    },
    h.hidden = function() {
        h.display = !1
    },
    h.getCurrentConversation = function() {
        return b.current
    },
    h
}]),
widget.directive("rongWidget", [function() {
    return {
        restrict: "E",
        templateUrl: "./src/ts/main.tpl.html",
        controller: "rongWidgetController"
    }
}]),
widget.controller("rongWidgetController", ["$scope", "$interval", "WebIMWidget", "widgetConfig", "providerdata", "conversationServer", "RongIMSDKServer", "conversationListServer",
function(a, b, c, d, e, f, g, h) {
    a.main = c,
    a.widgetConfig = d,
    a.data = e,
    c.show = function() {
        c.display = !0,
        c.fullScreen = !1,
        c.onShow && c.onShow(),
        setTimeout(function() {
            a.$apply()
        })
    };
    var i = null;
    a.$watch("data.totalUnreadCount",
    function(c, d) {
        c > 0 ? (i && b.cancel(i), i = b(function() {
            a.twinkle = !a.twinkle
        },
        1e3)) : b.cancel(i)
    }),
    a.$watch("main.display",
    function() {
        f.current && f.current.targetId && c.display && g.getConversation(f.current.targetType, f.current.targetId).then(function(a) {
            a && a.unreadMessageCount > 0 && (g.clearUnreadCount(f.current.targetType, f.current.targetId), g.sendReadReceiptMessage(f.current.targetId, f.current.targetType), h.updateConversations().then(function() {}))
        })
    }),
    c.hidden = function() {
        c.display = !1,
        setTimeout(function() {
            a.$apply()
        })
    },
    a.showbtn = function() {
        c.display = !0,
        c.onShow && c.onShow()
    }
}]),
widget.filter("trustHtml", ["$sce",
function(a) {
    return function(b) {
        return a.trustAsHtml(b)
    }
}]),
widget.filter("historyTime", ["$filter",
function(a) {
    return function(b) {
        var c = new Date;
        return b.toDateString() === c.toDateString() ? a("date")(b, "HH:mm") : b.toDateString() === new Date(c.setTime(c.getTime() - 1)).toDateString() ? "昨天" + a("date")(b, "HH:mm") : a("date")(b, "yyyy-MM-dd HH:mm")
    }
}]),
widget.directive("errSrc",
function() {
    return {
        link: function(a, b, c) {
            c.ngSrc || c.$set("src", c.errSrc),
            b.bind("error",
            function() {
                c.src != c.errSrc && c.$set("src", c.errSrc)
            })
        }
    }
});
var __extends = this && this.__extends ||
function(a, b) {
    function c() {
        this.constructor = a
    }
    for (var d in b) b.hasOwnProperty(d) && (a[d] = b[d]);
    a.prototype = null === b ? Object.create(b) : (c.prototype = b.prototype, new c)
},
WidgetModule; !
function(a) { !
    function(a) {
        a[a.left = 0] = "left",
        a[a.right = 1] = "right"
    } (a.EnumConversationListPosition || (a.EnumConversationListPosition = {}));
    a.EnumConversationListPosition; !
    function(a) {
        a[a.PRIVATE = 1] = "PRIVATE",
        a[a.DISCUSSION = 2] = "DISCUSSION",
        a[a.GROUP = 3] = "GROUP",
        a[a.CHATROOM = 4] = "CHATROOM",
        a[a.CUSTOMER_SERVICE = 5] = "CUSTOMER_SERVICE",
        a[a.SYSTEM = 6] = "SYSTEM",
        a[a.APP_PUBLIC_SERVICE = 7] = "APP_PUBLIC_SERVICE",
        a[a.PUBLIC_SERVICE = 8] = "PUBLIC_SERVICE"
    } (a.EnumConversationType || (a.EnumConversationType = {}));
    a.EnumConversationType; !
    function(a) {
        a[a.SEND = 1] = "SEND",
        a[a.RECEIVE = 2] = "RECEIVE"
    } (a.MessageDirection || (a.MessageDirection = {}));
    a.MessageDirection; !
    function(a) {
        a[a.READ = 1] = "READ",
        a[a.LISTENED = 2] = "LISTENED",
        a[a.DOWNLOADED = 4] = "DOWNLOADED"
    } (a.ReceivedStatus || (a.ReceivedStatus = {}));
    a.ReceivedStatus; !
    function(a) {
        a[a.SENDING = 10] = "SENDING",
        a[a.FAILED = 20] = "FAILED",
        a[a.SENT = 30] = "SENT",
        a[a.RECEIVED = 40] = "RECEIVED",
        a[a.READ = 50] = "READ",
        a[a.DESTROYED = 60] = "DESTROYED"
    } (a.SentStatus || (a.SentStatus = {}));
    var b;
    a.SentStatus; !
    function(a) {
        a[a.left = 1] = "left",
        a[a.right = 2] = "right",
        a[a.top = 3] = "top",
        a[a.bottom = 4] = "bottom"
    } (b || (b = {})),
    function(a) {
        a[a.person = 0] = "person",
        a[a.robot = 1] = "robot",
        a[a.robotSwitchPerson = 2] = "robotSwitchPerson",
        a[a.notService = 4] = "notService"
    } (a.InputPanelType || (a.InputPanelType = {}));
    a.InputPanelType;
    a.MessageType = {
        DiscussionNotificationMessage: "DiscussionNotificationMessage ",
        TextMessage: "TextMessage",
        ImageMessage: "ImageMessage",
        VoiceMessage: "VoiceMessage",
        RichContentMessage: "RichContentMessage",
        HandshakeMessage: "HandshakeMessage",
        UnknownMessage: "UnknownMessage",
        SuspendMessage: "SuspendMessage",
        LocationMessage: "LocationMessage",
        InformationNotificationMessage: "InformationNotificationMessage",
        ContactNotificationMessage: "ContactNotificationMessage",
        ProfileNotificationMessage: "ProfileNotificationMessage",
        CommandNotificationMessage: "CommandNotificationMessage",
        HandShakeResponseMessage: "HandShakeResponseMessage",
        ChangeModeResponseMessage: "ChangeModeResponseMessage",
        TerminateMessage: "TerminateMessage",
        CustomerStatusUpdateMessage: "CustomerStatusUpdateMessage",
        ReadReceiptMessage: "ReadReceiptMessage"
    },
    function(a) {
        a[a.Message = 1] = "Message",
        a[a.InformationNotification = 2] = "InformationNotification",
        a[a.System = 103] = "System",
        a[a.Time = 104] = "Time",
        a[a.getHistory = 105] = "getHistory",
        a[a.getMore = 106] = "getMore",
        a[a.Other = 0] = "Other"
    } (a.PanelType || (a.PanelType = {}));
    var c = a.PanelType,
    d = function() {
        function a(a) {
            this.panelType = a
        }
        return a
    } ();
    a.ChatPanel = d;
    var e = function(a) {
        function b(b) {
            a.call(this, c.Time),
            this.sentTime = b
        }
        return __extends(b, a),
        b
    } (d);
    a.TimePanl = e;
    var f = function(a) {
        function b() {
            a.call(this, c.getHistory)
        }
        return __extends(b, a),
        b
    } (d);
    a.GetHistoryPanel = f;
    var g = function(a) {
        function b() {
            a.call(this, c.getMore)
        }
        return __extends(b, a),
        b
    } (d);
    a.GetMoreMessagePanel = g;
    var h = function(a) {
        function b(b) {
            a.call(this, c.Time),
            this.sentTime = b
        }
        return __extends(b, a),
        b
    } (d);
    a.TimePanel = h;
    var i = function(b) {
        function d(a, d, e, f, g, h, i, j, k, l, m, n, o) {
            b.call(this, c.Message)
        }
        return __extends(d, b),
        d.convert = function(b) {
            var c = new d;
            switch (c.conversationType = b.conversationType, c.extra = b.extra, c.objectName = b.objectName, c.messageDirection = b.messageDirection, c.messageId = b.messageId, c.receivedStatus = b.receivedStatus, c.receivedTime = new Date(b.receivedTime), c.senderUserId = b.senderUserId, c.sentStatus = b.sendStatusMessage, c.sentTime = new Date(b.sentTime), c.targetId = b.targetId, c.messageType = b.messageType, c.messageType) {
            case a.MessageType.TextMessage:
                var e = new l,
                f = b.content.content;
                RongIMLib.RongIMEmoji && RongIMLib.RongIMEmoji.emojiToHTML && (f = RongIMLib.RongIMEmoji.emojiToHTML(f)),
                e.content = f,
                c.content = e;
                break;
            case a.MessageType.ImageMessage:
                var g = new r,
                f = b.content.content || ""; - 1 == f.indexOf("base64,") && (f = "data:image/png;base64," + f),
                g.content = f,
                g.imageUri = b.content.imageUri,
                c.content = g;
                break;
            case a.MessageType.VoiceMessage:
                var h = new s;
                h.content = b.content.content,
                h.duration = b.content.duration,
                c.content = h;
                break;
            case a.MessageType.RichContentMessage:
                var i = new u;
                i.content = b.content.content,
                i.title = b.content.title,
                i.imageUri = b.content.imageUri,
                c.content = i;
                break;
            case a.MessageType.LocationMessage:
                var j = new t,
                f = b.content.content || ""; - 1 == f.indexOf("base64,") && (f = "data:image/png;base64," + f),
                j.content = f,
                j.latiude = b.content.latiude,
                j.longitude = b.content.longitude,
                j.poi = b.content.poi,
                c.content = j;
                break;
            case a.MessageType.InformationNotificationMessage:
                var k = new q;
                c.panelType = 2,
                k.content = b.content.message,
                c.content = k;
                break;
            case a.MessageType.DiscussionNotificationMessage:
                var w = new v;
                w.extension = b.content.extension,
                w.operation = b.content.operation,
                w.type = b.content.type,
                w.isHasReceived = b.content.isHasReceived,
                c.content = w;
            case a.MessageType.HandShakeResponseMessage:
                var x = new m;
                x.status = b.content.status,
                x.msg = b.content.msg,
                x.data = b.content.data,
                c.content = x;
                break;
            case a.MessageType.ChangeModeResponseMessage:
                var y = new n;
                y.code = b.content.code,
                y.data = b.content.data,
                y.status = b.content.status,
                c.content = y;
                break;
            case a.MessageType.CustomerStatusUpdateMessage:
                var z = new p;
                z.serviceStatus = b.content.serviceStatus,
                c.content = z;
                break;
            case a.MessageType.TerminateMessage:
                var A = new o;
                A.code = b.content.code,
                c.content = A;
                break;
            default:
                console.log("未处理消息类型:" + b.messageType)
            }
            return c.content && (c.content.userInfo = b.content.user),
            c
        },
        d.messageToNotification = function(b) {
            if (!b) return null;
            var c, d = b.messageType;
            if (d == a.MessageType.ImageMessage) c = "[图片]";
            else if (d == a.MessageType.LocationMessage) c = "[位置]";
            else if (d == a.MessageType.VoiceMessage) c = "[语音]";
            else if (d == a.MessageType.ContactNotificationMessage || d == a.MessageType.CommandNotificationMessage) c = "[通知消息]";
            else if ("RC:GrpNtf" == b.objectName) {
                var e = b.content.message.content.data.data;
                switch (b.content.message.content.operation) {
                case "Add":
                    c = e.targetUserDisplayNames ? e.targetUserDisplayNames.join("、") + " 加入了群组": "加入群组";
                    break;
                case "Quit":
                    c = e.operatorNickname + " 退出了群组";
                    break;
                case "Kicked":
                    c = e.targetUserDisplayNames ? e.targetUserDisplayNames.join("、") + " 被剔出群组": "移除群组";
                    break;
                case "Rename":
                    c = e.operatorNickname + " 修改了群名称";
                    break;
                case "Create":
                    c = e.operatorNickname + " 创建了群组";
                    break;
                case "Dismiss":
                    c = e.operatorNickname + " 解散了群组 " + e.targetGroupName
                }
            } else c = b.content ? b.content.content: "",
            c = RongIMLib.RongIMEmoji.emojiToSymbol(c),
            c = c.replace(/\n/g, " "),
            c = c.replace(/([\w]{49,50})/g, "$1 ");
            return c
        },
        d
    } (d);
    a.Message = i;
    var j = function() {
        function a(a, b, c) {
            this.userId = a,
            this.name = b,
            this.portraitUri = c
        }
        return a
    } ();
    a.UserInfo = j;
    var k = function() {
        function a(a, b, c) {
            this.userId = a,
            this.name = b,
            this.portraitUri = c
        }
        return a
    } ();
    a.GroupInfo = k;
    var l = function() {
        function a(a) {
            a = a || {},
            this.content = a.content,
            this.userInfo = a.userInfo
        }
        return a
    } ();
    a.TextMessage = l;
    var m = function() {
        function a() {}
        return a
    } ();
    a.HandShakeResponseMessage = m;
    var n = function() {
        function a() {}
        return a
    } ();
    a.ChangeModeResponseMessage = n;
    var o = function() {
        function a() {}
        return a
    } ();
    a.TerminateMessage = o;
    var p = function() {
        function a() {}
        return a
    } ();
    a.CustomerStatusUpdateMessage = p;
    var q = function() {
        function a() {}
        return a
    } ();
    a.InformationNotificationMessage = q;
    var r = function() {
        function a() {}
        return a
    } ();
    a.ImageMessage = r;
    var s = function() {
        function a() {}
        return a
    } ();
    a.VoiceMessage = s;
    var t = function() {
        function a() {}
        return a
    } ();
    a.LocationMessage = t;
    var u = function() {
        function a() {}
        return a
    } ();
    a.RichContentMessage = u;
    var v = function() {
        function a() {}
        return a
    } ();
    a.DiscussionNotificationMessage = v;
    var w = function() {
        function a(a, b, c) {
            this.targetType = a,
            this.targetId = b,
            this.title = c || ""
        }
        return a.onvert = function(b) {
            var c = new a;
            return c.targetId = b.targetId,
            c.targetType = b.conversationType,
            c.title = b.conversationTitle,
            c.portraitUri = b.senderPortraitUri,
            c.unreadMessageCount = b.unreadMessageCount,
            c
        },
        a
    } ();
    a.Conversation = w;
    var x = window.navigator.userAgent,
    y = function() {
        function b() {}
        return b.timeCompare = function(a, b) {
            var c = a.toString(),
            d = b.toString();
            return c.substring(0, c.lastIndexOf(":")) == d.substring(0, d.lastIndexOf(":"))
        },
        b.checkType = function(a) {
            var b = Object.prototype.toString.call(a);
            return b.substring(8, b.length - 1).toLowerCase()
        },
        b.browser = {
            version: (x.match(/.+(?:rv|it|ra|chrome|ie)[\/: ]([\d.]+)/) || [0, "0"])[1],
            safari: /webkit/.test(x),
            opera: /opera|opr/.test(x),
            msie: /msie|trident/.test(x) && !/opera/.test(x),
            chrome: /chrome/.test(x),
            mozilla: /mozilla/.test(x) && !/(compatible|webkit|like gecko)/.test(x)
        },
        b.getFocus = function(b) {
            if (b.focus(), b.createTextRange) {
                var c = b.createTextRange();
                c.moveStart("character", b.value.length),
                c.collapse(!0),
                c.select()
            } else if (b.selectionStart) b.selectionStart = b.value.length;
            else if (window.getSelection && b.lastChild) {
                var d = window.getSelection(),
                e = document.createRange();
                a.Helper.browser.msie ? e.setStart(b.lastChild, b.lastChild.length) : e.setStart(b.firstChild, b.firstChild.length),
                d.removeAllRanges(),
                d.addRange(e)
            }
        },
        b.ImageHelper = {
            getThumbnail: function(b, c, d) {
                var e = document.createElement("canvas"),
                f = e.getContext("2d"),
                g = new Image;
                g.onload = function() {
                    var a, h, i = g.width * g.height;
                    if (i > c) {
                        var j = Math.sqrt(i / c);
                        j = Math.ceil(100 * j) / 100,
                        a = g.width / j,
                        h = g.height / j
                    } else a = g.width,
                    h = g.height;
                    e.width = a,
                    e.height = h,
                    f.drawImage(g, 0, 0, a, h);
                    try {
                        var k = e.toDataURL("image/jpeg", .5);
                        k = k.substr(23),
                        d(b, k)
                    } catch(l) {
                        d(b, null)
                    }
                },
                g.src = a.Helper.ImageHelper.getFullPath(b)
            },
            getFullPath: function(a) {
                return window.URL = window.URL || window.webkitURL,
                window.URL && window.URL.createObjectURL ? window.URL.createObjectURL(a) : null
            }
        },
        b.CookieHelper = {
            setCookie: function(a, b, c) {
                if (c) {
                    var d = new Date;
                    d.setDate(d.getDate() + c),
                    document.cookie = a + "=" + encodeURI(b) + ";expires=" + d.toUTCString()
                } else document.cookie = a + "=" + encodeURI(b) + ";"
            },
            getCookie: function(a) {
                var b = document.cookie.indexOf(a + "=");
                if ( - 1 != b) {
                    var c = document.cookie.indexOf(";", b);
                    return - 1 == c && (c = document.cookie.length),
                    decodeURI(document.cookie.substring(b + a.length + 1, c))
                }
                return ""
            },
            removeCookie: function(a) {
                var b = this.getCookie(a);
                b && this.setCookie(a, "con", -1)
            }
        },
        b
    } ();
    a.Helper = y;
    var z = function() {
        function a() {}
        return a.isNotificationSupported = function() {
            return "function" == typeof Notification
        },
        a.requestPermission = function() {
            a.isNotificationSupported() && Notification.requestPermission(function(a) {})
        },
        a.onclick = function(a) {},
        a.showNotification = function(b) {
            if (!a.isNotificationSupported()) return void console.log("the current browser does not support Notification API");
            if ("granted" !== Notification.permission) return void console.log("the current page has not been granted for notification");
            if (a.desktopNotification) {
                var c = b.title;
                delete b.title;
                var d = new Notification(c, b);
                d.onshow = function() {
                    setTimeout(function() {
                        d.close()
                    },
                    5e3)
                },
                d.onclick = function() {
                    window.focus(),
                    a.onclick(d),
                    d.close()
                },
                d.onerror = function() {},
                d.onclose = function() {}
            }
        },
        a.desktopNotification = !0,
        a
    } ();
    a.NotificationHelper = z
} (WidgetModule || (WidgetModule = {}));
var SDKServer = angular.module("RongIMSDKModule", []);
SDKServer.factory("RongIMSDKServer", ["$q",
function(a) {
    var b = {};
    return b.init = function(a) {
        RongIMLib.RongIMClient.init(a)
    },
    b.connect = function(b) {
        var c = a.defer();
        return RongIMLib.RongIMClient.connect(b, {
            onSuccess: function(a) {
                c.resolve(a)
            },
            onTokenIncorrect: function() {
                c.reject({
                    tokenError: !0
                })
            },
            onError: function(a) {
                c.reject({
                    errorCode: a
                });
                var b = "";
                switch (a) {
                case RongIMLib.ErrorCode.TIMEOUT:
                    b = "连接超时";
                    break;
                case RongIMLib.ErrorCode.UNKNOWN:
                    b = "未知错误";
                    break;
                case RongIMLib.ConnectionState.UNACCEPTABLE_PROTOCOL_VERSION:
                    b = "不可接受的协议版本";
                    break;
                case RongIMLib.ConnectionState.IDENTIFIER_REJECTED:
                    b = "appkey不正确";
                    break;
                case RongIMLib.ConnectionState.SERVER_UNAVAILABLE:
                    b = "服务器不可用";
                    break;
                case RongIMLib.ConnectionState.NOT_AUTHORIZED:
                    b = "未认证";
                    break;
                case RongIMLib.ConnectionState.REDIRECT:
                    b = "重新获取导航";
                    break;
                case RongIMLib.ConnectionState.APP_BLOCK_OR_DELETE:
                    b = "应用已被封禁或已被删除";
                    break;
                case RongIMLib.ConnectionState.BLOCK:
                    b = "用户被封禁"
                }
                console.log("失败:" + b)
            }
        }),
        c.promise
    },
    b.getInstance = function() {
        return RongIMLib.RongIMClient.getInstance()
    },
    b.sendReadReceiptMessage = function(a, c) {
        RongIMLib.RongIMClient.getInstance().getConversation(Number(c), a, {
            onSuccess: function(d) {
                var e = RongIMLib.ReadReceiptMessage.obtain(d.latestMessage.messageUId, d.latestMessage.sentTime, "1");
                b.sendMessage(c, a, e)
            },
            onError: function() {}
        })
    },
    b.setOnReceiveMessageListener = function(a) {
        RongIMLib.RongIMClient.setOnReceiveMessageListener(a)
    },
    b.setConnectionStatusListener = function(a) {
        RongIMLib.RongIMClient.setConnectionStatusListener(a)
    },
    b.sendMessage = function(b, c, d) {
        var e = a.defer();
        return RongIMLib.RongIMClient.getInstance().sendMessage( + b, c, d, {
            onSuccess: function(a) {
                e.resolve(a)
            },
            onError: function(a, b) {
                e.reject({
                    errorCode: a,
                    message: b
                });
                var c = "";
                switch (a) {
                case RongIMLib.ErrorCode.TIMEOUT:
                    c = "超时";
                    break;
                case RongIMLib.ErrorCode.UNKNOWN:
                    c = "未知错误";
                    break;
                case RongIMLib.ErrorCode.REJECTED_BY_BLACKLIST:
                    c = "在黑名单中，无法向对方发送消息";
                    break;
                case RongIMLib.ErrorCode.NOT_IN_DISCUSSION:
                    c = "不在讨论组中";
                    break;
                case RongIMLib.ErrorCode.NOT_IN_GROUP:
                    c = "不在群组中";
                    break;
                case RongIMLib.ErrorCode.NOT_IN_CHATROOM:
                    c = "不在聊天室中";
                    break;
                default:
                    c = ""
                }
                console.log("发送失败:" + c)
            }
        }),
        e.promise
    },
    b.reconnect = function(a) {
        RongIMLib.RongIMClient.reconnect(a)
    },
    b.clearUnreadCount = function(b, c) {
        var d = a.defer();
        return RongIMLib.RongIMClient.getInstance().clearUnreadCount(b, c, {
            onSuccess: function(a) {
                d.resolve(a)
            },
            onError: function(a) {
                d.reject(a)
            }
        }),
        d.promise
    },
    b.getTotalUnreadCount = function() {
        var b = a.defer();
        return RongIMLib.RongIMClient.getInstance().getTotalUnreadCount({
            onSuccess: function(a) {
                b.resolve(a)
            },
            onError: function() {
                b.reject()
            }
        }),
        b.promise
    },
    b.getConversationList = function() {
        var b = a.defer();
        return RongIMLib.RongIMClient.getInstance().getConversationList({
            onSuccess: function(a) {
                b.resolve(a)
            },
            onError: function(a) {
                b.reject(a)
            }
        },
        null),
        b.promise
    },
    b.removeConversation = function(b, c) {
        var d = a.defer();
        return RongIMLib.RongIMClient.getInstance().removeConversation(b, c, {
            onSuccess: function(a) {
                d.resolve(a)
            },
            onError: function(a) {
                d.reject(a)
            }
        }),
        d.promise
    },
    b.createConversation = function(a, b, c) {
        RongIMLib.RongIMClient.getInstance().createConversation(a, b, c)
    },
    b.getConversation = function(b, c) {
        var d = a.defer();
        return RongIMLib.RongIMClient.getInstance().getConversation(Number(b), c, {
            onSuccess: function(a) {
                d.resolve(a)
            },
            onError: function() {
                d.reject()
            }
        }),
        d.promise
    },
    b.getDraft = function(a, b) {
        return RongIMLib.RongIMClient.getInstance().getTextMessageDraft(a, b) || ""
    },
    b.setDraft = function(a, b, c) {
        return RongIMLib.RongIMClient.getInstance().saveTextMessageDraft(a, b, c)
    },
    b.clearDraft = function(a, b) {
        return RongIMLib.RongIMClient.getInstance().clearTextMessageDraft(a, b)
    },
    b.getHistoryMessages = function(b, c, d) {
        var e = a.defer();
        return RongIMLib.RongIMClient.getInstance().getHistoryMessages(b, c, null, d, {
            onSuccess: function(a, b) {
                e.resolve({
                    data: a,
                    has: b
                })
            },
            onError: function(a) {
                e.reject(a)
            }
        }),
        e.promise
    },
    b.disconnect = function() {
        RongIMLib.RongIMClient.getInstance().disconnect()
    },
    b.logout = function() {
        RongIMLib && RongIMLib.RongIMClient && RongIMLib.RongIMClient.getInstance().logout()
    },
    b.voice = {
        init: function() {},
        play: function(a, b) {
            RongIMLib.voice.play(a, b)
        }
    },
    b
}]),
angular.module("RongWebIMWidget").run(["$templateCache",
function(a) {
    "use strict";
    a.put("./src/ts/conversation/template.tpl.html", '<div id=rong-conversation class="rongcloud-kefuChatBox rongcloud-both rongcloud-am-fade-and-slide-top" ng-show=showSelf ng-class="{\'fullScreen\':resoures.fullScreen}"><evaluatedir type=evaluate.type display=evaluate.showevaluate confirm=evaluate.onConfirm(data) cancle=evaluate.onCancle()></evaluatedir><div class=rongcloud-kefuChat><div id=header class="rongcloud-rong-header rongcloud-blueBg rongcloud-online"><div class="rongcloud-infoBar rongcloud-pull-left"><div class=rongcloud-infoBarTit><span class=rongcloud-kefuName ng-bind=currentConversation.title></span></div></div><div class="rongcloud-toolBar rongcloud-headBtn rongcloud-pull-right"><div ng-show=!widgetConfig.displayConversationList&&widgetConfig.voiceNotification class=rongcloud-voice ng-class="{\'rongcloud-voice-mute\':!data.voiceSound,\'rongcloud-voice-sound\':data.voiceSound}" ng-click="data.voiceSound=!data.voiceSound"></div><a href=javascript:; class="rongcloud-kefuChatBoxHide rongcloud-sprite" ng-show=!widgetConfig.displayConversationList ng-click=minimize() title=隐藏></a> <a href=javascript:; class="rongcloud-kefuChatBoxClose rongcloud-sprite" ng-click=close() title=结束对话></a></div></div><div class="rongcloud-outlineBox rongcloud-hide"><div class=rongcloud-sprite></div><span>网络连接断开</span></div><div id=Messages><div class=rongcloud-emptyBox>暂时没有新消息</div><div class=rongcloud-MessagesInner><div ng-repeat="item in messageList" ng-switch=item.panelType><div class=rongcloud-Messages-date ng-switch-when=104><b>{{item.sentTime|historyTime}}</b></div><div class=rongcloud-Messages-history ng-switch-when=105><b ng-click=getHistory()>查看历史消息</b></div><div class=rongcloud-Messages-history ng-switch-when=106><b ng-click=getMoreMessage()>获取更多消息</b></div><div class=rongcloud-sys-tips ng-switch-when=2><span ng-bind-html=item.content.content|trustHtml></span></div><div class=rongcloud-Message ng-switch-when=1><div class=rongcloud-Messages-unreadLine></div><div><div class=rongcloud-Message-header><img class="rongcloud-img rongcloud-u-isActionable rongcloud-Message-avatar rongcloud-avatar" ng-src="{{item.content.userInfo.portraitUri||\'http://7xo1cb.com1.z0.glb.clouddn.com/20160230163460.jpg\'}}" alt=""><div class="rongcloud-Message-author rongcloud-clearfix"><a class="rongcloud-author rongcloud-u-isActionable">{{item.content.userInfo.name}}</a> <span>{{item.content.userInfo.id}}</span></div></div></div><div class=rongcloud-Message-body ng-switch=item.messageType><textmessage ng-switch-when=TextMessage msg=item.content></textmessage><imagemessage ng-switch-when=ImageMessage msg=item.content></imagemessage><voicemessage ng-switch-when=VoiceMessage msg=item.content></voicemessage><locationmessage ng-switch-when=LocationMessage msg=item.content></locationmessage><richcontentmessage ng-switch-when=RichContentMessage msg=item.content></richcontentmessage></div></div></div></div></div><div id=footer class=rongcloud-rong-footer style="display: block"><div class=rongcloud-footer-con><div class=rongcloud-text-layout><div id=funcPanel class="rongcloud-funcPanel rongcloud-robotMode"><div class=rongcloud-mode1 ng-show="_inputPanelState==0"><div class=rongcloud-MessageForm-tool id=expressionWrap><i class="rongcloud-sprite rongcloud-iconfont-smile" ng-click="showemoji=!showemoji"></i><div class=rongcloud-expressionWrap ng-show=showemoji><i class=rongcloud-arrow></i><emoji ng-repeat="item in emojiList" item=item content=msgvalue></emoji></div></div><div class=rongcloud-MessageForm-tool><i class="rongcloud-sprite rongcloud-iconfont-upload" id=upload-file style="position: relative; z-index: 1"></i></div></div><div class=rongcloud-mode2 ng-show="_inputPanelState==2"><a ng-click=switchPerson() id=chatSwitch class=rongcloud-chatSwitch>转人工服务</a></div></div><pre id=inputMsg class="rongcloud-text rongcloud-grey" contenteditable contenteditable-dire ng-focus="showemoji=fase" style="background-color: rgba(0,0,0,0);color:black" ctrl-enter-keys fun=send() ctrlenter=false placeholder=请输入文字... ondrop="return false" ng-model=currentConversation.messageContent></pre></div><div class=rongcloud-powBox><button type=button style="background-color: #0099ff" class="rongcloud-rong-btn rongcloud-rong-send-btn" id=rong-sendBtn ng-click=send()>发送</button></div></div></div></div></div>'),
    a.put("./src/ts/conversationlist/conversationList.tpl.html", '<div id=rong-conversation-list class="rongcloud-kefuListBox rongcloud-both"><div class=rongcloud-kefuList><div class="rongcloud-rong-header rongcloud-blueBg"><div class="rongcloud-toolBar rongcloud-headBtn"><div ng-show=config.voiceNotification class=rongcloud-voice ng-class="{\'rongcloud-voice-mute\':!data.voiceSound,\'rongcloud-voice-sound\':data.voiceSound}" ng-click="data.voiceSound=!data.voiceSound"></div><div class="rongcloud-sprite rongcloud-people"></div><span class=rongcloud-recent>最近联系人</span><div class="rongcloud-sprite rongcloud-arrow-down" style="cursor: pointer" ng-click=minbtn()></div></div></div><div class=rongcloud-content><div class=rongcloud-netStatus ng-hide=connected><div class=rongcloud-sprite></div><span>连接断开,请刷新重连</span></div><div><conversation-item ng-repeat="item in conversationListServer.conversationList" item=item></conversation-item></div></div></div></div>'),
    a.put("./src/ts/evaluate/evaluate.tpl.html", '<div class=rongcloud-layermbox ng-show=display><div class=rongcloud-laymshade></div><div class=rongcloud-layermmain><div class=rongcloud-section><div class=rongcloud-layermchild ng-show=!end><div class=rongcloud-layermcont><div class=rongcloud-type1 ng-show="type==1"><h4>&nbsp;评价客服</h4><div class=rongcloud-layerPanel1><div class=rongcloud-star><span ng-repeat="item in stars track by $index"><span ng-class="{\'rongcloud-star-on\':$index<data.stars,\'rongcloud-star-off\':$index>=data.stars}" ng-click=confirm($index+1)></span></span></div></div></div><div class=rongcloud-type2 ng-show="type==2"><h4>&nbsp;&nbsp;是否解决了您的问题 ？</h4><div class=rongcloud-layerPanel1><a class="rongcloud-rong-btn rongcloud-btnY" ng-class="{\'cur\':data.value===true}" href=javascript:void(0); ng-click=confirm(true)>是</a> <a class="rongcloud-rong-btn rongcloud-btnN" ng-class="{\'cur\':data.value===false}" href=javascript:void(0); ng-click=confirm(false)>否</a></div></div><div class=rongcloud-layerPanel2 ng-show=displayDescribe><p>是否有以下情况 ？</p><div class=rongcloud-labels><span ng-repeat="item in labels"><a class=rongcloud-rong-btn ng-class="{\'cur\':data.label==item}" ng-click="data.label=item" href="">{{item}}</a></span></div><div class=rongcloud-suggestBox><textarea name="" placeholder=欢迎给我们的服务提建议~ ng-model=data.describe></textarea></div><div class=rongcloud-subBox><a class=rongcloud-rong-btn href="" ng-click=commit()>提交评价</a></div></div></div><div class=rongcloud-layermbtn><span ng-click=confirm()>跳过</span><span ng-click=cancle()>取消</span></div></div><div class="rongcloud-layermchild rongcloud-feedback" ng-show=end><div class=rongcloud-layermcont>感谢您的反馈 ^ - ^ ！</div></div></div></div></div>'),
    a.put("./src/ts/main.tpl.html", '<div id=rong-widget-box class=rongcloud-container><div ng-show=main.display><rong-conversation></rong-conversation><rong-conversation-list></rong-conversation-list></div><div id=rong-widget-minbtn class="rongcloud-kefuBtnBox rongcloud-blueBg" ng-show=!main.display&&widgetConfig.displayMinButton ng-click=showbtn()><a class=rongcloud-kefuBtn href="javascript: void(0);"><div class="rongcloud-sprite rongcloud-people"></div><span class=rongcloud-recent ng-show="!data.totalUnreadCount||data.totalUnreadCount==0">{{widgetConfig.reminder||"最近联系人"}}</span> <span class=rongcloud-recent ng-show="data.totalUnreadCount>0"><span ng-show=twinkle>(您有未读消息)</span></span></a></div><audio id=rongcloud-playsound style="width: 0px;height: 0px;display: none" src="" controls></audio></div>')
}]),
function(a, b) {
    "undefined" != typeof module && module.exports ? module.exports = b() : "function" == typeof define && define.amd ? define(b) : this[a] = b()
} ("$script",
function() {
    function a(a, b) {
        for (var c = 0,
        d = a.length; d > c; ++c) if (!b(a[c])) return i;
        return 1
    }
    function b(b, c) {
        a(b,
        function(a) {
            return ! c(a)
        })
    }
    function c(f, g, h) {
        function i(a) {
            return a.call ? a() : m[a]
        }
        function k() {
            if (!--s) {
                m[r] = 1,
                q && q();
                for (var c in o) a(c.split("|"), i) && !b(o[c], i) && (o[c] = [])
            }
        }
        f = f[j] ? f: [f];
        var l = g && g.call,
        q = l ? g: h,
        r = l ? f.join("") : g,
        s = f.length;
        return setTimeout(function() {
            b(f,
            function a(b, c) {
                return null === b ? k() : (!c && !/^https?:\/\//.test(b) && e && (b = -1 === b.indexOf(".js") ? e + b + ".js": e + b), p[b] ? (r && (n[r] = 1), 2 == p[b] ? k() : setTimeout(function() {
                    a(b, !0)
                },
                0)) : (p[b] = 1, r && (n[r] = 1), d(b, k), void 0))
            })
        },
        0),
        c
    }
    function d(a, b) {
        var c, d = g.createElement("script");
        d.onload = d.onerror = d[l] = function() {
            d[k] && !/^c|loade/.test(d[k]) || c || (d.onload = d[l] = null, c = 1, p[a] = 2, b())
        },
        d.async = 1,
        d.src = f ? a + ( - 1 === a.indexOf("?") ? "?": "&") + f: a,
        h.insertBefore(d, h.lastChild)
    }
    var e, f, g = document,
    h = g.getElementsByTagName("head")[0],
    i = !1,
    j = "push",
    k = "readyState",
    l = "onreadystatechange",
    m = {},
    n = {},
    o = {},
    p = {};
    return c.get = d,
    c.order = function(a, b, d) { !
        function e(f) {
            f = a.shift(),
            a.length ? c(f, e) : c(f, b, d)
        } ()
    },
    c.path = function(a) {
        e = a
    },
    c.urlArgs = function(a) {
        f = a
    },
    c.ready = function(d, e, f) {
        d = d[j] ? d: [d];
        var g = [];
        return ! b(d,
        function(a) {
            m[a] || g[j](a)
        }) && a(d,
        function(a) {
            return m[a]
        }) ? e() : !
        function(a) {
            o[a] = o[a] || [],
            o[a][j](e),
            f && f(g)
        } (d.join("|")),
        c
    },
    c.done = function(a) {
        c([null], a)
    },
    c
});
var Qiniu = new QiniuJsSDK;